import{r as f,R as ie}from"./iframe-rb5u8kG-.js";import{E as he,c as dt,_ as De,I as bt,J as pt}from"./chunk-BGEKJ4Q5-DzVAaTre.js";import"./index-CX-lnvfg.js";function vt(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,o=f.createContext(void 0);o.displayName=r;function s(){var c;const l=f.useContext(o);if(!l&&t){const u=new Error(n);throw u.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,u,s),u}return l}return[o.Provider,s,o]}var[pn,vn]=vt({name:"ProviderContext",strict:!1});function $n(e){return f.forwardRef(e)}var gn=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((o,s)=>s in e?{...o,[s]:e[s]}:o,{});return n?[Object.keys(e).filter(s=>!t.includes(s)).reduce((s,c)=>({...s,[c]:e[c]}),{}),r]:[e,r]};const j=typeof document<"u"?ie.useLayoutEffect:()=>{};let pe=new Map;typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{pe.delete(e)});function $t(e,t){if(e===t)return e;let n=pe.get(e);if(n)return n.forEach(o=>o.current=t),t;let r=pe.get(t);return r?(r.forEach(o=>o.current=e),e):t}function Ve(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const h=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},S=e=>e&&"window"in e&&e.window===e?e:h(e).defaultView||window;function gt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Et(e){return gt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}function L(e,t){if(!he())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Et(n)?n=n.host:n=n.parentNode}return!1}const Y=(e=document)=>{var t;if(!he())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function T(e){return he()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function ne(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let o in r){let s=t[o],c=r[o];typeof s=="function"&&typeof c=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=Ve(s,c):(o==="className"||o==="UNSAFE_className")&&typeof s=="string"&&typeof c=="string"?t[o]=dt(s,c):o==="id"&&s&&c?t.id=$t(s,c):t[o]=c!==void 0?c:s}}return t}const yt=new Set(["id"]),mt=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),ht=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Tt=new Set(["dir","lang","hidden","inert","translate"]),Ie=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Pt=/^(data-.*)$/;function En(e,t={}){let{labelable:n,isLink:r,global:o,events:s=o,propNames:c}=t,l={};for(const u in e)Object.prototype.hasOwnProperty.call(e,u)&&(yt.has(u)||n&&mt.has(u)||r&&ht.has(u)||o&&Tt.has(u)||s&&(Ie.has(u)||u.endsWith("Capture")&&Ie.has(u.slice(0,-7)))||c?.has(u)||Pt.test(u))&&(l[u]=e[u]);return l}function U(e){if(wt())e.focus({preventScroll:!0});else{let t=Lt(e);e.focus(),xt(t)}}let q=null;function wt(){if(q==null){q=!1;try{document.createElement("div").focus({get preventScroll(){return q=!0,!0}})}catch{}}return q}function Lt(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function xt(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function ae(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function Te(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function A(e){let t=null;return()=>(t==null&&(t=e()),t)}const z=A(function(){return Te(/^Mac/i)}),St=A(function(){return Te(/^iPhone/i)}),Ge=A(function(){return Te(/^iPad/i)||z()&&navigator.maxTouchPoints>1}),Be=A(function(){return St()||Ge()}),Ct=A(function(){return ae(/AppleWebKit/i)&&!kt()}),kt=A(function(){return ae(/Chrome/i)}),je=A(function(){return ae(/Android/i)}),Ft=A(function(){return ae(/Firefox/i)}),Mt=f.createContext({isNative:!0,open:Ht,useHref:e=>e});function At(){return f.useContext(Mt)}function Dt(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function M(e,t,n=!0){var r,o;let{metaKey:s,ctrlKey:c,altKey:l,shiftKey:u}=t;Ft()&&(!((o=window.event)===null||o===void 0||(r=o.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(z()?s=!0:c=!0);let $=Ct()&&z()&&!Ge()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:c,altKey:l,shiftKey:u}):new MouseEvent("click",{metaKey:s,ctrlKey:c,altKey:l,shiftKey:u,detail:1,bubbles:!0,cancelable:!0});M.isOpening=n,U(e),e.dispatchEvent($),M.isOpening=!1}M.isOpening=!1;function It(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function Ht(e,t){It(e,n=>M(n,t))}function yn(e){let t=At();var n;const r=t.useHref((n=e?.href)!==null&&n!==void 0?n:"");return{href:e?.href?r:void 0,target:e?.target,rel:e?.rel,download:e?.download,ping:e?.ping,referrerPolicy:e?.referrerPolicy}}function mn(e,t,n,r){!t.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&Dt(e.currentTarget,e)&&n&&(e.preventDefault(),t.open(e.currentTarget,e,n,r))}let F=new Map,ve=new Set;function He(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let o=F.get(r.target);o||(o=new Set,F.set(r.target,o),r.target.addEventListener("transitioncancel",n,{once:!0})),o.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let o=F.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",n),F.delete(r.target)),F.size===0)){for(let s of ve)s();ve.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?He():document.addEventListener("DOMContentLoaded",He));function Kt(){for(const[e]of F)"isConnected"in e&&!e.isConnected&&F.delete(e)}function Ye(e){requestAnimationFrame(()=>{Kt(),F.size===0?e():ve.add(e)})}function Pe(){let e=f.useRef(new Map),t=f.useCallback((o,s,c,l)=>{let u=l?.once?(...$)=>{e.current.delete(c),c(...$)}:c;e.current.set(c,{type:s,eventTarget:o,fn:u,options:l}),o.addEventListener(s,u,l)},[]),n=f.useCallback((o,s,c,l)=>{var u;let $=((u=e.current.get(c))===null||u===void 0?void 0:u.fn)||c;o.removeEventListener(s,$,l),e.current.delete(c)},[]),r=f.useCallback(()=>{e.current.forEach((o,s)=>{n(o.eventTarget,o.type,s,o.options)})},[n]);return f.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}var de;const Ot=(de=ie.useInsertionEffect)!==null&&de!==void 0?de:j;function J(e){const t=f.useRef(null);return Ot(()=>{t.current=e},[e]),f.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}function ze(e,t){j(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Xe(e){return e.pointerType===""&&e.isTrusted?!0:je()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function _t(e){return!je()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const Rt=typeof Element<"u"&&"checkVisibility"in Element.prototype;function Ut(e){const t=S(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,o=n!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:s}=e.ownerDocument.defaultView;let{display:c,visibility:l}=s(e);o=c!=="none"&&l!=="hidden"&&l!=="collapse"}return o}function Nt(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function qe(e,t){return Rt?e.checkVisibility({visibilityProperty:!0})&&!e.closest("[data-react-aria-prevent-focus]"):e.nodeName!=="#comment"&&Ut(e)&&Nt(e,t)&&(!e.parentElement||qe(e.parentElement,e))}const Je=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],Wt=Je.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Je.push('[tabindex]:not([tabindex="-1"]):not([disabled])');function Vt(e){return e.matches(Wt)&&qe(e)&&!Gt(e)}function Gt(e){let t=e;for(;t!=null;){if(t instanceof t.ownerDocument.defaultView.HTMLElement&&t.inert)return!0;t=t.parentElement}return!1}function we(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Qe(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ze(e){let t=f.useRef({isFocused:!1,observer:null});return j(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),f.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=n.target,o=s=>{if(t.current.isFocused=!1,r.disabled){let c=we(s);e?.(c)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let c=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let re=!1;function Bt(e){for(;e&&!Vt(e);)e=e.parentElement;let t=S(e),n=t.document.activeElement;if(!n||n===e)return;re=!0;let r=!1,o=g=>{(g.target===n||r)&&g.stopImmediatePropagation()},s=g=>{(g.target===n||r)&&(g.stopImmediatePropagation(),!e&&!r&&(r=!0,U(n),u()))},c=g=>{(g.target===e||r)&&g.stopImmediatePropagation()},l=g=>{(g.target===e||r)&&(g.stopImmediatePropagation(),r||(r=!0,U(n),u()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",s,!0),t.addEventListener("focusin",l,!0),t.addEventListener("focus",c,!0);let u=()=>{cancelAnimationFrame($),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",s,!0),t.removeEventListener("focusin",l,!0),t.removeEventListener("focus",c,!0),re=!1,r=!1},$=requestAnimationFrame(u);return u}let _="default",$e="",te=new WeakMap;function jt(e){if(Be()){if(_==="default"){const t=h(e);$e=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}_="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";te.set(e,e.style[t]),e.style[t]="none"}}function Ke(e){if(Be()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{Ye(()=>{if(_==="restoring"){const t=h(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=$e||""),$e="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&te.has(e)){let t=te.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),te.delete(e)}}const et=ie.createContext({register:()=>{}});et.displayName="PressResponderContext";function Yt(e){let t=f.useContext(et);if(t){let{register:n,...r}=t;e=ne(r,e),n()}return ze(t,e.ref),e}var Q=new WeakMap;class Z{continuePropagation(){De(this,Q,!1)}get shouldStopPropagation(){return bt(this,Q)}constructor(t,n,r,o){pt(this,Q,{writable:!0,value:void 0}),De(this,Q,!0);var s;let c=(s=o?.target)!==null&&s!==void 0?s:r.currentTarget;const l=c?.getBoundingClientRect();let u,$=0,g,v=null;r.clientX!=null&&r.clientY!=null&&(g=r.clientX,v=r.clientY),l&&(g!=null&&v!=null?(u=g-l.left,$=v-l.top):(u=l.width/2,$=l.height/2)),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=u,this.y=$}}const Oe=Symbol("linkClicked"),_e="react-aria-pressable-style",Re="data-react-aria-pressable";function hn(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:o,onPressUp:s,onClick:c,isDisabled:l,isPressed:u,preventFocusOnPress:$,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:v,ref:x,...w}=Yt(e),[k,y]=f.useState(!1),m=f.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:P,removeAllGlobalListeners:C,removeGlobalListener:W}=Pe(),V=f.useCallback((i,d)=>{let a=m.current;if(l||a.didFirePressStart)return!1;let b=!0;if(a.isTriggeringEvent=!0,r){let E=new Z("pressstart",d,i);r(E),b=E.shouldStopPropagation}return n&&n(!0),a.isTriggeringEvent=!1,a.didFirePressStart=!0,y(!0),b},[l,r,n]),D=f.useCallback((i,d,a=!0)=>{let b=m.current;if(!b.didFirePressStart)return!1;b.didFirePressStart=!1,b.isTriggeringEvent=!0;let E=!0;if(o){let p=new Z("pressend",d,i);o(p),E=p.shouldStopPropagation}if(n&&n(!1),y(!1),t&&a&&!l){let p=new Z("press",d,i);t(p),E&&(E=p.shouldStopPropagation)}return b.isTriggeringEvent=!1,E},[l,o,n,t]),lt=J(D),G=f.useCallback((i,d)=>{let a=m.current;if(l)return!1;if(s){a.isTriggeringEvent=!0;let b=new Z("pressup",d,i);return s(b),a.isTriggeringEvent=!1,b.shouldStopPropagation}return!0},[l,s]),ct=J(G),O=f.useCallback(i=>{let d=m.current;if(d.isPressed&&d.target){d.didFirePressStart&&d.pointerType!=null&&D(H(d.target,i),d.pointerType,!1),d.isPressed=!1,Ae(null),d.isOverTarget=!1,d.activePointerId=null,d.pointerType=null,C(),v||Ke(d.target);for(let a of d.disposables)a();d.disposables=[]}},[v,C,D]),se=J(O),Se=f.useCallback(i=>{g&&O(i)},[g,O]),le=f.useCallback(i=>{l||c?.(i)},[l,c]),Ce=f.useCallback((i,d)=>{if(!l&&c){let a=new MouseEvent("click",i);Qe(a,d),c(we(a))}},[l,c]),ut=J(Ce),[ke,Fe]=f.useState(!1);j(()=>{let i=m.current;if(ke){let d=p=>{var I;if(i.isPressed&&i.target&&be(p,i.target)){var ce;Ue(T(p),p.key)&&p.preventDefault();let fe=T(p),X=L(i.target,T(p));lt(H(i.target,p),"keyboard",X),X&&ut(p,i.target),C(),p.key!=="Enter"&&Le(i.target)&&L(i.target,fe)&&!p[Oe]&&(p[Oe]=!0,M(i.target,p,!1)),i.isPressed=!1,Fe(!1),(ce=i.metaKeyEvents)===null||ce===void 0||ce.delete(p.key)}else if(p.key==="Meta"&&(!((I=i.metaKeyEvents)===null||I===void 0)&&I.size)){var ue;let fe=i.metaKeyEvents;i.metaKeyEvents=void 0;for(let X of fe.values())(ue=i.target)===null||ue===void 0||ue.dispatchEvent(new KeyboardEvent("keyup",X))}},a=i.target,E=Ve(p=>{a&&be(p,a)&&!p.repeat&&L(a,T(p))&&i.target&&ct(H(i.target,p),"keyboard")},d);return P(h(i.target),"keyup",E,!0),()=>{W(h(i.target),"keyup",E,!0)}}},[ke,P,C,W]);let[Me,Ae]=f.useState(null);j(()=>{let i=m.current;if(Me==="pointer"){let d=b=>{if(b.pointerId===i.activePointerId&&i.isPressed&&b.button===0&&i.target){if(L(i.target,T(b))&&i.pointerType!=null){let E=!1,p=setTimeout(()=>{i.isPressed&&i.target instanceof HTMLElement&&(E?se(b):(U(i.target),i.target.click()))},80);P(b.currentTarget,"click",()=>E=!0,!0),i.disposables.push(()=>clearTimeout(p))}else se(b);i.isOverTarget=!1}},a=b=>{se(b)};return P(h(i.target),"pointerup",d,!1),P(h(i.target),"pointercancel",a,!1),()=>{W(h(i.target),"pointerup",d,!1),W(h(i.target),"pointercancel",a,!1)}}},[Me,P,W]);let ft=f.useMemo(()=>{let i=m.current,d={onKeyDown(a){if(be(a.nativeEvent,a.currentTarget)&&L(a.currentTarget,T(a.nativeEvent))){var b;Ue(T(a.nativeEvent),a.key)&&a.preventDefault();let E=!0;!i.isPressed&&!a.repeat&&(i.target=a.currentTarget,i.isPressed=!0,Fe(!0),i.pointerType="keyboard",E=V(a,"keyboard")),E&&a.stopPropagation(),a.metaKey&&z()&&((b=i.metaKeyEvents)===null||b===void 0||b.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(i.metaKeyEvents=new Map)},onClick(a){if(!(a&&!L(a.currentTarget,T(a.nativeEvent)))&&a&&a.button===0&&!i.isTriggeringEvent&&!M.isOpening){let b=!0;if(l&&a.preventDefault(),!i.ignoreEmulatedMouseEvents&&!i.isPressed&&(i.pointerType==="virtual"||Xe(a.nativeEvent))){let E=V(a,"virtual"),p=G(a,"virtual"),I=D(a,"virtual");le(a),b=E&&p&&I}else if(i.isPressed&&i.pointerType!=="keyboard"){let E=i.pointerType||a.nativeEvent.pointerType||"virtual",p=G(H(a.currentTarget,a),E),I=D(H(a.currentTarget,a),E,!0);b=p&&I,i.isOverTarget=!1,le(a),O(a)}i.ignoreEmulatedMouseEvents=!1,b&&a.stopPropagation()}}};return typeof PointerEvent<"u"&&(d.onPointerDown=a=>{if(a.button!==0||!L(a.currentTarget,T(a.nativeEvent)))return;if(_t(a.nativeEvent)){i.pointerType="virtual";return}i.pointerType=a.pointerType;let b=!0;if(!i.isPressed){i.isPressed=!0,Ae("pointer"),i.isOverTarget=!0,i.activePointerId=a.pointerId,i.target=a.currentTarget,v||jt(i.target),b=V(a,i.pointerType);let E=T(a.nativeEvent);"releasePointerCapture"in E&&E.releasePointerCapture(a.pointerId)}b&&a.stopPropagation()},d.onMouseDown=a=>{if(L(a.currentTarget,T(a.nativeEvent))&&a.button===0){if($){let b=Bt(a.target);b&&i.disposables.push(b)}a.stopPropagation()}},d.onPointerUp=a=>{!L(a.currentTarget,T(a.nativeEvent))||i.pointerType==="virtual"||a.button===0&&!i.isPressed&&G(a,i.pointerType||a.pointerType)},d.onPointerEnter=a=>{a.pointerId===i.activePointerId&&i.target&&!i.isOverTarget&&i.pointerType!=null&&(i.isOverTarget=!0,V(H(i.target,a),i.pointerType))},d.onPointerLeave=a=>{a.pointerId===i.activePointerId&&i.target&&i.isOverTarget&&i.pointerType!=null&&(i.isOverTarget=!1,D(H(i.target,a),i.pointerType,!1),Se(a))},d.onDragStart=a=>{L(a.currentTarget,T(a.nativeEvent))&&O(a)}),d},[l,$,C,v,O,Se,D,V,G,le,Ce]);return f.useEffect(()=>{if(!x)return;const i=h(x.current);if(!i||!i.head||i.getElementById(_e))return;const d=i.createElement("style");d.id=_e,d.textContent=`
@layer {
  [${Re}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),i.head.prepend(d)},[x]),f.useEffect(()=>{let i=m.current;return()=>{var d;v||Ke((d=i.target)!==null&&d!==void 0?d:void 0);for(let a of i.disposables)a();i.disposables=[]}},[v]),{isPressed:u||k,pressProps:ne(w,ft,{[Re]:!0})}}function Le(e){return e.tagName==="A"&&e.hasAttribute("href")}function be(e,t){const{key:n,code:r}=e,o=t,s=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(o instanceof S(o).HTMLInputElement&&!tt(o,n)||o instanceof S(o).HTMLTextAreaElement||o.isContentEditable)&&!((s==="link"||!s&&Le(o))&&n!=="Enter")}function H(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function zt(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Le(e)}function Ue(e,t){return e instanceof HTMLInputElement?!tt(e,t):zt(e)}const Xt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tt(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Xt.has(e.type)}let N=null,ge=new Set,B=new Map,K=!1,Ee=!1;const qt={Tab:!0,Escape:!0};function xe(e,t){for(let n of ge)n(e,t)}function Jt(e){return!(e.metaKey||!z()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function oe(e){K=!0,!M.isOpening&&Jt(e)&&(N="keyboard",xe("keyboard",e))}function R(e){N="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(K=!0,xe("pointer",e))}function nt(e){!M.isOpening&&Xe(e)&&(K=!0,N="virtual")}function rt(e){e.target===window||e.target===document||re||!e.isTrusted||(!K&&!Ee&&(N="virtual",xe("virtual",e)),K=!1,Ee=!1)}function ot(){re||(K=!1,Ee=!0)}function ye(e){if(typeof window>"u"||typeof document>"u"||B.get(S(e)))return;const t=S(e),n=h(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){K=!0,r.apply(this,arguments)},n.addEventListener("keydown",oe,!0),n.addEventListener("keyup",oe,!0),n.addEventListener("click",nt,!0),t.addEventListener("focus",rt,!0),t.addEventListener("blur",ot,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",R,!0),n.addEventListener("pointermove",R,!0),n.addEventListener("pointerup",R,!0)),t.addEventListener("beforeunload",()=>{it(e)},{once:!0}),B.set(t,{focus:r})}const it=(e,t)=>{const n=S(e),r=h(e);t&&r.removeEventListener("DOMContentLoaded",t),B.has(n)&&(n.HTMLElement.prototype.focus=B.get(n).focus,r.removeEventListener("keydown",oe,!0),r.removeEventListener("keyup",oe,!0),r.removeEventListener("click",nt,!0),n.removeEventListener("focus",rt,!0),n.removeEventListener("blur",ot,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",R,!0),r.removeEventListener("pointermove",R,!0),r.removeEventListener("pointerup",R,!0)),B.delete(n))};function Qt(e){const t=h(e);let n;return t.readyState!=="loading"?ye(e):(n=()=>{ye(e)},t.addEventListener("DOMContentLoaded",n)),()=>it(e,n)}typeof document<"u"&&Qt();function at(){return N!=="pointer"}function Zt(){return N}const en=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tn(e,t,n){let r=h(n?.target);const o=typeof window<"u"?S(n?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?S(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?S(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?S(n?.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!en.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof c&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!qt[n.key])}function nn(e,t,n){ye(),f.useEffect(()=>{let r=(o,s)=>{tn(!!n?.isTextInput,o,s)&&e(at())};return ge.add(r),()=>{ge.delete(r)}},t)}function rn(e){const t=h(e);if(Zt()==="virtual"){let n=Y(t);Ye(()=>{const r=Y(t);(r===n||r===t.body)&&e.isConnected&&U(e)})}else U(e)}function st(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const s=f.useCallback(u=>{if(u.target===u.currentTarget)return r&&r(u),o&&o(!1),!0},[r,o]),c=Ze(s),l=f.useCallback(u=>{const $=h(u.target),g=$?Y($):Y();u.target===u.currentTarget&&g===T(u.nativeEvent)&&(n&&n(u),o&&o(!0),c(u))},[o,n,c]);return{focusProps:{onFocus:!t&&(n||o||r)?l:void 0,onBlur:!t&&(r||o)?s:void 0}}}function Ne(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(r),t&&n.stopPropagation()}}function on(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Ne(e.onKeyDown),onKeyUp:Ne(e.onKeyUp)}}}let an=ie.createContext(null);function sn(e){let t=f.useContext(an)||{};ze(t,e);let{ref:n,...r}=t;return r}function Tn(e,t){let{focusProps:n}=st(e),{keyboardProps:r}=on(e),o=ne(n,r),s=sn(t),c=e.isDisabled?{}:s,l=f.useRef(e.autoFocus);f.useEffect(()=>{l.current&&t.current&&rn(t.current),l.current=!1},[t]);let u=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(u=void 0),{focusableProps:ne({...o,tabIndex:u},c)}}function ln(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,s=f.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:l}=Pe(),u=f.useCallback(v=>{v.currentTarget.contains(v.target)&&s.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(s.current.isFocusWithin=!1,l(),n&&n(v),o&&o(!1))},[n,o,s,l]),$=Ze(u),g=f.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const x=h(v.target),w=Y(x);if(!s.current.isFocusWithin&&w===T(v.nativeEvent)){r&&r(v),o&&o(!0),s.current.isFocusWithin=!0,$(v);let k=v.currentTarget;c(x,"focus",y=>{if(s.current.isFocusWithin&&!L(k,y.target)){let m=new x.defaultView.FocusEvent("blur",{relatedTarget:y.target});Qe(m,k);let P=we(m);u(P)}},{capture:!0})}},[r,o,$,c,u]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:u}}}let me=!1,ee=0;function cn(){me=!0,setTimeout(()=>{me=!1},50)}function We(e){e.pointerType==="touch"&&cn()}function un(){if(!(typeof document>"u"))return ee===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",We),ee++,()=>{ee--,!(ee>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",We)}}function Pn(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[s,c]=f.useState(!1),l=f.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;f.useEffect(un,[]);let{addGlobalListener:u,removeAllGlobalListeners:$}=Pe(),{hoverProps:g,triggerHoverEnd:v}=f.useMemo(()=>{let x=(y,m)=>{if(l.pointerType=m,o||m==="touch"||l.isHovered||!y.currentTarget.contains(y.target))return;l.isHovered=!0;let P=y.currentTarget;l.target=P,u(h(y.target),"pointerover",C=>{l.isHovered&&l.target&&!L(l.target,C.target)&&w(C,C.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:P,pointerType:m}),n&&n(!0),c(!0)},w=(y,m)=>{let P=l.target;l.pointerType="",l.target=null,!(m==="touch"||!l.isHovered||!P)&&(l.isHovered=!1,$(),r&&r({type:"hoverend",target:P,pointerType:m}),n&&n(!1),c(!1))},k={};return typeof PointerEvent<"u"&&(k.onPointerEnter=y=>{me&&y.pointerType==="mouse"||x(y,y.pointerType)},k.onPointerLeave=y=>{!o&&y.currentTarget.contains(y.target)&&w(y,y.pointerType)}),{hoverProps:k,triggerHoverEnd:w}},[t,n,r,o,l,u,$]);return f.useEffect(()=>{o&&v({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:g,isHovered:s}}function wn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=f.useRef({isFocused:!1,isFocusVisible:t||at()}),[s,c]=f.useState(!1),[l,u]=f.useState(()=>o.current.isFocused&&o.current.isFocusVisible),$=f.useCallback(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),g=f.useCallback(w=>{o.current.isFocused=w,c(w),$()},[$]);nn(w=>{o.current.isFocusVisible=w,$()},[],{isTextInput:n});let{focusProps:v}=st({isDisabled:r,onFocusChange:g}),{focusWithinProps:x}=ln({isDisabled:!r,onFocusWithinChange:g});return{isFocused:s,isFocusVisible:l,focusProps:r?x:v}}export{j as $,pn as P,Be as a,Ve as b,vt as c,S as d,ne as e,$n as f,Pn as g,wn as h,J as i,hn as j,Tn as k,En as l,gn as m,h as n,ln as o,At as p,yn as q,mn as r,vn as u};
