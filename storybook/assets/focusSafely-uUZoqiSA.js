import{a as k,j as P,i as Le,p as Oe,q as Re,c as y,l as v,r as Ue,s as De,t as Ae,u as oe,o as Ne,k as le}from"./useFocusRing-CTo2e8po.js";import{o as _e,f as Pe,n as ce,j as q,h as Fe}from"./chunk-TRZPE5UW-BdIhqDBY.js";import{r as $,R as Ee}from"./iframe-rb5u8kG-.js";import{c as He,_ as fe,I as Ve,J as ze}from"./chunk-BGEKJ4Q5-DzVAaTre.js";import"./index-CX-lnvfg.js";function Ge(e){let[n,i]=$.useState(e),s=$.useRef(n),a=$.useRef(null),c=$.useRef(()=>{if(!a.current)return;let d=a.current.next();if(d.done){a.current=null;return}s.current===d.value?c.current():i(d.value)});k(()=>{s.current=n,a.current&&c.current()});let l=$.useCallback(d=>{a.current=d(s.current),c.current()},[c]);return[n,l]}let Ye=!!(typeof window<"u"&&window.document&&window.document.createElement),K=new Map,D;typeof FinalizationRegistry<"u"&&(D=new FinalizationRegistry(e=>{K.delete(e)}));function je(e){let[n,i]=$.useState(e),s=$.useRef(null),a=_e(n),c=$.useRef(null);if(D&&D.register(c,a),Ye){const l=K.get(a);l&&!l.includes(s)?l.push(s):K.set(a,[s])}return k(()=>{let l=a;return()=>{D&&D.unregister(c),K.delete(l)}},[a]),$.useEffect(()=>{let l=s.current;return l&&i(l),()=>{l&&(s.current=null)}}),a}function Be(e,n){if(e===n)return e;let i=K.get(e);if(i)return i.forEach(a=>a.current=n),n;let s=K.get(n);return s?(s.forEach(a=>a.current=e),e):n}function dt(e=[]){let n=je(),[i,s]=Ge(n),a=$.useCallback(()=>{s(function*(){yield n,yield document.getElementById(n)?n:void 0})},[n,s]);return k(a,[n,a,...e]),i}function me(...e){return(...n)=>{for(let i of e)typeof i=="function"&&i(...n)}}function Xe(...e){return e.length===1&&e[0]?e[0]:n=>{let i=!1;const s=e.map(a=>{const c=ue(a,n);return i||(i=typeof c=="function"),c});if(i)return()=>{s.forEach((a,c)=>{typeof a=="function"?a():ue(e[c],null)})}}}function ue(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Te(...e){let n={...e[0]};for(let i=1;i<e.length;i++){let s=e[i];for(let a in s){let c=n[a],l=s[a];typeof c=="function"&&typeof l=="function"&&a[0]==="o"&&a[1]==="n"&&a.charCodeAt(2)>=65&&a.charCodeAt(2)<=90?n[a]=me(c,l):(a==="className"||a==="UNSAFE_className")&&typeof c=="string"&&typeof l=="string"?n[a]=He(c,l):a==="id"&&c&&l?n.id=Be(c,l):a==="ref"&&c&&l?n.ref=Xe(c,l):n[a]=l!==void 0?l:c}}return n}const We=new Set(["id"]),qe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Je=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Qe=new Set(["dir","lang","hidden","inert","translate"]),de=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Ze=/^(data-.*)$/;function pt(e,n={}){let{labelable:i,isLink:s,global:a,events:c=a,propNames:l}=n,d={};for(const b in e)Object.prototype.hasOwnProperty.call(e,b)&&(We.has(b)||i&&qe.has(b)||s&&Je.has(b)||a&&Qe.has(b)||c&&(de.has(b)||b.endsWith("Capture")&&de.has(b.slice(0,-7)))||l?.has(b)||Ze.test(b))&&(d[b]=e[b]);return d}let m=new Map,J=new Set;function pe(){if(typeof window>"u")return;function e(s){return"propertyName"in s}let n=s=>{if(!e(s)||!s.target)return;let a=m.get(s.target);a||(a=new Set,m.set(s.target,a),s.target.addEventListener("transitioncancel",i,{once:!0})),a.add(s.propertyName)},i=s=>{if(!e(s)||!s.target)return;let a=m.get(s.target);if(a&&(a.delete(s.propertyName),a.size===0&&(s.target.removeEventListener("transitioncancel",i),m.delete(s.target)),m.size===0)){for(let c of J)c();J.clear()}};document.body.addEventListener("transitionrun",n),document.body.addEventListener("transitionend",i)}typeof document<"u"&&(document.readyState!=="loading"?pe():document.addEventListener("DOMContentLoaded",pe));function et(){for(const[e]of m)"isConnected"in e&&!e.isConnected&&m.delete(e)}function he(e){requestAnimationFrame(()=>{et(),m.size===0?e():J.add(e)})}var X;const tt=(X=Ee.useInsertionEffect)!==null&&X!==void 0?X:k;function N(e){const n=$.useRef(null);return tt(()=>{n.current=e},[e]),$.useCallback((...i)=>{const s=n.current;return s?.(...i)},[])}function rt(e,n){k(()=>{if(e&&e.ref&&n)return e.ref.current=n.current,()=>{e.ref&&(e.ref.current=null)}})}let M="default",Q="",H=new WeakMap;function nt(e){if(Pe()){if(M==="default"){const n=P(e);Q=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}M="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let n="userSelect"in e.style?"userSelect":"webkitUserSelect";H.set(e,e.style[n]),e.style[n]="none"}}function $e(e){if(Pe()){if(M!=="disabled")return;M="restoring",setTimeout(()=>{he(()=>{if(M==="restoring"){const n=P(e);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=Q||""),Q="",M="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&H.has(e)){let n=H.get(e),i="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[i]==="none"&&(e.style[i]=n),e.getAttribute("style")===""&&e.removeAttribute("style"),H.delete(e)}}const Se=Ee.createContext({register:()=>{}});Se.displayName="PressResponderContext";function at(e){let n=$.useContext(Se);if(n){let{register:i,ref:s,...a}=n;e=Te(a,e),i()}return rt(n,e.ref),e}var _=new WeakMap;class F{continuePropagation(){fe(this,_,!1)}get shouldStopPropagation(){return Ve(this,_)}constructor(n,i,s,a){ze(this,_,{writable:!0,value:void 0}),fe(this,_,!0);var c;let l=(c=a?.target)!==null&&c!==void 0?c:s.currentTarget;const d=l?.getBoundingClientRect();let b,x=0,C,g=null;s.clientX!=null&&s.clientY!=null&&(C=s.clientX,g=s.clientY),d&&(C!=null&&g!=null?(b=C-d.left,x=g-d.top):(b=d.width/2,x=d.height/2)),this.type=n,this.pointerType=i,this.target=s.currentTarget,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.x=b,this.y=x,this.key=s.key}}const be=Symbol("linkClicked"),ve="react-aria-pressable-style",ge="data-react-aria-pressable";function $t(e){let{onPress:n,onPressChange:i,onPressStart:s,onPressEnd:a,onPressUp:c,onClick:l,isDisabled:d,isPressed:b,preventFocusOnPress:x,shouldCancelOnPointerExit:C,allowTextSelectionOnPress:g,ref:V,...xe}=at(e),[Ce,ee]=$.useState(!1),E=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:w,removeAllGlobalListeners:L,removeGlobalListener:O}=Le(),R=$.useCallback((t,o)=>{let r=E.current;if(d||r.didFirePressStart)return!1;let f=!0;if(r.isTriggeringEvent=!0,s){let p=new F("pressstart",o,t);s(p),f=p.shouldStopPropagation}return i&&i(!0),r.isTriggeringEvent=!1,r.didFirePressStart=!0,ee(!0),f},[d,s,i]),T=$.useCallback((t,o,r=!0)=>{let f=E.current;if(!f.didFirePressStart)return!1;f.didFirePressStart=!1,f.isTriggeringEvent=!0;let p=!0;if(a){let u=new F("pressend",o,t);a(u),p=u.shouldStopPropagation}if(i&&i(!1),ee(!1),n&&r&&!d){let u=new F("press",o,t);n(u),p&&(p=u.shouldStopPropagation)}return f.isTriggeringEvent=!1,p},[d,a,i,n]),we=N(T),U=$.useCallback((t,o)=>{let r=E.current;if(d)return!1;if(c){r.isTriggeringEvent=!0;let f=new F("pressup",o,t);return c(f),r.isTriggeringEvent=!1,f.shouldStopPropagation}return!0},[d,c]),Ie=N(U),I=$.useCallback(t=>{let o=E.current;if(o.isPressed&&o.target){o.didFirePressStart&&o.pointerType!=null&&T(S(o.target,t),o.pointerType,!1),o.isPressed=!1,ie(null),o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,L(),g||$e(o.target);for(let r of o.disposables)r();o.disposables=[]}},[g,L,T]),z=N(I),te=$.useCallback(t=>{C&&I(t)},[C,I]),G=$.useCallback(t=>{d||l?.(t)},[d,l]),re=$.useCallback((t,o)=>{if(!d&&l){let r=new MouseEvent("click",t);Oe(r,o),l(Re(r))}},[d,l]),Me=N(re),[ne,ae]=$.useState(!1);k(()=>{let t=E.current;if(ne){let o=u=>{var h;if(t.isPressed&&t.target&&W(u,t.target)){var Y;ye(v(u),u.key)&&u.preventDefault();let B=v(u),A=y(t.target,v(u));we(S(t.target,u),"keyboard",A),A&&Me(u,t.target),L(),u.key!=="Enter"&&Z(t.target)&&y(t.target,B)&&!u[be]&&(u[be]=!0,ce(t.target,u,!1)),t.isPressed=!1,ae(!1),(Y=t.metaKeyEvents)===null||Y===void 0||Y.delete(u.key)}else if(u.key==="Meta"&&(!((h=t.metaKeyEvents)===null||h===void 0)&&h.size)){var j;let B=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let A of B.values())(j=t.target)===null||j===void 0||j.dispatchEvent(new KeyboardEvent("keyup",A))}},r=t.target,p=me(u=>{r&&W(u,r)&&!u.repeat&&y(r,v(u))&&t.target&&Ie(S(t.target,u),"keyboard")},o);return w(P(t.target),"keyup",p,!0),()=>{O(P(t.target),"keyup",p,!0)}}},[ne,w,L,O]);let[se,ie]=$.useState(null);k(()=>{let t=E.current;if(se==="pointer"){let o=f=>{if(f.pointerId===t.activePointerId&&t.isPressed&&f.button===0&&t.target){if(y(t.target,v(f))&&t.pointerType!=null){let p=!1,u=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(p?z(f):(q(t.target),t.target.click()))},80);w(f.currentTarget,"click",()=>p=!0,!0),t.disposables.push(()=>clearTimeout(u))}else z(f);t.isOverTarget=!1}},r=f=>{z(f)};return w(P(t.target),"pointerup",o,!1),w(P(t.target),"pointercancel",r,!1),()=>{O(P(t.target),"pointerup",o,!1),O(P(t.target),"pointercancel",r,!1)}}},[se,w,O]);let Ke=$.useMemo(()=>{let t=E.current,o={onKeyDown(r){if(W(r.nativeEvent,r.currentTarget)&&y(r.currentTarget,v(r.nativeEvent))){var f;ye(v(r.nativeEvent),r.key)&&r.preventDefault();let p=!0;!t.isPressed&&!r.repeat&&(t.target=r.currentTarget,t.isPressed=!0,ae(!0),t.pointerType="keyboard",p=R(r,"keyboard")),p&&r.stopPropagation(),r.metaKey&&Fe()&&((f=t.metaKeyEvents)===null||f===void 0||f.set(r.key,r.nativeEvent))}else r.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(r){if(!(r&&!y(r.currentTarget,v(r.nativeEvent)))&&r&&r.button===0&&!t.isTriggeringEvent&&!ce.isOpening){let f=!0;if(d&&r.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Ae(r.nativeEvent))){let p=R(r,"virtual"),u=U(r,"virtual"),h=T(r,"virtual");G(r),f=p&&u&&h}else if(t.isPressed&&t.pointerType!=="keyboard"){let p=t.pointerType||r.nativeEvent.pointerType||"virtual",u=U(S(r.currentTarget,r),p),h=T(S(r.currentTarget,r),p,!0);f=u&&h,t.isOverTarget=!1,G(r),I(r)}t.ignoreEmulatedMouseEvents=!1,f&&r.stopPropagation()}}};return typeof PointerEvent<"u"&&(o.onPointerDown=r=>{if(r.button!==0||!y(r.currentTarget,v(r.nativeEvent)))return;if(Ue(r.nativeEvent)){t.pointerType="virtual";return}t.pointerType=r.pointerType;let f=!0;if(!t.isPressed){t.isPressed=!0,ie("pointer"),t.isOverTarget=!0,t.activePointerId=r.pointerId,t.target=r.currentTarget,g||nt(t.target),f=R(r,t.pointerType);let p=v(r.nativeEvent);"releasePointerCapture"in p&&("hasPointerCapture"in p?p.hasPointerCapture(r.pointerId)&&p.releasePointerCapture(r.pointerId):p.releasePointerCapture(r.pointerId))}f&&r.stopPropagation()},o.onMouseDown=r=>{if(y(r.currentTarget,v(r.nativeEvent))&&r.button===0){if(x){let f=De(r.target);f&&t.disposables.push(f)}r.stopPropagation()}},o.onPointerUp=r=>{!y(r.currentTarget,v(r.nativeEvent))||t.pointerType==="virtual"||r.button===0&&!t.isPressed&&U(r,t.pointerType||r.pointerType)},o.onPointerEnter=r=>{r.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,R(S(t.target,r),t.pointerType))},o.onPointerLeave=r=>{r.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,T(S(t.target,r),t.pointerType,!1),te(r))},o.onDragStart=r=>{y(r.currentTarget,v(r.nativeEvent))&&I(r)}),o},[d,x,L,g,I,te,T,R,U,G,re]);return $.useEffect(()=>{if(!V)return;const t=P(V.current);if(!t||!t.head||t.getElementById(ve))return;const o=t.createElement("style");o.id=ve,o.textContent=`
@layer {
  [${ge}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),t.head.prepend(o)},[V]),$.useEffect(()=>{let t=E.current;return()=>{var o;g||$e((o=t.target)!==null&&o!==void 0?o:void 0);for(let r of t.disposables)r();t.disposables=[]}},[g]),{isPressed:b||Ce,pressProps:Te(xe,Ke,{[ge]:!0})}}function Z(e){return e.tagName==="A"&&e.hasAttribute("href")}function W(e,n){const{key:i,code:s}=e,a=n,c=a.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||s==="Space")&&!(a instanceof oe(a).HTMLInputElement&&!ke(a,i)||a instanceof oe(a).HTMLTextAreaElement||a.isContentEditable)&&!((c==="link"||!c&&Z(a))&&i!=="Enter")}function S(e,n){let i=n.clientX,s=n.clientY;return{currentTarget:e,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:s,key:n.key}}function st(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Z(e)}function ye(e,n){return e instanceof HTMLInputElement?!ke(e,n):st(e)}const it=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ke(e,n){return e.type==="checkbox"||e.type==="radio"?n===" ":it.has(e.type)}function bt(e){const n=P(e);if(Ne()==="virtual"){let i=le(n);he(()=>{const s=le(n);(s===i||s===n.body)&&e.isConnected&&q(e)})}else q(e)}export{N as $,je as a,pt as b,Te as c,me as d,bt as e,$t as f,dt as g,rt as h,Se as i};
