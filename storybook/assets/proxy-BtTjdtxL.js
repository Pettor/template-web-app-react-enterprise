import{r,j as v}from"./iframe-rb5u8kG-.js";import{i as z,g as ct,s as K,a as X,b as G,c as Y,d as lt,e as ft,f as dt,h as ht,r as mt,j as pt,k as yt,l as gt,m as Ct,n as xt,o as Mt}from"./resolve-motion-value-BAmjP_zU.js";const Z=r.createContext({});function k(t){const e=r.useRef(null);return e.current===null&&(e.current=t()),e.current}const J=typeof window<"u",Q=J?r.useLayoutEffect:r.useEffect,b=r.createContext(null),H=r.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function N(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wt(...t){return e=>{let n=!1;const o=t.map(i=>{const s=N(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<o.length;i++){const s=o[i];typeof s=="function"?s():N(t[i],null)}}}}function Pt(...t){return r.useCallback(wt(...t),t)}class St extends r.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=n.offsetParent,i=z(o)&&o.offsetWidth||0,s=z(o)&&o.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function vt({children:t,isPresent:e,anchorX:n,anchorY:o,root:i,pop:s}){const a=r.useId(),f=r.useRef(null),p=r.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=r.useContext(H),l=t.props?.ref??t?.ref,d=Pt(f,l);return r.useInsertionEffect(()=>{const{width:c,height:h,top:u,left:y,right:x,bottom:w}=p.current;if(e||s===!1||!f.current||!c||!h)return;const M=n==="left"?`left: ${y}`:`right: ${x}`,P=o==="bottom"?`bottom: ${w}`:`top: ${u}`;f.current.dataset.motionPopId=a;const C=document.createElement("style");m&&(C.nonce=m);const R=i??document.head;return R.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${M}px !important;
            ${P}px !important;
          }
        `),()=>{R.contains(C)&&R.removeChild(C)}},[e]),v.jsx(St,{isPresent:e,childRef:f,sizeRef:p,pop:s,children:s===!1?t:r.cloneElement(t,{ref:d})})}const Rt=({children:t,initial:e,isPresent:n,onExitComplete:o,custom:i,presenceAffectsLayout:s,mode:a,anchorX:f,anchorY:p,root:m})=>{const l=k(Vt),d=r.useId();let c=!0,h=r.useMemo(()=>(c=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:u=>{l.set(u,!0);for(const y of l.values())if(!y)return;o&&o()},register:u=>(l.set(u,!1),()=>l.delete(u))}),[n,l,o]);return s&&c&&(h={...h}),r.useMemo(()=>{l.forEach((u,y)=>l.set(y,!1))},[n]),r.useEffect(()=>{!n&&!l.size&&o&&o()},[n]),t=v.jsx(vt,{pop:a==="popLayout",isPresent:n,anchorX:f,anchorY:p,root:m,children:t}),v.jsx(b.Provider,{value:h,children:t})};function Vt(){return new Map}function bt(t=!0){const e=r.useContext(b);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:i}=e,s=r.useId();r.useEffect(()=>{if(t)return i(s)},[t]);const a=r.useCallback(()=>t&&o&&o(s),[s,o,t]);return!n&&o?[!1,a]:[!0]}function oe(){return jt(r.useContext(b))}function jt(t){return t===null?!0:t.isPresent}const j=t=>t.key||"";function B(t){const e=[];return r.Children.forEach(t,n=>{r.isValidElement(n)&&e.push(n)}),e}const re=({children:t,custom:e,initial:n=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:f="left",anchorY:p="top",root:m})=>{const[l,d]=bt(a),c=r.useMemo(()=>B(t),[t]),h=a&&!l?[]:c.map(j),u=r.useRef(!0),y=r.useRef(c),x=k(()=>new Map),w=r.useRef(new Set),[M,P]=r.useState(c),[C,R]=r.useState(c);Q(()=>{u.current=!1,y.current=c;for(let S=0;S<C.length;S++){const g=j(C[S]);h.includes(g)?(x.delete(g),w.current.delete(g)):x.get(g)!==!0&&x.set(g,!1)}},[C,h.length,h.join("-")]);const A=[];if(c!==M){let S=[...c];for(let g=0;g<C.length;g++){const V=C[g],T=j(V);h.includes(T)||(S.splice(g,0,V),A.push(V))}return s==="wait"&&A.length&&(S=A),R(B(S)),P(c),null}const{forceRender:at}=r.useContext(Z);return v.jsx(v.Fragment,{children:C.map(S=>{const g=j(S),V=a&&!l?!1:c===C||h.includes(g),T=()=>{if(w.current.has(g))return;if(w.current.add(g),x.has(g))x.set(g,!0);else return;let W=!0;x.forEach(ut=>{ut||(W=!1)}),W&&(at?.(),R(y.current),a&&d?.(),o&&o())};return v.jsx(Rt,{isPresent:V,initial:!u.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:m,onExitComplete:V?void 0:T,anchorX:f,anchorY:p,children:S},g)})})},$=r.createContext({strict:!1}),U={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _=!1;function Lt(){if(_)return;const t={};for(const e in U)t[e]={isEnabled:n=>U[e].some(o=>!!n[o])};K(t),_=!0}function tt(){return Lt(),ct()}function D(t){const e=tt();for(const n in t)e[n]={...e[n],...t[n]};K(e)}function se({children:t,features:e,strict:n=!1}){const[,o]=r.useState(!I(e)),i=r.useRef(void 0);if(!I(e)){const{renderer:s,...a}=e;i.current=s,D(a)}return r.useEffect(()=>{I(e)&&e().then(({renderer:s,...a})=>{D(a),i.current=s,o(!0)})},[]),v.jsx($.Provider,{value:{renderer:i.current,strict:n},children:t})}function I(t){return typeof t=="function"}const Et=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function L(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Et.has(t)}let et=t=>!L(t);function At(t){typeof t=="function"&&(et=e=>e.startsWith("on")?!L(e):t(e))}try{At(require("@emotion/is-prop-valid").default)}catch{}function Tt(t,e,n){const o={};for(const i in t)i==="values"&&typeof t.values=="object"||(et(i)||n===!0&&L(i)||!e&&!L(i)||t.draggable&&i.startsWith("onDrag"))&&(o[i]=t[i]);return o}const E=r.createContext({});function It(t,e){if(X(t)){const{initial:n,animate:o}=t;return{initial:n===!1||G(n)?n:void 0,animate:G(o)?o:void 0}}return t.inherit!==!1?e:{}}function Ft(t){const{initial:e,animate:n}=It(t,r.useContext(E));return r.useMemo(()=>({initial:e,animate:n}),[q(e),q(n)])}function q(t){return Array.isArray(t)?t.join(" "):t}const O=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nt(t,e,n){for(const o in e)!Y(e[o])&&!lt(o,n)&&(t[o]=e[o])}function Dt({transformTemplate:t},e){return r.useMemo(()=>{const n=O();return ft(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kt(t,e){const n=t.style||{},o={};return nt(o,n,t),Object.assign(o,Dt(t,e)),o}function Ht(t,e){const n={},o=kt(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=o,n}const ot=()=>({...O(),attrs:{}});function $t(t,e,n,o){const i=r.useMemo(()=>{const s=ot();return dt(s,e,ht(o),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nt(s,t.style,t),i.style={...s,...i.style}}return i}const Ot=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rt(t){return typeof t!="string"||t.includes("-")?!1:!!(Ot.indexOf(t)>-1||/[A-Z]/u.test(t))}function Wt(t,e,n,{latestValues:o},i,s=!1,a){const p=(a??rt(t)?$t:Ht)(e,o,i,t),m=Tt(e,typeof t=="string",s),l=t!==r.Fragment?{...m,...p,ref:n}:{},{children:d}=e,c=r.useMemo(()=>Y(d)?d.get():d,[d]);return r.createElement(t,{...l,children:c})}function zt({scrapeMotionValuesFromProps:t,createRenderState:e},n,o,i){return{latestValues:Gt(n,o,i,t),renderState:e()}}function Gt(t,e,n,o){const i={},s=o(t,{});for(const c in s)i[c]=mt(s[c]);let{initial:a,animate:f}=t;const p=X(t),m=pt(t);e&&m&&!p&&t.inherit!==!1&&(a===void 0&&(a=e.initial),f===void 0&&(f=e.animate));let l=n?n.initial===!1:!1;l=l||a===!1;const d=l?f:a;if(d&&typeof d!="boolean"&&!yt(d)){const c=Array.isArray(d)?d:[d];for(let h=0;h<c.length;h++){const u=gt(t,c[h]);if(u){const{transitionEnd:y,transition:x,...w}=u;for(const M in w){let P=w[M];if(Array.isArray(P)){const C=l?P.length-1:0;P=P[C]}P!==null&&(i[M]=P)}for(const M in y)i[M]=y[M]}}}return i}const st=t=>(e,n)=>{const o=r.useContext(E),i=r.useContext(b),s=()=>zt(t,e,o,i);return n?s():k(s)},Nt=st({scrapeMotionValuesFromProps:Ct,createRenderState:O}),Bt=st({scrapeMotionValuesFromProps:xt,createRenderState:ot}),Ut=Symbol.for("motionComponentSymbol");function _t(t,e,n){const o=r.useRef(n);r.useInsertionEffect(()=>{o.current=n});const i=r.useRef(null);return r.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=o.current;if(typeof a=="function")if(s){const f=a(s);typeof f=="function"&&(i.current=f)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const qt=r.createContext({});function Kt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Xt(t,e,n,o,i,s){const{visualElement:a}=r.useContext(E),f=r.useContext($),p=r.useContext(b),m=r.useContext(H),l=m.reducedMotion,d=m.skipAnimations,c=r.useRef(null),h=r.useRef(!1);o=o||f.renderer,!c.current&&o&&(c.current=o(t,{visualState:e,parent:a,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:l,skipAnimations:d,isSVG:s}),h.current&&c.current&&(c.current.manuallyAnimateOnMount=!0));const u=c.current,y=r.useContext(qt);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Yt(c.current,n,i,y);const x=r.useRef(!1);r.useInsertionEffect(()=>{u&&x.current&&u.update(n,p)});const w=n[Mt],M=r.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Q(()=>{h.current=!0,u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),M.current&&u.animationState&&u.animationState.animateChanges())}),r.useEffect(()=>{u&&(!M.current&&u.animationState&&u.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),M.current=!1),u.enteringChildren=void 0)}),u}function Yt(t,e,n,o){const{layoutId:i,layout:s,drag:a,dragConstraints:f,layoutScroll:p,layoutRoot:m,layoutCrossfade:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:it(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||f&&Kt(f),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,crossfade:l,layoutScroll:p,layoutRoot:m})}function it(t){if(t)return t.options.allowProjection!==!1?t.projection:it(t.parent)}function F(t,{forwardMotionProps:e=!1,type:n}={},o,i){o&&D(o);const s=n?n==="svg":rt(t),a=s?Bt:Nt;function f(m,l){let d;const c={...r.useContext(H),...m,layoutId:Zt(m)},{isStatic:h}=c,u=Ft(m),y=a(m,h);if(!h&&J){Jt();const x=Qt(c);d=x.MeasureLayout,u.visualElement=Xt(t,y,c,i,x.ProjectionNode,s)}return v.jsxs(E.Provider,{value:u,children:[d&&u.visualElement?v.jsx(d,{visualElement:u.visualElement,...c}):null,Wt(t,m,_t(y,u.visualElement,l),y,h,e,s)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=r.forwardRef(f);return p[Ut]=t,p}function Zt({layoutId:t}){const e=r.useContext(Z).id;return e&&t!==void 0?e+"-"+t:t}function Jt(t,e){r.useContext($).strict}function Qt(t){const e=tt(),{drag:n,layout:o}=e;if(!n&&!o)return{};const i={...n,...o};return{MeasureLayout:n?.isEnabled(t)||o?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function te(t,e){if(typeof Proxy>"u")return F;const n=new Map,o=(s,a)=>F(s,a,t,e),i=(s,a)=>o(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?o:(n.has(a)||n.set(a,F(a,void 0,t,e)),n.get(a))})}const ie=te();export{re as A,se as L,H as M,b as P,qt as S,Z as a,k as b,bt as c,te as d,Ut as e,st as f,E as g,vt as h,Kt as i,Rt as j,Tt as k,At as l,ie as m,J as n,Pt as o,oe as p,L as q,rt as r,Q as u};
