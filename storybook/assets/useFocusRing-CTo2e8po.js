import{R as Z,r as c}from"./iframe-rb5u8kG-.js";import{a as j,j as G,n as N,g as ee,h as te}from"./chunk-TRZPE5UW-BdIhqDBY.js";import{E as O}from"./chunk-BGEKJ4Q5-DzVAaTre.js";const ne=typeof document<"u"?Z.useLayoutEffect:()=>{},m=e=>{var n;return(n=e?.ownerDocument)!==null&&n!==void 0?n:document},v=e=>e&&"window"in e&&e.window===e?e:m(e).defaultView||window;function re(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function oe(e){return re(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}function y(e,n){if(!O())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:oe(t)?t=t.host:t=t.parentNode}return!1}const I=(e=document)=>{var n;if(!O())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function K(e){return O()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function _(){let e=c.useRef(new Map),n=c.useCallback((o,a,s,i)=>{let u=i?.once?(...f)=>{e.current.delete(s),s(...f)}:s;e.current.set(s,{type:a,eventTarget:o,fn:u,options:i}),o.addEventListener(a,u,i)},[]),t=c.useCallback((o,a,s,i)=>{var u;let f=((u=e.current.get(s))===null||u===void 0?void 0:u.fn)||s;o.removeEventListener(a,f,i),e.current.delete(s)},[]),r=c.useCallback(()=>{e.current.forEach((o,a)=>{t(o.eventTarget,o.type,a,o.options)})},[t]);return c.useEffect(()=>r,[r]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:r}}function ie(e){return e.pointerType===""&&e.isTrusted?!0:j()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function xe(e){return!j()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const ae=typeof Element<"u"&&"checkVisibility"in Element.prototype;function ue(e){const n=v(e);if(!(e instanceof n.HTMLElement)&&!(e instanceof n.SVGElement))return!1;let{display:t,visibility:r}=e.style,o=t!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:a}=e.ownerDocument.defaultView;let{display:s,visibility:i}=a(e);o=s!=="none"&&i!=="hidden"&&i!=="collapse"}return o}function se(e,n){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&n&&n.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function W(e,n){return ae?e.checkVisibility({visibilityProperty:!0})&&!e.closest("[data-react-aria-prevent-focus]"):e.nodeName!=="#comment"&&ue(e)&&se(e,n)&&(!e.parentElement||W(e.parentElement,e))}const B=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],ce=B.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";B.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const de=B.join(':not([hidden]):not([tabindex="-1"]),');function fe(e){return e.matches(ce)&&W(e)&&!U(e)}function Me(e){return e.matches(de)&&W(e)&&!U(e)}function U(e){let n=e;for(;n!=null;){if(n instanceof n.ownerDocument.defaultView.HTMLElement&&n.inert)return!0;n=n.parentElement}return!1}function q(e){let n=e;return n.nativeEvent=e,n.isDefaultPrevented=()=>n.defaultPrevented,n.isPropagationStopped=()=>n.cancelBubble,n.persist=()=>{},n}function le(e,n){Object.defineProperty(e,"target",{value:n}),Object.defineProperty(e,"currentTarget",{value:n})}function Y(e){let n=c.useRef({isFocused:!1,observer:null});return ne(()=>{const t=n.current;return()=>{t.observer&&(t.observer.disconnect(),t.observer=null)}},[]),c.useCallback(t=>{if(t.target instanceof HTMLButtonElement||t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){n.current.isFocused=!0;let r=t.target,o=a=>{if(n.current.isFocused=!1,r.disabled){let s=q(a);e?.(s)}n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&r.disabled){var a;(a=n.current.observer)===null||a===void 0||a.disconnect();let s=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),n.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let H=!1;function He(e){for(;e&&!fe(e);)e=e.parentElement;let n=v(e),t=n.document.activeElement;if(!t||t===e)return;H=!0;let r=!1,o=d=>{(d.target===t||r)&&d.stopImmediatePropagation()},a=d=>{(d.target===t||r)&&(d.stopImmediatePropagation(),!e&&!r&&(r=!0,G(t),u()))},s=d=>{(d.target===e||r)&&d.stopImmediatePropagation()},i=d=>{(d.target===e||r)&&(d.stopImmediatePropagation(),r||(r=!0,G(t),u()))};n.addEventListener("blur",o,!0),n.addEventListener("focusout",a,!0),n.addEventListener("focusin",i,!0),n.addEventListener("focus",s,!0);let u=()=>{cancelAnimationFrame(f),n.removeEventListener("blur",o,!0),n.removeEventListener("focusout",a,!0),n.removeEventListener("focusin",i,!0),n.removeEventListener("focus",s,!0),H=!1,r=!1},f=requestAnimationFrame(u);return u}let E=null;const x=new Set;let F=new Map,L=!1,V=!1;const be={Tab:!0,Escape:!0};function k(e,n){for(let t of x)t(e,n)}function $e(e){return!(e.metaKey||!te()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function P(e){L=!0,!N.isOpening&&$e(e)&&(E="keyboard",k("keyboard",e))}function w(e){E="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(L=!0,k("pointer",e))}function z(e){!N.isOpening&&ie(e)&&(L=!0,E="virtual")}function J(e){e.target===window||e.target===document||H||!e.isTrusted||(!L&&!V&&(E="virtual",k("virtual",e)),L=!1,V=!1)}function Q(){H||(L=!1,V=!0)}function C(e){if(typeof window>"u"||typeof document>"u"||F.get(v(e)))return;const n=v(e),t=m(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){L=!0,r.apply(this,arguments)},t.addEventListener("keydown",P,!0),t.addEventListener("keyup",P,!0),t.addEventListener("click",z,!0),n.addEventListener("focus",J,!0),n.addEventListener("blur",Q,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",w,!0),t.addEventListener("pointermove",w,!0),t.addEventListener("pointerup",w,!0)),n.addEventListener("beforeunload",()=>{X(e)},{once:!0}),F.set(n,{focus:r})}const X=(e,n)=>{const t=v(e),r=m(e);n&&r.removeEventListener("DOMContentLoaded",n),F.has(t)&&(t.HTMLElement.prototype.focus=F.get(t).focus,r.removeEventListener("keydown",P,!0),r.removeEventListener("keyup",P,!0),r.removeEventListener("click",z,!0),t.removeEventListener("focus",J,!0),t.removeEventListener("blur",Q,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",w,!0),r.removeEventListener("pointermove",w,!0),r.removeEventListener("pointerup",w,!0)),F.delete(t))};function pe(e){const n=m(e);let t;return n.readyState!=="loading"?C(e):(t=()=>{C(e)},n.addEventListener("DOMContentLoaded",t)),()=>X(e,t)}typeof document<"u"&&pe();function A(){return E!=="pointer"}function Pe(){return E}function Ce(e){E=e,k(e,null)}function ke(){C();let[e,n]=c.useState(E);return c.useEffect(()=>{let t=()=>{n(E)};return x.add(t),()=>{x.delete(t)}},[]),ee()?null:e}const ve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ee(e,n,t){let r=m(t?.target);const o=typeof window<"u"?v(t?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?v(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?v(t?.target).HTMLElement:HTMLElement,i=typeof window<"u"?v(t?.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!ve.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof i&&!be[t.key])}function me(e,n,t){C(),c.useEffect(()=>{if(t?.enabled===!1)return;let r=(o,a)=>{Ee(!!t?.isTextInput,o,a)&&e(A())};return x.add(r),()=>{x.delete(r)}},n)}function ge(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const a=c.useCallback(u=>{if(u.target===u.currentTarget)return r&&r(u),o&&o(!1),!0},[r,o]),s=Y(a),i=c.useCallback(u=>{const f=m(u.target),d=f?I(f):I();u.target===u.currentTarget&&d===K(u.nativeEvent)&&(t&&t(u),o&&o(!0),s(u))},[o,t,s]);return{focusProps:{onFocus:!n&&(t||o||r)?i:void 0,onBlur:!n&&(r||o)?a:void 0}}}function he(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,a=c.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:i}=_(),u=c.useCallback(l=>{y(l.currentTarget,l.target)&&a.current.isFocusWithin&&!y(l.currentTarget,l.relatedTarget)&&(a.current.isFocusWithin=!1,i(),t&&t(l),o&&o(!1))},[t,o,a,i]),f=Y(u),d=c.useCallback(l=>{if(!y(l.currentTarget,l.target))return;const g=m(l.target),$=I(g);if(!a.current.isFocusWithin&&$===K(l.nativeEvent)){r&&r(l),o&&o(!0),a.current.isFocusWithin=!0,f(l);let T=l.currentTarget;s(g,"focus",b=>{if(a.current.isFocusWithin&&!y(T,b.target)){let p=new g.defaultView.FocusEvent("blur",{relatedTarget:b.target});le(p,T);let h=q(p);u(h)}},{capture:!0})}},[r,o,f,s,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:u}}}let D=!1,M=0;function ye(){D=!0,setTimeout(()=>{D=!1},50)}function R(e){e.pointerType==="touch"&&ye()}function Le(){if(!(typeof document>"u"))return M===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",R),M++,()=>{M--,!(M>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",R)}}function Se(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[a,s]=c.useState(!1),i=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(Le,[]);let{addGlobalListener:u,removeAllGlobalListeners:f}=_(),{hoverProps:d,triggerHoverEnd:l}=c.useMemo(()=>{let g=(b,p)=>{if(i.pointerType=p,o||p==="touch"||i.isHovered||!y(b.currentTarget,b.target))return;i.isHovered=!0;let h=b.currentTarget;i.target=h,u(m(b.target),"pointerover",S=>{i.isHovered&&i.target&&!y(i.target,S.target)&&$(S,S.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:h,pointerType:p}),t&&t(!0),s(!0)},$=(b,p)=>{let h=i.target;i.pointerType="",i.target=null,!(p==="touch"||!i.isHovered||!h)&&(i.isHovered=!1,f(),r&&r({type:"hoverend",target:h,pointerType:p}),t&&t(!1),s(!1))},T={};return typeof PointerEvent<"u"&&(T.onPointerEnter=b=>{D&&b.pointerType==="mouse"||g(b,b.pointerType)},T.onPointerLeave=b=>{!o&&y(b.currentTarget,b.target)&&$(b,b.pointerType)}),{hoverProps:T,triggerHoverEnd:$}},[n,t,r,o,i,u,f]);return c.useEffect(()=>{o&&l({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:d,isHovered:a}}function Ie(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=c.useRef({isFocused:!1,isFocusVisible:n||A()}),[a,s]=c.useState(!1),[i,u]=c.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=c.useCallback(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),d=c.useCallback($=>{o.current.isFocused=$,o.current.isFocusVisible=A(),s($),f()},[f]);me($=>{o.current.isFocusVisible=$,f()},[t,a],{enabled:a,isTextInput:t});let{focusProps:l}=ge({isDisabled:r,onFocusChange:d}),{focusWithinProps:g}=he({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:i,focusProps:r?g:l}}export{Ie as $,ne as a,ke as b,y as c,A as d,Se as e,he as f,ge as g,Ce as h,_ as i,m as j,I as k,K as l,Me as m,fe as n,Pe as o,le as p,q,xe as r,He as s,ie as t,v as u};
