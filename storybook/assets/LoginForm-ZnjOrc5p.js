import{r as s,u as b,j as e}from"./iframe-c1YiYtnK.js";import{o as x,b as w,s as j,e as F,u as v,F as L,I as m}from"./InputField-L-eWcmqs.js";import{F as y}from"./EnvelopeIcon-w0VcgXks.js";import{c as M}from"./chunk-XJ2YRSUP-BhJYU7AZ.js";import{l as c}from"./chunk-JOT4BT4P-CdcLp0hz.js";import{b as k}from"./chunk-WBUKVQRU-cirVA12E.js";function E({title:r,titleId:a,...i},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const S=s.forwardRef(E);function C({title:r,titleId:a,...i},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const N=s.forwardRef(C);function R({title:r,titleId:a,...i},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const _=s.forwardRef(R);function P({loading:r,error:a,onForgotPassword:i,onSignUp:n,onSubmit:u}){const o=b(),[d,p]=s.useState(!1);function g(){p(!d)}const f=x({email:F(o.formatMessage({description:"LoginFormValidation - Email must be valid",defaultMessage:"Email must be valid",id:"+2i1XS"})),password:j().min(8,o.formatMessage({description:"SignUpFormValidation - Password is too short - min 8 characters",defaultMessage:"Password is too short - should be 8 chars minimum",id:"YzHSuh"})),remember:w()}),l=v({defaultValues:{email:"",password:"",remember:!1},validators:{onSubmit:f},onSubmit:async t=>{u(t.value)}});return e.jsxs(L,{onSubmit:t=>{t.preventDefault(),t.stopPropagation(),l.handleSubmit()},className:"flex flex-col justify-center",children:[e.jsx(l.Field,{name:"email",children:t=>e.jsx(m,{fullWidth:!0,autoFocus:!0,field:t,autoComplete:"username",id:t.name,type:"email",variant:"bordered",placeholder:o.formatMessage({description:"LoginForm - Email input placeholder",defaultMessage:"Email",id:"P2Xl0E"}),startContent:e.jsx(y,{className:"h-5 w-5"}),"data-testid":"login-form__email-input"})}),e.jsx(l.Field,{name:"password",children:t=>e.jsx(m,{fullWidth:!0,field:t,autoComplete:"current-password",type:d?"text":"password",variant:"bordered",placeholder:o.formatMessage({description:"LoginForm - Password input placeholder",defaultMessage:"Password",id:"2hRtil"}),startContent:e.jsx(_,{className:"h-5 w-5"}),endContent:e.jsx("button",{type:"button",onClick:g,"aria-label":o.formatMessage({defaultMessage:"Toggle password visibility",id:"KjXbli",description:"LoginForm - Toggle password visibility button aria label"}),children:d?e.jsx(N,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})}),"data-testid":"login-form__password-input"})}),e.jsxs("div",{className:"flex w-full items-center justify-between px-1 py-2",children:[e.jsx(l.Field,{name:"remember",children:t=>e.jsx(M,{size:"sm",isSelected:t.state.value,onValueChange:h=>t.handleChange(h),children:e.jsx("p",{className:"text-xs sm:text-sm",children:o.formatMessage({description:"LoginForm - Remember me checkbox label",defaultMessage:"Remember me",id:"eSCI59"})})})}),e.jsx(c,{className:"cursor-pointer text-xs sm:text-sm",size:"sm",onPress:i,children:o.formatMessage({description:"LoginForm - Forgot password link",defaultMessage:"Forgot password?",id:"Zz40WB"})})]}),e.jsx(l.Subscribe,{selector:t=>[t.canSubmit],children:([t])=>e.jsx(k,{fullWidth:!0,isLoading:r,disabled:!t,color:"primary",type:"submit",onPress:()=>l.handleSubmit(),"data-testid":"login-form__submit-button",children:o.formatMessage({description:"LoginForm - Submit button text",defaultMessage:"Login",id:"/83/VX"})})}),a&&e.jsx("div",{className:"text-small text-danger",children:a}),e.jsx("p",{className:"text-small text-center",children:e.jsx(c,{className:"cursor-pointer",size:"sm",onPress:n,children:o.formatMessage({description:"LoginForm - Sign up link",defaultMessage:"Don't have an account? Sign up",id:"FroJyb"})})})]})}P.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{loading:{required:!0,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: FormLogin) => void",signature:{arguments:[{type:{name:"FormLogin"},name:"data"}],return:{name:"void"}}},description:""}}};export{P as L};
