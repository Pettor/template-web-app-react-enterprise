import{i as D}from"./chunk-JGY6VQQQ-BkgGoZtC.js";import{d as v,e as L,b as f,g as O}from"./chunk-YFAKJTDR-BBykVR1J.js";import{$ as w}from"./useFormReset-CmP2TdOr.js";import{$ as I}from"./index-8N3RDKQ6.js";import{r as F}from"./iframe-c1YiYtnK.js";function U(e,a){if(e!=null){if(D(e)){e(a);return}try{e.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${e}'`)}}}function H(...e){return a=>{e.forEach(t=>U(t,a))}}function J(e,a,t){let{isDisabled:l=!1,isReadOnly:i=!1,value:d,name:n,form:s,children:u,"aria-label":V,"aria-labelledby":j,validationState:b="valid",isInvalid:$,onPressStart:S,onPressEnd:P,onPressChange:g,onPress:o,onPressUp:m,onClick:p}=e,x=r=>{r.stopPropagation(),a.setSelected(r.target.checked)},{pressProps:h,isPressed:y}=v({onPressStart:S,onPressEnd:P,onPressChange:g,onPress:o,onPressUp:m,onClick:p,isDisabled:l}),{pressProps:C,isPressed:R}=v({onPressStart:S,onPressEnd:P,onPressChange:g,onPressUp:m,onClick:p,onPress(r){var c;o?.(r),a.toggle(),(c=t.current)===null||c===void 0||c.focus()},isDisabled:l||i}),{focusableProps:k}=L(e,t),E=f(h,k),_=O(e,{labelable:!0});return w(t,a.defaultSelected,a.setSelected),{labelProps:f(C,{onClick:r=>r.preventDefault()}),inputProps:f(_,{"aria-invalid":$||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:x,disabled:l,...d==null?{}:{value:d},name:n,form:s,type:"checkbox",...E}),isSelected:a.isSelected,isPressed:y||R,isDisabled:l,isReadOnly:i,isInvalid:$||b==="invalid"}}function K(e={}){let{isReadOnly:a}=e,[t,l]=I(e.isSelected,e.defaultSelected||!1,e.onChange),[i]=F.useState(t);function d(u){a||l(u)}function n(){a||l(!t)}var s;return{isSelected:t,defaultSelected:(s=e.defaultSelected)!==null&&s!==void 0?s:i,setSelected:d,toggle:n}}export{J as $,K as a,H as m};
