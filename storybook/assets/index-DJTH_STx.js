import{r as e,R as i}from"./iframe-rb5u8kG-.js";var o;const p=typeof document<"u"?(o=i.useInsertionEffect)!==null&&o!==void 0?o:i.useLayoutEffect:()=>{};function y(t,d,u){let[s,E]=e.useState(t||d),c=e.useRef(s),l=e.useRef(t!==void 0),f=t!==void 0;e.useEffect(()=>{l.current,l.current=f},[f]);let n=f?t:s;p(()=>{c.current=n});let[,$]=e.useReducer(()=>({}),{}),b=e.useCallback((a,...R)=>{let r=typeof a=="function"?a(c.current):a;Object.is(c.current,r)||(c.current=r,E(r),$(),u?.(r,...R))},[u]);return[n,b]}var V=globalThis?.document?e.useLayoutEffect:e.useEffect;export{y as $,V as u};
