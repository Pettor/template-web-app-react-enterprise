import{r as c,R as l}from"./iframe-rb5u8kG-.js";import{$ as $e}from"./useLabels-lAvE5r34.js";import{$ as pe,b as be}from"./VisuallyHidden-CLbQWwna.js";import{$ as me}from"./index-DJTH_STx.js";import{i as C,n as ve,o as xe}from"./useFocusRing-Xo4cRvQI.js";import{i as ge,g as he,e as E,b as Ce}from"./focusSafely-uUZoqiSA.js";import{a as Ee,c as Re}from"./useFocusRing-CTo2e8po.js";import{p as De}from"./index-C5W73c41.js";import{R as Oe}from"./index-CX-lnvfg.js";import{g as Te}from"./chunk-TRZPE5UW-BdIhqDBY.js";function ye({children:t}){let e=c.useMemo(()=>({register:()=>{}}),[]);return l.createElement(ge.Provider,{value:e},t)}const Pe=c.createContext({});function we(){var t;return(t=c.useContext(Pe))!==null&&t!==void 0?t:{}}var y={};y={dismiss:"تجاهل"};var P={};P={dismiss:"Отхвърляне"};var w={};w={dismiss:"Odstranit"};var I={};I={dismiss:"Luk"};var S={};S={dismiss:"Schließen"};var N={};N={dismiss:"Απόρριψη"};var k={};k={dismiss:"Dismiss"};var A={};A={dismiss:"Descartar"};var M={};M={dismiss:"Lõpeta"};var L={};L={dismiss:"Hylkää"};var B={};B={dismiss:"Rejeter"};var F={};F={dismiss:"התעלם"};var _={};_={dismiss:"Odbaci"};var z={};z={dismiss:"Elutasítás"};var K={};K={dismiss:"Ignora"};var U={};U={dismiss:"閉じる"};var j={};j={dismiss:"무시"};var H={};H={dismiss:"Atmesti"};var V={};V={dismiss:"Nerādīt"};var G={};G={dismiss:"Lukk"};var W={};W={dismiss:"Negeren"};var Z={};Z={dismiss:"Zignoruj"};var J={};J={dismiss:"Descartar"};var q={};q={dismiss:"Dispensar"};var Q={};Q={dismiss:"Revocare"};var X={};X={dismiss:"Пропустить"};var Y={};Y={dismiss:"Zrušiť"};var ee={};ee={dismiss:"Opusti"};var te={};te={dismiss:"Odbaci"};var re={};re={dismiss:"Avvisa"};var se={};se={dismiss:"Kapat"};var ae={};ae={dismiss:"Скасувати"};var ie={};ie={dismiss:"取消"};var oe={};oe={dismiss:"關閉"};var ne={};ne={"ar-AE":y,"bg-BG":P,"cs-CZ":w,"da-DK":I,"de-DE":S,"el-GR":N,"en-US":k,"es-ES":A,"et-EE":M,"fi-FI":L,"fr-FR":B,"he-IL":F,"hr-HR":_,"hu-HU":z,"it-IT":K,"ja-JP":U,"ko-KR":j,"lt-LT":H,"lv-LV":V,"nb-NO":G,"nl-NL":W,"pl-PL":Z,"pt-BR":J,"pt-PT":q,"ro-RO":Q,"ru-RU":X,"sk-SK":Y,"sl-SI":ee,"sr-SP":te,"sv-SE":re,"tr-TR":se,"uk-UA":ae,"zh-CN":ie,"zh-TW":oe};function Ie(t){return t&&t.__esModule?t.default:t}function Ge(t){let{onDismiss:e,...r}=t,a=pe(Ie(ne),"@react-aria/overlays"),i=$e(r,a.format("dismiss")),s=()=>{e&&e()};return l.createElement(be,null,l.createElement("button",{...i,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}const ce=l.createContext(null);function We(t){let e=Te(),{portalContainer:r=e?null:document.body,isExiting:a}=t,[i,s]=c.useState(!1),u=c.useMemo(()=>({contain:i,setContain:s}),[i,s]),{getContainer:f}=we();if(!t.portalContainer&&f&&(r=f()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=l.createElement(De,{restoreFocus:!0,contain:(t.shouldContainFocus||i)&&!a},n)),n=l.createElement(ce.Provider,{value:u},l.createElement(ye,null,n)),Oe.createPortal(n,r)}function Se(){let t=c.useContext(ce),e=t?.setContain;Ee(()=>{e?.(!0)},[e])}function Ne(t){let{ref:e,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:i}=t,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=C(n=>{r&&R(n,e)&&(i&&i(n),s.current.isPointerDown=!0)}),f=C(n=>{r&&r(n)});c.useEffect(()=>{let n=s.current;if(a)return;const $=e.current,p=ve($);if(typeof PointerEvent<"u"){let b=m=>{n.isPointerDown&&R(m,e)&&f(m),n.isPointerDown=!1};return p.addEventListener("pointerdown",u,!0),p.addEventListener("click",b,!0),()=>{p.removeEventListener("pointerdown",u,!0),p.removeEventListener("click",b,!0)}}},[e,a])}function R(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}let ke=null;function de(t,e){return!t||!e?!1:e.some(r=>r.contains(t))}function Ae(t,e=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of O.traverse(O.getTreeNode(e)))if(r&&de(t,r.current))return!0;return!1}function Me(t){return Ae(t,ke)}class g{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,r,a){let i=this.fastMap.get(r??null);if(!i)return;let s=new D({scopeRef:e});i.addChild(s),s.parent=i,this.fastMap.set(e,s),a&&(s.nodeToRestore=a)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let r=this.fastMap.get(e);if(!r)return;let a=r.parent;for(let s of this.traverse())s!==r&&r.nodeToRestore&&s.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&de(s.nodeToRestore,r.scopeRef.current)&&(s.nodeToRestore=r.nodeToRestore);let i=r.children;a&&(a.removeChild(r),i.size>0&&i.forEach(s=>a&&a.addChild(s))),this.fastMap.delete(r.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let r of e.children)yield*this.traverse(r)}clone(){var e;let r=new g;var a;for(let i of this.traverse())r.addTreeNode(i.scopeRef,(a=(e=i.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&a!==void 0?a:null,i.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new D({scopeRef:null}),this.fastMap.set(null,this.root)}}class D{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let O=new g;var T={ease:[.36,.66,.4,1]},Ze={scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:T.ease}},exit:{opacity:0,transition:{duration:.3,ease:T.ease}}}};function Je(t){let[e,r]=me(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const a=c.useCallback(()=>{r(!0)},[r]),i=c.useCallback(()=>{r(!1)},[r]),s=c.useCallback(()=>{r(!e)},[r,e]);return{isOpen:e,setOpen:r,open:a,close:i,toggle:s}}var d=[];function qe(t,e){const{disableOutsideEvents:r=!0,isDismissable:a=!1,isKeyboardDismissDisabled:i=!1,isOpen:s,onClose:u,shouldCloseOnBlur:f,shouldCloseOnInteractOutside:n}=t;c.useEffect(()=>{if(s&&!d.includes(e))return d.push(e),()=>{let o=d.indexOf(e);o>=0&&d.splice(o,1)}},[s,e]);const $=()=>{d[d.length-1]===e&&u&&u()},p=o=>{(!n||n(o.target))&&(d[d.length-1]===e&&r&&(o.stopPropagation(),o.preventDefault()),fe(e)!=="pressEnd"&&$())},b=o=>{(!n||n(o.target))&&(d[d.length-1]===e&&r&&(o.stopPropagation(),o.preventDefault()),$())},m=o=>{o.key==="Escape"&&!i&&!o.nativeEvent.isComposing&&(o.stopPropagation(),o.preventDefault(),$())};Ne({isDisabled:!(a&&s),onInteractOutside:a&&s?b:void 0,onInteractOutsideStart:p,ref:e});const{focusWithinProps:ue}=xe({isDisabled:!f,onBlurWithin:o=>{!o.relatedTarget||Me(o.relatedTarget)||(!n||n(o.relatedTarget))&&$()}}),le=o=>{o.target===o.currentTarget&&o.preventDefault()};function fe(o){const v=o.current;if(!v)return"unknown";const x=(v.getAttribute("role")||"").toLowerCase(),h=v.getAttribute("aria-modal");return(x==="dialog"||x==="alertdialog")&&(h===null||h.toLowerCase()==="true")?"pressEnd":["listbox","menu","tree","grid","combobox"].includes(x)?"pressStart":"unknown"}return{overlayProps:{onKeyDown:m,...ue},underlayProps:{onPointerDown:le}}}function Qe(t,e){let{role:r="dialog"}=t,a=he();a=t["aria-label"]?void 0:a;let i=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!Re(e.current,document.activeElement)){E(e.current);let s=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(i.current=!0,e.current&&(e.current.blur(),E(e.current)),i.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),Se(),{dialogProps:{...Ce(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||a,onBlur:s=>{i.current&&s.stopPropagation()}},titleProps:{id:a}}}export{Qe as $,T,Ge as a,Ze as b,Je as c,We as d,qe as u};
