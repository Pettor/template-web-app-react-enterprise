import{F as Ur,$ as Wr,a as Jr,b as Kr,c as qr,u as Gr,d as Hr}from"./chunk-ICU6NNET-CgMlSRnB.js";import{bG as Ft,W as z,j as I,bE as Xr,bT as Yr,dn as tn,bI as Re,ce as Qr,bK as X,dp as es,bY as nn,c7 as rn,c5 as ts,bV as ns,bM as F,bL as je,bW as sn,bN as rs,bO as ss,dq as Cn,dr as os,c as is}from"./index-BkDfcGXb.js";import{f as on,e as Dn,c as Ln,d as as,u as us,g as cs}from"./chunk-YZ6YLE2T-AVNVSijw.js";import{$ as ls}from"./index-CzOe43iv.js";function ds(e){const t=Ft(),n=t?.labelPlacement;return z.useMemo(()=>{var r,s;const i=(s=(r=e.labelPlacement)!=null?r:n)!=null?s:"inside";return i==="inside"&&!e.label?"outside":i},[e.labelPlacement,n,e.label])}var fs=e=>I.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:I.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})});function hs(e){let{description:t,errorMessage:n,isInvalid:r,validationState:s}=e,{labelProps:i,fieldProps:o}=ls(e),a=on([!!t,!!n,r,s]),u=on([!!t,!!n,r,s]);return o=Dn(o,{"aria-describedby":[a,u,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:i,fieldProps:o,descriptionProps:{id:a},errorMessageProps:{id:u}}}var gc=z.forwardRef(function(t,n){var r,s;const i=Ft(),o=(s=(r=t.validationBehavior)!=null?r:i?.validationBehavior)!=null?s:"native";return I.jsx(Ur,{...t,ref:n,validationBehavior:o})});function ps(e,t){let{inputElementType:n="input",isDisabled:r=!1,isRequired:s=!1,isReadOnly:i=!1,type:o="text",validationBehavior:a="aria"}=e,[u,c]=Ln(e.value,e.defaultValue||"",e.onChange),{focusableProps:l}=Wr(e,t),f=Jr({...e,value:u}),{isInvalid:h,validationErrors:d,validationDetails:m}=f.displayValidation,{labelProps:v,fieldProps:y,descriptionProps:b,errorMessageProps:w}=hs({...e,isInvalid:h,errorMessage:e.errorMessage||d}),S=as(e,{labelable:!0});const g={type:o,pattern:e.pattern};let[k]=z.useState(u);var $;return Kr(t,($=e.defaultValue)!==null&&$!==void 0?$:k,c),qr(e,f,t),{labelProps:v,inputProps:Dn(S,n==="input"?g:void 0,{disabled:r,readOnly:i,required:s&&a==="native","aria-required":s&&a==="aria"||void 0,"aria-invalid":h||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:u,onChange:V=>c(V.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,form:e.form,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(Xr.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...l,...y}),descriptionProps:b,errorMessageProps:w,isInvalid:h,validationErrors:d,validationDetails:m}}function ms(e){var t,n,r,s,i,o,a;const u=Ft(),{validationBehavior:c}=Gr(Hr)||{},[l,f]=Yr(e,tn.variantKeys),{ref:h,as:d,type:m,label:v,baseRef:y,wrapperRef:b,description:w,className:S,classNames:g,autoFocus:k,startContent:$,endContent:V,onClear:T,onChange:A,validationState:W,validationBehavior:Q=(t=c??u?.validationBehavior)!=null?t:"native",innerWrapperRef:O,onValueChange:K=()=>{},...Se}=l,Rt=z.useCallback(M=>{K(M??"")},[K]),[dt,br]=z.useState(!1),yr=d||"div",jt=(r=(n=e.disableAnimation)!=null?n:u?.disableAnimation)!=null?r:!1,R=Re(h),_r=Re(y),wr=Re(b),Sr=Re(O),[ee,fe]=Ln(l.value,(s=l.defaultValue)!=null?s:"",Rt),Me=m==="file",Mr=((a=(o=(i=R?.current)==null?void 0:i.files)==null?void 0:o.length)!=null?a:0)>0,kr=["date","time","month","week","range"].includes(m),te=!Qr(ee)||kr||Mr,Ze=te||dt,Nt=m==="hidden",xt=e.isMultiline,Bt=X(g?.base,S,te?"is-filled":""),zr=z.useCallback(()=>{var M;Me?R.current.value="":fe(""),T?.(),(M=R.current)==null||M.focus()},[fe,T,Me]);us(()=>{R.current&&fe(R.current.value)},[R.current]);const{labelProps:Ut,inputProps:ie,isInvalid:$r,validationErrors:ft,validationDetails:Er,descriptionProps:Vr,errorMessageProps:Wt}=ps({...e,validationBehavior:Q,autoCapitalize:e.autoCapitalize,value:ee,"aria-label":e.label?e["aria-label"]:es(e["aria-label"],e.placeholder),inputElementType:xt?"textarea":"input",onChange:fe},R);Me&&(delete ie.value,delete ie.onChange);const{isFocusVisible:Te,isFocused:Ce,focusProps:Jt}=nn({autoFocus:k,isTextInput:!0}),{isHovered:De,hoverProps:Or}=rn({isDisabled:!!e?.isDisabled}),{isHovered:ke,hoverProps:Fr}=rn({isDisabled:!!e?.isDisabled}),{focusProps:Kt,isFocusVisible:qt}=nn(),{focusWithinProps:Gt}=ts({onFocusWithinChange:br}),{pressProps:Ht}=cs({isDisabled:!!e?.isDisabled||!!e?.isReadOnly,onPress:zr}),he=W==="invalid"||$r,G=ds({labelPlacement:e.labelPlacement,label:v}),ht=typeof l.errorMessage=="function"?l.errorMessage({isInvalid:he,validationErrors:ft,validationDetails:Er}):l.errorMessage||ft?.join(" "),ze=!!T||e.isClearable,Xt=!!v||!!w||!!ht,ae=!!l.placeholder,Yt=!!v,pt=!!w||!!ht,mt=G==="outside-left",vt=G==="outside-top",Qt=G==="outside"||mt||vt,Ir=G==="inside",Le=R.current?(!R.current.value||R.current.value===""||!ee||ee==="")&&ae:!1,H=!!$,Pr=Qt?mt||vt||ae||G==="outside"&&H:!1,Ar=G==="outside"&&!ae&&!H,C=z.useMemo(()=>tn({...f,isInvalid:he,labelPlacement:G,isClearable:ze,disableAnimation:jt}),[ns(f),he,G,ze,H,jt]),Zr=z.useCallback((M={})=>({ref:_r,className:C.base({class:Bt}),"data-slot":"base","data-filled":F(te||ae||H||Le||Me),"data-filled-within":F(Ze||ae||H||Le||Me),"data-focus-within":F(dt),"data-focus-visible":F(Te),"data-readonly":F(e.isReadOnly),"data-focus":F(Ce),"data-hover":F(De||ke),"data-required":F(e.isRequired),"data-invalid":F(he),"data-disabled":F(e.isDisabled),"data-has-elements":F(Xt),"data-has-helper":F(pt),"data-has-label":F(Yt),"data-has-value":F(!Le),"data-hidden":F(Nt),...Gt,...M}),[C,Bt,te,Ce,De,ke,he,pt,Yt,Xt,Le,H,dt,Te,Ze,ae,Gt,Nt,e.isReadOnly,e.isRequired,e.isDisabled]),Tr=z.useCallback((M={})=>({"data-slot":"label",className:C.label({class:g?.label}),...je(Ut,Fr,M)}),[C,ke,Ut,g?.label]),en=z.useCallback(M=>{M.key==="Escape"&&ee&&(ze||T)&&!e.isReadOnly&&(fe(""),T?.())},[ee,fe,T,ze,e.isReadOnly]),Cr=z.useCallback((M={})=>({"data-slot":"input","data-filled":F(te),"data-filled-within":F(Ze),"data-has-start-content":F(H),"data-has-end-content":F(!!V),"data-type":m,className:C.input({class:X(g?.input,te?"is-filled":"",xt?"pe-0":"",m==="password"?"[&::-ms-reveal]:hidden":"")}),...je(Jt,ie,rs(Se,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(ie))}),M),"aria-readonly":F(e.isReadOnly),onChange:sn(ie.onChange,A),onKeyDown:sn(ie.onKeyDown,M.onKeyDown,en),ref:R}),[C,ee,Jt,ie,Se,te,Ze,H,V,g?.input,e.isReadOnly,e.isRequired,A,en]),Dr=z.useCallback((M={})=>({ref:wr,"data-slot":"input-wrapper","data-hover":F(De||ke),"data-focus-visible":F(Te),"data-focus":F(Ce),className:C.inputWrapper({class:X(g?.inputWrapper,te?"is-filled":"")}),...je(M,Or),onClick:$e=>{R.current&&$e.currentTarget===$e.target&&R.current.focus()},style:{cursor:"text",...M.style}}),[C,De,ke,Te,Ce,ee,g?.inputWrapper]),Lr=z.useCallback((M={})=>({...M,ref:Sr,"data-slot":"inner-wrapper",onClick:$e=>{R.current&&$e.currentTarget===$e.target&&R.current.focus()},className:C.innerWrapper({class:X(g?.innerWrapper,M?.className)})}),[C,g?.innerWrapper]),Rr=z.useCallback((M={})=>({...M,"data-slot":"main-wrapper",className:C.mainWrapper({class:X(g?.mainWrapper,M?.className)})}),[C,g?.mainWrapper]),jr=z.useCallback((M={})=>({...M,"data-slot":"helper-wrapper",className:C.helperWrapper({class:X(g?.helperWrapper,M?.className)})}),[C,g?.helperWrapper]),Nr=z.useCallback((M={})=>({...M,...Vr,"data-slot":"description",className:C.description({class:X(g?.description,M?.className)})}),[C,g?.description]),xr=z.useCallback((M={})=>({...M,...Wt,"data-slot":"error-message",className:C.errorMessage({class:X(g?.errorMessage,M?.className)})}),[C,Wt,g?.errorMessage]),Br=z.useCallback((M={})=>({...M,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":F(qt),className:C.clearButton({class:X(g?.clearButton,M?.className)}),...je(Ht,Kt)}),[C,qt,Ht,Kt,g?.clearButton]);return{Component:yr,classNames:g,domRef:R,label:v,description:w,startContent:$,endContent:V,labelPlacement:G,isClearable:ze,hasHelper:pt,hasStartContent:H,isLabelOutside:Pr,isOutsideLeft:mt,isOutsideTop:vt,isLabelOutsideAsPlaceholder:Ar,shouldLabelBeOutside:Qt,shouldLabelBeInside:Ir,hasPlaceholder:ae,isInvalid:he,errorMessage:ht,getBaseProps:Zr,getLabelProps:Tr,getInputProps:Cr,getMainWrapperProps:Rr,getInputWrapperProps:Dr,getInnerWrapperProps:Lr,getHelperWrapperProps:jr,getDescriptionProps:Nr,getErrorMessageProps:xr,getClearButtonProps:Br}}var Rn=ss((e,t)=>{const{Component:n,label:r,description:s,isClearable:i,startContent:o,endContent:a,labelPlacement:u,hasHelper:c,isOutsideLeft:l,isOutsideTop:f,shouldLabelBeOutside:h,errorMessage:d,isInvalid:m,getBaseProps:v,getLabelProps:y,getInputProps:b,getInnerWrapperProps:w,getInputWrapperProps:S,getMainWrapperProps:g,getHelperWrapperProps:k,getDescriptionProps:$,getErrorMessageProps:V,getClearButtonProps:T}=ms({...e,ref:t}),A=r?I.jsx("label",{...y(),children:r}):null,W=z.useMemo(()=>i?I.jsx("button",{...T(),children:a||I.jsx(fs,{})}):a,[i,T]),Q=z.useMemo(()=>{const Se=m&&d;return!c||!(Se||s)?null:I.jsx("div",{...k(),children:Se?I.jsx("div",{...V(),children:d}):I.jsx("div",{...$(),children:s})})},[c,m,d,s,k,V,$]),O=z.useMemo(()=>I.jsxs("div",{...w(),children:[o,I.jsx("input",{...b()}),W]}),[o,W,b,w]),K=z.useMemo(()=>h?I.jsxs("div",{...g(),children:[I.jsxs("div",{...S(),children:[!l&&!f?A:null,O]}),Q]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{...S(),children:[A,O]}),Q]}),[u,Q,h,A,O,d,s,g,S,V,$]);return I.jsxs(n,{...v(),children:[l||f?A:null,K]})});Rn.displayName="HeroUI.Input";var vs=Rn,gt={exports:{}},bt={};var an;function gs(){if(an)return bt;an=1;var e=Cn();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(f,h){var d=h(),m=r({inst:{value:d,getSnapshot:h}}),v=m[0].inst,y=m[1];return i(function(){v.value=d,v.getSnapshot=h,u(v)&&y({inst:v})},[f,d,h]),s(function(){return u(v)&&y({inst:v}),f(function(){u(v)&&y({inst:v})})},[f]),o(d),d}function u(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!n(f,d)}catch{return!0}}function c(f,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return bt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,bt}var un;function bs(){return un||(un=1,gt.exports=gs()),gt.exports}const be=new WeakMap,Xe=new WeakMap,tt={current:[]};let yt=!1,Ie=0;const Ve=new Set,Ne=new Map;function jn(e){const t=Array.from(e).sort((n,r)=>n instanceof Y&&n.options.deps.includes(r)?1:r instanceof Y&&r.options.deps.includes(n)?-1:0);for(const n of t){if(tt.current.includes(n))continue;tt.current.push(n),n.recompute();const r=Xe.get(n);if(r)for(const s of r){const i=be.get(s);i&&jn(i)}}}function ys(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function _s(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Nn(e){if(Ie>0&&!Ne.has(e)&&Ne.set(e,e.prevState),Ve.add(e),!(Ie>0)&&!yt)try{for(yt=!0;Ve.size>0;){const t=Array.from(Ve);Ve.clear();for(const n of t){const r=Ne.get(n)??n.prevState;n.prevState=r,ys(n)}for(const n of t){const r=be.get(n);r&&(tt.current.push(n),jn(r))}for(const n of t){const r=be.get(n);if(r)for(const s of r)_s(s)}}}finally{yt=!1,tt.current=[],Ne.clear()}}function J(e){Ie++;try{e()}finally{if(Ie--,Ie===0){const t=Ve.values().next().value;t&&Nn(t)}}}function ws(e){return typeof e=="function"}class Mt{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var s,i;this.listeners.add(r);const o=(i=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:i.call(s,r,this);return()=>{this.listeners.delete(r),o?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):ws(t)?this.state=t(this.prevState):this.state=t,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),Nn(this)}}class Y{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,r=new Array(n),s=new Array(n);for(let i=0;i<n;i++){const o=this.options.deps[i];r[i]=o.prevState,s[i]=o.state}return this.lastSeenDepValues=s,{prevDepVals:r,currDepVals:s,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const s=this.getDepVals();this.state=this.options.fn(s),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof Y&&i.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let i=0;i<s.length;i++)if(s[i]!==r[i]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const i=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),i?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Y)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Mt){let r=be.get(n);r||(r=new Set,be.set(n,r)),r.add(this);let s=Xe.get(this);s||(s=new Set,Xe.set(this,s)),s.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Y)this.unregisterFromGraph(n.options.deps);else if(n instanceof Mt){const r=be.get(n);r&&r.delete(this);const s=Xe.get(this);s&&s.delete(n)}}}var Ss=class{constructor(e,t){this.fn=e,this.options=t,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...n)=>{const r=Date.now()-this.lastExecutionTime;if(this.options.leading&&r>=this.options.wait)this.execute(...n);else if(this.lastArgs=n,!this.timeoutId&&this.options.trailing){const s=this.options.wait-r;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},s)}},this.execute=(...n)=>{this.fn(...n),this.options.onExecute?.(n,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function Ms(e,t){return new Ss(e,t).maybeExecute}class ks{#o=!0;#t;#e;#d;#n;#a;#r;#u;#f=0;#p=5;#i=!1;#c=!1;#s=null;#h=()=>{this.debugLog("Connected to event bus"),this.#a=!0,this.#i=!1,this.debugLog("Emitting queued events",this.#n),this.#n.forEach(t=>this.emitEventToBus(t)),this.#n=[],this.stopConnectLoop(),this.#e().removeEventListener("tanstack-connect-success",this.#h)};#l=()=>{if(this.#f<this.#p){this.#f++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#e().removeEventListener("tanstack-connect",this.#l),this.#c=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#m=()=>{this.#i||(this.#i=!0,this.#e().addEventListener("tanstack-connect-success",this.#h),this.#l())};constructor({pluginId:t,debug:n=!1,enabled:r=!0,reconnectEveryMs:s=300}){this.#t=t,this.#o=r,this.#e=this.getGlobalTarget,this.#d=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#n=[],this.#a=!1,this.#c=!1,this.#r=null,this.#u=s}startConnectLoop(){this.#r!==null||this.#a||(this.debugLog(`Starting connect loop (every ${this.#u}ms)`),this.#r=setInterval(this.#l,this.#u))}stopConnectLoop(){this.#i=!1,this.#r!==null&&(clearInterval(this.#r),this.#r=null,this.#n=[],this.debugLog("Stopped connect loop"))}debugLog(...t){this.#d&&console.log(`ðŸŒ´ [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#t}dispatchCustomEventShim(t,n){try{const r=new Event(t,{detail:n});this.#e().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{this.#e().dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${this.#t}:${t}`,payload:n,pluginId:this.#t}}emit(t,n){if(!this.#o){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(this.#s&&(this.debugLog("Emitting event to internal event target",t,n),this.#s.dispatchEvent(new CustomEvent(`${this.#t}:${t}`,{detail:this.createEventPayload(t,n)}))),this.#c){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#a){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#n.push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!this.#i&&(this.#m(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,r){const s=r?.withEventTarget??!1,i=`${this.#t}:${t}`;if(s&&(this.#s||(this.#s=new EventTarget),this.#s.addEventListener(i,a=>{n(a.detail)})),!this.#o)return this.debugLog("Event bus client is disabled, not registering event",i),()=>{};const o=a=>{this.debugLog("Received event from bus",a.detail),n(a.detail)};return this.#e().addEventListener(i,o),this.debugLog("Registered event to bus",i),()=>{s&&this.#s?.removeEventListener(i,o),this.#e().removeEventListener(i,o)}}onAll(t){if(!this.#o)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const s=r.detail;t(s)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!this.#o)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const s=r.detail;this.#t&&s.pluginId!==this.#t||t(s)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}}class zs extends ks{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const B=new zs;function it(e,t){return typeof e=="function"?e(t):e}function xe(e,t){return It(t).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},e)}function Be(e,t,n){const r=It(t);function s(i){if(!r.length)return it(n,i);const o=r.shift();if(typeof o=="string"||typeof o=="number"&&!Array.isArray(i))return typeof i=="object"?(i===null&&(i={}),{...i,[o]:s(i[o])}):{[o]:s()};if(Array.isArray(i)&&typeof o=="number"){const a=i.slice(0,o);return[...a.length?a:new Array(o),s(i[o]),...i.slice(o+1)]}return[...new Array(o),s()]}return s(e)}function $s(e,t){const n=It(t);function r(s){if(!s)return;if(n.length===1){const o=n[0];if(Array.isArray(s)&&typeof o=="number")return s.filter((c,l)=>l!==o);const{[o]:a,...u}=s;return u}const i=n.shift();if((typeof i=="string"||typeof i=="number"&&!Array.isArray(s))&&typeof s=="object")return{...s,[i]:r(s[i])};if(typeof i=="number"&&Array.isArray(s)){if(i>=s.length)return s;const o=s.slice(0,i);return[...o.length?o:new Array(i),r(s[i]),...s.slice(i+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Es=/^(\d+)$/gm,Vs=/\.(\d+)(?=\.)/gm,Os=/^(\d+)\./gm,Fs=/\.(\d+$)/gm,Is=/\.{2,}/gm,kt="__int__",Ue=`${kt}$1`;function It(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Es,Ue).replace(Vs,`.${Ue}.`).replace(Os,`${Ue}.`).replace(Fs,`.${Ue}`).replace(Is,".").split(".").map(t=>{if(t.startsWith(kt)){const n=t.substring(kt.length),r=parseInt(n,10);return String(r)===n?r:n}return t})}function Ps(e){return!(Array.isArray(e)&&e.length===0)}function zt(e,t){const n=r=>r.validators.filter(Boolean).map(s=>({cause:s.cause,validate:s.fn}));return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:n})}function $t(e,t){const{asyncDebounceMs:n}=t,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:s,onDynamicAsyncDebounceMs:i}=t.validators||{},o=n??0,a=u=>u.validators.filter(Boolean).map(c=>{const l=c?.cause||e;let f=o;switch(l){case"change":f=s??o;break;case"blur":f=r??o;break;case"dynamic":f=i??o;break;case"submit":f=0;break}return e==="submit"&&(f=0),{cause:l,validate:c.fn,debounceMs:f}});return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:a})}const Ye=e=>!!e&&typeof e=="object"&&"fields"in e;function re(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,i]of e)if(!t.has(s)||!Object.is(i,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!re(e[s],t[s]))return!1;return!0}const cn=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},ln=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function x(e,t){return e==null?t:{...e,...t}}let ue=256;const Qe=[];let We;for(;ue--;)Qe[ue]=(ue+256).toString(16).substring(1);function xn(){let e=0,t,n="";if(!We||ue+16>256){for(We=new Array(256),e=256;e--;)We[e]=256*Math.random()|0;e=0,ue=0}for(;e<16;e++)t=We[ue+e],e===6?n+=Qe[t&15|64]:e===8?n+=Qe[t&63|128]:n+=Qe[t],e&1&&e>1&&e<11&&(n+="-");return ue++,n}const As=Ms(e=>B.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300});function Oe(e){if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e)){const n=[];for(let r=0;r<e.length;r++)n[r]=Oe(e[r]);return n}if(e instanceof Map){const n=new Map;return e.forEach((r,s)=>{n.set(s,Oe(r))}),n}if(e instanceof Set){const n=new Set;return e.forEach(r=>{n.add(Oe(r))}),n}const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Oe(e[n]));return t}const pe=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const t=e.event.async,n=t?void 0:{fn:e.validators.onMount,cause:"mount"},r={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},s={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},i={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},o=t?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[n],form:e.form});case"submit":return e.runValidation({validators:[r,s,i,o],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[s,o],form:e.form});case"change":return e.runValidation({validators:[r,o],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function Zs(e,t){const n=new Map;for(const r of e){const s=r.path??[];let i=t,o="";for(let a=0;a<s.length;a++){const u=s[a];if(u===void 0)continue;const c=typeof u=="object"?u.key:u,l=Number(c);Array.isArray(i)&&!Number.isNaN(l)?o+=`[${l}]`:o+=(a>0?".":"")+String(c),typeof i=="object"&&i!==null?i=i[c]:i=void 0}n.set(o,(n.get(o)??[]).concat(r))}return Object.fromEntries(n)}const dn=(e,t)=>{const n=Zs(e,t);return{form:n,fields:n}},ye={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:dn(r.issues,e)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:dn(r.issues,e)}},Bn=e=>!!e&&"~standard"in e,me={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Je(e){function t(l,f,h){const d=o(l,f,"move",h),m=Math.min(f,h),v=Math.max(f,h);for(let b=m;b<=v;b++)d.push(i(l,b));const y=Object.keys(e.fieldInfo).reduce((b,w)=>(w.startsWith(i(l,f))&&b.set(w,e.getFieldMeta(w)),b),new Map);u(d,f<h?"up":"down"),Object.keys(e.fieldInfo).filter(b=>b.startsWith(i(l,h))).forEach(b=>{const w=b.replace(i(l,h),i(l,f)),S=y.get(w);S&&e.setFieldMeta(b,S)})}function n(l,f){const h=o(l,f,"remove");u(h,"up")}function r(l,f,h){o(l,f,"swap",h).forEach(m=>{if(!m.toString().startsWith(i(l,f)))return;const v=m.toString().replace(i(l,f),i(l,h)),[y,b]=[e.getFieldMeta(m),e.getFieldMeta(v)];y&&e.setFieldMeta(v,y),b&&e.setFieldMeta(m,b)})}function s(l,f){const h=o(l,f,"insert");u(h,"down"),h.forEach(d=>{d.toString().startsWith(i(l,f))&&e.setFieldMeta(d,c())})}function i(l,f){return`${l}[${f}]`}function o(l,f,h,d){const m=[i(l,f)];switch(h){case"swap":m.push(i(l,d));break;case"move":{const[v,y]=[Math.min(f,d),Math.max(f,d)];for(let b=v;b<=y;b++)m.push(i(l,b));break}default:{const v=e.getFieldValue(l),y=Array.isArray(v)?v.length:0;for(let b=f+1;b<y;b++)m.push(i(l,b));break}}return Object.keys(e.fieldInfo).filter(v=>m.some(y=>v.startsWith(y)))}function a(l,f){return l.replace(/\[(\d+)\]/,(h,d)=>{const m=parseInt(d,10);return`[${f==="up"?m+1:Math.max(0,m-1)}]`})}function u(l,f){(f==="up"?l:[...l].reverse()).forEach(d=>{const m=a(d.toString(),f),v=e.getFieldMeta(m);v?e.setFieldMeta(d,v):e.setFieldMeta(d,c())})}const c=()=>me;return{handleArrayMove:t,handleArrayRemove:n,handleArraySwap:r,handleArrayInsert:s}}function _t(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class fn{constructor(t){this.options={},this.fieldInfo={},this.mount=()=>{const r=this.fieldMetaDerived.mount(),s=this.store.mount(),i=this.store.subscribe(()=>{As(this)}),o=B.on("request-form-state",f=>{f.payload.id===this._formId&&B.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),a=B.on("request-form-reset",f=>{f.payload.id===this._formId&&this.reset()}),u=B.on("request-form-force-submit",f=>{f.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),c=()=>{u(),a(),o(),i(),r(),s(),B.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:l}=this.options.validators||{};return B.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),l&&this.validateSync("mount"),c},this.update=r=>{if(!r)return;const s=this.options;this.options=r;const i=r.defaultValues&&!re(r.defaultValues,s.defaultValues)&&!this.state.isTouched,o=!re(r.defaultState,s.defaultState)&&!this.state.isTouched;!i&&!o||(J(()=>{this.baseStore.setState(()=>_t(Object.assign({},this.state,o?r.defaultState:{},i?{values:r.defaultValues}:{})))}),B.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(r,s)=>{const{fieldMeta:i}=this.state,o=this.resetFieldMeta(i);r&&!s?.keepDefaultValues&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>_t({...this.options.defaultState,values:r??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:o}))},this.validateAllFields=async r=>{const s=[];return J(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;s.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(u=>({...u,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null,u=[`${r}[${s}]`];for(let h=s+1;h<=(a??0);h++)u.push(`${r}[${h}]`);const c=Object.keys(this.fieldInfo).filter(h=>u.some(d=>h.startsWith(d))),l=[];return J(()=>{c.forEach(h=>{l.push(Promise.resolve().then(()=>this.validateField(h,i)))})}),(await Promise.all(l)).flat()},this.validateField=(r,s)=>{const i=this.fieldInfo[r]?.instance;if(!i){const{hasErrored:o}=this.validateSync(s);return o&&!this.options.asyncAlways?this.getFieldMeta(r)?.errors??[]:this.validateAsync(s).then(()=>this.getFieldMeta(r)?.errors??[])}return i.state.meta.isTouched||i.setMeta(o=>({...o,isTouched:!0})),i.validate(s)},this.validateSync=r=>{const s=zt(r,{...this.options,form:this,validationLogic:this.options.validationLogic||pe});let i=!1;const o={};return J(()=>{for(const c of s){if(!c.validate)continue;const l=this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:f,fieldErrors:h}=et(l),d=Ee(c.cause),m=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(h||{})]);for(const v of m){if(this.baseStore.state.fieldMetaBase[v]===void 0&&!h?.[v])continue;const y=this.getFieldMeta(v)??me,{errorMap:b,errorSourceMap:w}=y,S=h?.[v],{newErrorValue:g,newSource:k}=cn({newFormValidatorError:S,isPreviousErrorFromFormValidator:w?.[d]==="form",previousErrorValue:b?.[d]});k==="form"&&(o[v]={...o[v],[d]:S}),b?.[d]!==g&&this.setFieldMeta(v,($=me)=>({...$,errorMap:{...$.errorMap,[d]:g},errorSourceMap:{...$.errorSourceMap,[d]:k}}))}this.state.errorMap?.[d]!==f&&this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[d]:f}})),(f||h)&&(i=!0)}const a=Ee("submit");this.state.errorMap?.[a]&&r!=="submit"&&!i&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[a]:void 0}}));const u=Ee("server");this.state.errorMap?.[u]&&r!=="server"&&!i&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[u]:void 0}}))}),{hasErrored:i,fieldsErrorMap:o}},this.validateAsync=async r=>{const s=$t(r,{...this.options,form:this,validationLogic:this.options.validationLogic||pe});this.state.isFormValidating||this.baseStore.setState(c=>({...c,isFormValidating:!0}));const i=[];let o;for(const c of s){if(!c.validate)continue;const l=Ee(c.cause);this.state.validationMetaMap[l]?.lastAbortController.abort();const h=new AbortController;this.state.validationMetaMap[l]={lastAbortController:h},i.push(new Promise(async d=>{let m;try{m=await new Promise((w,S)=>{setTimeout(async()=>{if(h.signal.aborted)return w(void 0);try{w(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:h.signal},type:"validateAsync"}))}catch(g){S(g)}},c.debounceMs)})}catch(w){m=w}const{formError:v,fieldErrors:y}=et(m);y&&(o=o?{...o,...y}:y);const b=Ee(c.cause);for(const w of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[w]===void 0)continue;const S=this.getFieldMeta(w);if(!S)continue;const{errorMap:g,errorSourceMap:k}=S,$=o?.[w],{newErrorValue:V,newSource:T}=cn({newFormValidatorError:$,isPreviousErrorFromFormValidator:k?.[b]==="form",previousErrorValue:g?.[b]});g?.[b]!==V&&this.setFieldMeta(w,A=>({...A,errorMap:{...A.errorMap,[b]:V},errorSourceMap:{...A.errorSourceMap,[b]:T}}))}this.baseStore.setState(w=>({...w,errorMap:{...w.errorMap,[b]:v}})),d(o?{fieldErrors:o,errorMapKey:b}:void 0)}))}let a=[];const u={};if(i.length){a=await Promise.all(i);for(const c of a)if(c?.fieldErrors){const{errorMapKey:l}=c;for(const[f,h]of Object.entries(c.fieldErrors)){const m={...u[f]||{},[l]:h};u[f]=m}}}return this.baseStore.setState(c=>({...c,isFormValidating:!1})),u},this.validate=r=>{const{hasErrored:s,fieldsErrorMap:i}=this.validateSync(r);return s&&!this.options.asyncAlways?i:this.validateAsync(r)},this._handleSubmit=async r=>{this.baseStore.setState(o=>({...o,isSubmitted:!1,submissionAttempts:o.submissionAttempts+1,isSubmitSuccessful:!1})),J(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance&&(o.instance.state.meta.isTouched||o.instance.setMeta(a=>({...a,isTouched:!0})))})});const s=r??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s});return}this.baseStore.setState(o=>({...o,isSubmitting:!0}));const i=()=>{this.baseStore.setState(o=>({...o,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s}),B.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(o=>o.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:s}),B.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}J(()=>{Object.values(this.fieldInfo).forEach(o=>{o.instance?.options.listeners?.onSubmit?.({value:o.instance.state.value,fieldApi:o.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:s});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:s}),J(()=>{this.baseStore.setState(o=>({...o,isSubmitted:!0,isSubmitSuccessful:!0})),B.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),i()})}catch(o){throw this.baseStore.setState(a=>({...a,isSubmitSuccessful:!1})),B.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:o}),i(),o}},this.getFieldValue=r=>xe(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>this.fieldInfo[r]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(r,s)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[r]:it(s,i.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((s,i)=>{const o=i;return s[o]=me,s},{}),this.setFieldValue=(r,s,i)=>{const o=i?.dontUpdateMeta??!1,a=i?.dontRunListeners??!1,u=i?.dontValidate??!1;J(()=>{o||this.setFieldMeta(r,c=>({...c,isTouched:!0,isDirty:!0,errorMap:{...c?.errorMap,onMount:void 0}})),this.baseStore.setState(c=>({...c,values:Be(c.values,r,s)}))}),a||this.getFieldInfo(r).instance?.triggerOnChangeListener(),u||this.validateField(r,"change")},this.deleteField=r=>{const i=[...Object.keys(this.fieldInfo).filter(o=>{const a=r.toString();return o!==a&&o.startsWith(a)}),r];this.baseStore.setState(o=>{const a={...o};return i.forEach(u=>{a.values=$s(a.values,u),delete this.fieldInfo[u],delete a.fieldMetaBase[u]}),a})},this.pushFieldValue=(r,s,i)=>{this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],s],i)},this.insertFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,u=>[...u.slice(0,s),i,...u.slice(s)],x(o,{dontValidate:!0}));const a=o?.dontValidate??!1;a||await this.validateField(r,"change"),Je(this).handleArrayInsert(r,s),a||await this.validateArrayFieldsStartingFrom(r,s,"change")},this.replaceFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,u=>u.map((c,l)=>l===s?i:c),x(o,{dontValidate:!0})),(o?.dontValidate??!1)||(await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change"))},this.removeFieldValue=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,c=>c.filter((l,f)=>f!==s),x(i,{dontValidate:!0})),Je(this).handleArrayRemove(r,s),a!==null){const c=`${r}[${a}]`;this.deleteField(c)}(i?.dontValidate??!1)||(await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change"))},this.swapFieldValues=(r,s,i,o)=>{this.setFieldValue(r,u=>{const c=u[s],l=u[i];return Be(Be(u,`${s}`,l),`${i}`,c)},x(o,{dontValidate:!0})),Je(this).handleArraySwap(r,s,i),(o?.dontValidate??!1)||(this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change"))},this.moveFieldValues=(r,s,i,o)=>{this.setFieldValue(r,u=>{const c=[...u];return c.splice(i,0,c.splice(s,1)[0]),c},x(o,{dontValidate:!0})),Je(this).handleArrayMove(r,s,i),(o?.dontValidate??!1)||(this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change"))},this.clearFieldValues=(r,s)=>{const i=this.getFieldValue(r),o=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(r,[],x(s,{dontValidate:!0})),o!==null)for(let u=0;u<=o;u++){const c=`${r}[${u}]`;this.deleteField(c)}(s?.dontValidate??!1)||this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:me},values:this.options.defaultValues?Be(s.values,r,xe(this.options.defaultValues,r)):s.values}))},this.setErrorMap=r=>{J(()=>{Object.entries(r).forEach(([s,i])=>{const o=s;if(Ye(i)){const{formError:a,fieldErrors:u}=et(i);for(const c of Object.keys(this.fieldInfo))this.getFieldMeta(c)&&this.setFieldMeta(c,f=>({...f,errorMap:{...f.errorMap,[o]:u?.[c]},errorSourceMap:{...f.errorSourceMap,[o]:"form"}}));this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[o]:a}}))}else this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[o]:i}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[s,i])=>(Object.keys(i).length&&i.errors.length&&(r[s]={errors:i.errors,errorMap:i.errorMap}),r),{})}),this.parseValuesWithSchema=r=>ye.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>ye.validateAsync({value:this.state.values,validationSource:"form"},r),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??xn(),this._devtoolsSubmissionOverride=!1;let n=_t({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values});if(t?.transform){n=t.transform({state:n}).state;for(const r of Object.keys(n.errorMap)){const s=n.errorMap[r];if(!(s===void 0||!Ye(s)))for(const i of Object.keys(s.fields)){const o=s.fields[i];if(o===void 0)continue;const a=n.fieldMetaBase[i];n.fieldMetaBase[i]={isTouched:!1,isValidating:!1,isBlurred:!1,isDirty:!1,...a??{},errorSourceMap:{...a?.errorSourceMap??{},onChange:"form"},errorMap:{...a?.errorMap??{},[r]:o}}}}}this.baseStore=new Mt(n),this.fieldMetaDerived=new Y({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{const o=i,a=r?.[0],u=s[0];let c=0;const l={};for(const f of Object.keys(u.fieldMetaBase)){const h=u.fieldMetaBase[f],d=a?.fieldMetaBase[f],m=o?.[f],v=xe(u.values,f);let y=m?.errors;if(!d||h.errorMap!==d.errorMap){y=Object.values(h.errorMap??{}).filter(k=>k!==void 0);const g=this.getFieldInfo(f)?.instance;(!g||!g.options.disableErrorFlat)&&(y=y.flat(1))}const b=!Ps(y),w=!h.isDirty,S=re(v,xe(this.options.defaultValues,f))||re(v,this.getFieldInfo(f)?.instance?.options.defaultValue);if(m&&m.isPristine===w&&m.isValid===b&&m.isDefaultValue===S&&m.errors===y&&h===d){l[f]=m,c++;continue}l[f]={...h,errors:y??[],isPristine:w,isValid:b,isDefaultValue:S}}return Object.keys(u.fieldMetaBase).length&&o&&c===Object.keys(u.fieldMetaBase).length?o:l}}),this.store=new Y({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{const o=i,a=r?.[0],u=s[0],c=s[1],l=Object.values(c).filter(Boolean),f=l.some(O=>O.isValidating),h=l.every(O=>O.isValid),d=l.some(O=>O.isTouched),m=l.some(O=>O.isBlurred),v=l.every(O=>O.isDefaultValue),y=d&&u.errorMap?.onMount,b=l.some(O=>O.isDirty),w=!b,S=!!(u.errorMap?.onMount||l.some(O=>O?.errorMap?.onMount)),g=!!f;let k=o?.errors??[];(!a||u.errorMap!==a.errorMap)&&(k=Object.values(u.errorMap).reduce((O,K)=>K===void 0?O:K&&Ye(K)?(O.push(K.form),O):(O.push(K),O),[]));const $=k.length===0,V=h&&$,T=this.options.canSubmitWhenInvalid??!1,A=u.submissionAttempts===0&&!d&&!S||!g&&!u.isSubmitting&&V||T;let W=u.errorMap;return y&&(k=k.filter(O=>O!==u.errorMap.onMount),W=Object.assign(W,{onMount:void 0})),o&&a&&o.errorMap===W&&o.fieldMeta===this.fieldMetaDerived.state&&o.errors===k&&o.isFieldsValidating===f&&o.isFieldsValid===h&&o.isFormValid===$&&o.isValid===V&&o.canSubmit===A&&o.isTouched===d&&o.isBlurred===m&&o.isPristine===w&&o.isDefaultValue===v&&o.isDirty===b&&re(a,u)?o:{...u,errorMap:W,fieldMeta:this.fieldMetaDerived.state,errors:k,isFieldsValidating:f,isFieldsValid:h,isFormValid:$,isValid:V,canSubmit:A,isTouched:d,isBlurred:m,isPristine:w,isDefaultValue:v,isDirty:b}}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return Bn(t.validate)?ye[t.type](t.value,t.validate):t.validate(t.value)}handleSubmit(t){return this._handleSubmit(t)}}function et(e){if(e){if(Ye(e)){const t=et(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function Ee(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}class hn{constructor(t){this.options={},this.mount=()=>{const n=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:s}=this.options.validators||{};if(s){const i=this.runValidator({validate:s,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});i&&this.setMeta(o=>({...o,errorMap:{...o?.errorMap,onMount:i},errorSourceMap:{...o?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),n},this.update=n=>{if(this.options=n,this.name=n.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const r=this.form.getFieldValue(this.name);re(r,n.defaultValue)||this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,x(r,{dontRunListeners:!0,dontValidate:!0})),r?.dontRunListeners||this.triggerOnChangeListener(),r?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,x(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(n,r,s)=>{this.form.insertFieldValue(this.name,n,r,x(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(n,r,s)=>{this.form.replaceFieldValue(this.name,n,r,x(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,x(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(n,r,s)=>{this.form.swapFieldValues(this.name,n,r,x(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(n,r,s)=>{this.form.moveFieldValues(this.name,n,r,x(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,x(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),s=[];for(const i of r){if(!i.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=i.instance.options.validators||{};n==="change"&&o?.includes(this.name)&&s.push(i.instance),n==="blur"&&a?.includes(this.name)&&s.push(i.instance)}return s},this.validateSync=(n,r)=>{const s=zt(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||pe}),o=this.getLinkedFields(n).reduce((c,l)=>{const f=zt(n,{...l.options,form:l.form,validationLogic:l.form.options.validationLogic||pe});return f.forEach(h=>{h.field=l}),c.concat(f)},[]);let a=!1;J(()=>{const c=(l,f)=>{const h=Ke(f.cause),d=f.validate?pn(l.runValidator({validate:f.validate,value:{value:l.store.state.value,validationSource:"field",fieldApi:l},type:"validate"})):void 0,m=r[h],{newErrorValue:v,newSource:y}=ln({formLevelError:m,fieldLevelError:d});l.state.meta.errorMap?.[h]!==v&&l.setMeta(b=>({...b,errorMap:{...b.errorMap,[h]:v},errorSourceMap:{...b.errorSourceMap,[h]:y}})),v&&(a=!0)};for(const l of s)c(this,l);for(const l of o)l.validate&&c(l.field,l)});const u=Ke("submit");return this.state.meta.errorMap?.[u]&&n!=="submit"&&!a&&this.setMeta(c=>({...c,errorMap:{...c.errorMap,[u]:void 0},errorSourceMap:{...c.errorSourceMap,[u]:void 0}})),{hasErrored:a}},this.validateAsync=async(n,r)=>{const s=$t(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||pe}),i=await r,o=this.getLinkedFields(n),a=o.reduce((d,m)=>{const v=$t(n,{...m.options,form:m.form,validationLogic:m.form.options.validationLogic||pe});return v.forEach(y=>{y.field=m}),d.concat(v)},[]),u=[],c=[],l=s.some(d=>d.validate)||a.some(d=>d.validate);if(l){this.state.meta.isValidating||this.setMeta(d=>({...d,isValidating:!0}));for(const d of o)d.setMeta(m=>({...m,isValidating:!0}))}const f=(d,m,v)=>{const y=Ke(m.cause);d.getInfo().validationMetaMap[y]?.lastAbortController.abort();const w=new AbortController;this.getInfo().validationMetaMap[y]={lastAbortController:w},v.push(new Promise(async S=>{let g;try{g=await new Promise((A,W)=>{this.timeoutIds.validations[m.cause]&&clearTimeout(this.timeoutIds.validations[m.cause]),this.timeoutIds.validations[m.cause]=setTimeout(async()=>{if(w.signal.aborted)return A(void 0);try{A(await this.runValidator({validate:m.validate,value:{value:d.store.state.value,fieldApi:d,signal:w.signal,validationSource:"field"},type:"validateAsync"}))}catch(Q){W(Q)}},m.debounceMs)})}catch(A){g=A}if(w.signal.aborted)return S(void 0);const k=pn(g),$=i[this.name]?.[y],{newErrorValue:V,newSource:T}=ln({formLevelError:$,fieldLevelError:k});d.setMeta(A=>({...A,errorMap:{...A?.errorMap,[y]:V},errorSourceMap:{...A.errorSourceMap,[y]:T}})),S(V)}))};for(const d of s)d.validate&&f(this,d,u);for(const d of a)d.validate&&f(d.field,d,c);let h=[];if((u.length||c.length)&&(h=await Promise.all(u),await Promise.all(c)),l){this.setMeta(d=>({...d,isValidating:!1}));for(const d of o)d.setMeta(m=>({...m,isValidating:!1}))}return h.filter(Boolean)},this.validate=(n,r)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:s}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:i}=this.validateSync(n,s[this.name]??{});if(i&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[Ke(n)]?.lastAbortController.abort(),this.state.meta.errors;const o=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,o)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=n=>{this.setMeta(r=>({...r,errorMap:{...r.errorMap,...n}}))},this.parseValueWithSchema=n=>ye.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>ye.validateAsync({value:this.state.value,validationSource:"field"},n),this.triggerOnChangeListener=()=>{const n=this.form.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const r=this.options.listeners?.onChangeDebounceMs;r&&r>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},r)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.options=t,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Y({deps:[this.form.store],fn:({prevVal:n})=>{const r=n,s=this.form.getFieldMeta(this.name)??{...me,...t.defaultMeta};let i=this.form.getFieldValue(this.name);return!s.isTouched&&i===void 0&&this.options.defaultValue!==void 0&&!re(i,this.options.defaultValue)&&(i=this.options.defaultValue),r&&r.value===i&&r.meta===s?r:{value:i,meta:s}}})}get state(){return this.store.state}runValidator(t){return Bn(t.validate)?ye[t.type](t.value,t.validate):t.validate(t.value)}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function pn(e){if(e)return e}function Ke(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}function Ts(e,t){if(!t)return;const n=Object.assign({},e,{state:Oe(e.state)});t(n),n.fieldInfo!==e.fieldInfo&&(e.fieldInfo=n.fieldInfo),n.options!==e.options&&(e.options=n.options);const s=Object.keys({values:null,validationMetaMap:null,fieldMetaBase:null,isSubmitting:null,isSubmitted:null,isValidating:null,submissionAttempts:null,isSubmitSuccessful:null,_force_re_eval:null}).reduce((i,o)=>(e.state[o]!==n.state[o]&&(i[o]=n.state[o]),i),{});return J(()=>{Object.keys(s).length&&e.baseStore.setState(i=>({...i,...s})),n.state.errorMap!==e.state.errorMap&&e.setErrorMap(n.state.errorMap)}),n}var wt={exports:{}},St={};var mn;function Cs(){if(mn)return St;mn=1;var e=Cn(),t=bs();function n(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,u=e.useDebugValue;return St.useSyncExternalStoreWithSelector=function(c,l,f,h,d){var m=i(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=a(function(){function b($){if(!w){if(w=!0,S=$,$=h($),d!==void 0&&v.hasValue){var V=v.value;if(d(V,$))return g=V}return g=$}if(V=g,r(S,$))return V;var T=h($);return d!==void 0&&d(V,T)?(S=$,V):(S=$,g=T)}var w=!1,S,g,k=f===void 0?null:f;return[function(){return b(l())},k===null?void 0:function(){return b(k())}]},[l,f,h,d]);var y=s(c,m[0],m[1]);return o(function(){v.hasValue=!0,v.value=y},[y]),u(y),y},St}var vn;function Ds(){return vn||(vn=1,wt.exports=Cs()),wt.exports}var Ls=Ds();function ne(e,t=r=>r,n={}){const r=n.equal??Rs;return Ls.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function Rs(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!t.has(r)||!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=gn(e);if(n.length!==gn(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function gn(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const ve=typeof window<"u"?z.useLayoutEffect:z.useEffect;function js(e){const[t,n]=z.useState(()=>({form:e.form,name:e.name})),[r,s]=z.useState(()=>new hn({...e}));(t.form!==e.form||t.name!==e.name)&&(s(new hn({...e})),n({form:e.form,name:e.name}));const i=ne(r.store,e.mode==="array"?d=>Object.keys(d.value??[]).length:d=>d.value),o=ne(r.store,d=>d.meta.isTouched),a=ne(r.store,d=>d.meta.isBlurred),u=ne(r.store,d=>d.meta.isDirty),c=ne(r.store,d=>d.meta.errorMap),l=ne(r.store,d=>d.meta.errorSourceMap),f=ne(r.store,d=>d.meta.isValidating),h=z.useMemo(()=>{const m={...r,get state(){return{value:e.mode==="array"?r.state.value:i,get meta(){return{...r.state.meta,isTouched:o,isBlurred:a,isDirty:u,errorMap:c,errorSourceMap:l,isValidating:f}}}}};return m.Field=Un,m},[r,e.mode,i,o,a,u,c,l,f]);return ve(r.mount,[r]),ve(()=>{r.update(e)}),h}const Un=(({children:e,...t})=>{const n=js(t),r=z.useMemo(()=>it(e,n),[e,n]);return I.jsx(I.Fragment,{children:r})});function Ns(){return z.useState(()=>xn())[0]}const xs=os,Bs=z.version.split(".")[0]==="17"?Ns:xs.useId;function Us({form:e,selector:t,children:n}){const r=ne(e.store,t);return I.jsx(I.Fragment,{children:it(n,r)})}function bc(e){const t=Bs(),[n,r]=z.useState(e?.formId),[s,i]=z.useState(()=>new fn({...e,formId:e?.formId??t}));if(n!==e?.formId){const u=e?.formId??t;i(new fn({...e,formId:u})),r(u)}const o=z.useMemo(()=>{const u={...s,handleSubmit:((...c)=>s._handleSubmit(...c)),get formId(){return s._formId},get state(){return s.store.state}};return u.Field=function(l){return I.jsx(Un,{...l,form:s})},u.Subscribe=function(l){return I.jsx(Us,{form:s,selector:l.selector,children:l.children})},u},[s]);ve(s.mount,[]),ve(()=>{s.update(e)});const a=z.useRef(!1);return ve(()=>{a.current&&e?.transform&&Ts(s,e.transform)},[s,e?.transform]),ve(()=>{a.current=!0}),o}function p(e,t,n){function r(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const c=o.prototype,l=Object.keys(c);for(let f=0;f<l.length;f++){const h=l[f];h in a||(a[h]=c[h].bind(a))}}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var u;const c=n?.Parent?new i:this;r(c,a),(u=c._zod).deferred??(u.deferred=[]);for(const l of c._zod.deferred)l();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class _e extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Wn extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Jn={};function ce(e){return Jn}function Kn(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function Et(e,t){return typeof t=="bigint"?t.toString():t}function Pt(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function At(e){return e==null}function Zt(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const bn=Symbol("evaluating");function E(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==bn)return r===void 0&&(r=bn,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function de(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function se(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function yn(e){return JSON.stringify(e)}function Ws(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const qn="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function nt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Js=Pt(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Pe(e){if(nt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(nt(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Gn(e){return Pe(e)?{...e}:Array.isArray(e)?[...e]:e}const Ks=new Set(["string","number","symbol"]);function at(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function _(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qs(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function Gs(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=se(e._zod.def,{get shape(){const o={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(o[a]=n.shape[a])}return de(this,"shape",o),o},checks:[]});return oe(e,i)}function Hs(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=se(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete o[a]}return de(this,"shape",o),o},checks:[]});return oe(e,i)}function Xs(e,t){if(!Pe(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const i=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(i,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=se(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return de(this,"shape",i),i}});return oe(e,s)}function Ys(e,t){if(!Pe(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=se(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return de(this,"shape",r),r}});return oe(e,n)}function Qs(e,t){const n=se(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return de(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return oe(e,n)}function eo(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=se(t._zod.def,{get shape(){const a=t._zod.def.shape,u={...a};if(n)for(const c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=e?new e({type:"optional",innerType:a[c]}):a[c])}else for(const c in a)u[c]=e?new e({type:"optional",innerType:a[c]}):a[c];return de(this,"shape",u),u},checks:[]});return oe(t,o)}function to(e,t,n){const r=se(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return de(this,"shape",i),i}});return oe(t,r)}function ge(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Hn(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function qe(e){return typeof e=="string"?e:e?.message}function le(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=qe(e.inst?._zod.def?.error?.(e))??qe(t?.error?.(e))??qe(n.customError?.(e))??qe(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Tt(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ae(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Xn=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Et,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Yn=p("$ZodError",Xn),Qn=p("$ZodError",Xn,{Parent:Error});function no(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function ro(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let o=n,a=0;for(;a<i.path.length;){const u=i.path[a];a===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(i))):o[u]=o[u]||{_errors:[]},o=o[u],a++}}};return r(e),n}const Ct=e=>(t,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new _e;if(o.issues.length){const a=new(s?.Err??e)(o.issues.map(u=>le(u,i,ce())));throw qn(a,s?.callee),a}return o.value},Dt=e=>async(t,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??e)(o.issues.map(u=>le(u,i,ce())));throw qn(a,s?.callee),a}return o.value},ut=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new _e;return i.issues.length?{success:!1,error:new(e??Yn)(i.issues.map(o=>le(o,s,ce())))}:{success:!0,data:i.value}},so=ut(Qn),ct=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>le(o,s,ce())))}:{success:!0,data:i.value}},oo=ct(Qn),io=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ct(e)(t,n,s)},ao=e=>(t,n,r)=>Ct(e)(t,n,r),uo=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Dt(e)(t,n,s)},co=e=>async(t,n,r)=>Dt(e)(t,n,r),lo=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ut(e)(t,n,s)},fo=e=>(t,n,r)=>ut(e)(t,n,r),ho=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ct(e)(t,n,s)},po=e=>async(t,n,r)=>ct(e)(t,n,r),mo=/^[cC][^\s-]{8,}$/,vo=/^[0-9a-z]+$/,go=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bo=/^[0-9a-vA-V]{20}$/,yo=/^[A-Za-z0-9]{27}$/,_o=/^[a-zA-Z0-9_-]{21}$/,wo=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,So=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,_n=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Mo=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ko="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function zo(){return new RegExp(ko,"u")}const $o=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eo=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Vo=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Oo=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fo=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,er=/^[A-Za-z0-9_-]*$/,Io=/^\+[1-9]\d{6,14}$/,tr="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Po=new RegExp(`^${tr}$`);function nr(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ao(e){return new RegExp(`^${nr(e)}$`)}function Zo(e){const t=nr({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${tr}T(?:${r})$`)}const To=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Co=/^(?:true|false)$/i,Do=/^[^A-Z]*$/,Lo=/^[^a-z]*$/,q=p("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Ro=p("$ZodCheckMaxLength",(e,t)=>{var n;q.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!At(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const o=Tt(s);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),jo=p("$ZodCheckMinLength",(e,t)=>{var n;q.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!At(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const o=Tt(s);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),No=p("$ZodCheckLengthEquals",(e,t)=>{var n;q.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!At(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,i=s.length;if(i===t.length)return;const o=Tt(s),a=i>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),lt=p("$ZodCheckStringFormat",(e,t)=>{var n,r;q.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),xo=p("$ZodCheckRegex",(e,t)=>{lt.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Bo=p("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Do),lt.init(e,t)}),Uo=p("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Lo),lt.init(e,t)}),Wo=p("$ZodCheckIncludes",(e,t)=>{q.init(e,t);const n=at(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Jo=p("$ZodCheckStartsWith",(e,t)=>{q.init(e,t);const n=new RegExp(`^${at(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Ko=p("$ZodCheckEndsWith",(e,t)=>{q.init(e,t);const n=new RegExp(`.*${at(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),qo=p("$ZodCheckOverwrite",(e,t)=>{q.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Go{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,s.join(`
`))}}const Ho={major:4,minor:3,patch:6},D=p("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ho;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const i of s._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,a,u)=>{let c=ge(o),l;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(c)continue;const h=o.issues.length,d=f._zod.check(o);if(d instanceof Promise&&u?.async===!1)throw new _e;if(l||d instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await d,o.issues.length!==h&&(c||(c=ge(o,h)))});else{if(o.issues.length===h)continue;c||(c=ge(o,h))}}return l?l.then(()=>o):o},i=(o,a,u)=>{if(ge(o))return o.aborted=!0,o;const c=s(a,r,u);if(c instanceof Promise){if(u.async===!1)throw new _e;return c.then(l=>e._zod.parse(l,u))}return e._zod.parse(c,u)};e._zod.run=(o,a)=>{if(a.skipChecks)return e._zod.parse(o,a);if(a.direction==="backward"){const c=e._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(l=>i(l,o,a)):i(c,o,a)}const u=e._zod.parse(o,a);if(u instanceof Promise){if(a.async===!1)throw new _e;return u.then(c=>s(c,r,a))}return s(u,r,a)}}E(e,"~standard",()=>({validate:s=>{try{const i=so(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return oo(e,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),Lt=p("$ZodString",(e,t)=>{D.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??To(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),P=p("$ZodStringFormat",(e,t)=>{lt.init(e,t),Lt.init(e,t)}),Xo=p("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=So),P.init(e,t)}),Yo=p("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=_n(r))}else t.pattern??(t.pattern=_n());P.init(e,t)}),Qo=p("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Mo),P.init(e,t)}),ei=p("$ZodURL",(e,t)=>{P.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ti=p("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=zo()),P.init(e,t)}),ni=p("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=_o),P.init(e,t)}),ri=p("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=mo),P.init(e,t)}),si=p("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=vo),P.init(e,t)}),oi=p("$ZodULID",(e,t)=>{t.pattern??(t.pattern=go),P.init(e,t)}),ii=p("$ZodXID",(e,t)=>{t.pattern??(t.pattern=bo),P.init(e,t)}),ai=p("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=yo),P.init(e,t)}),ui=p("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Zo(t)),P.init(e,t)}),ci=p("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Po),P.init(e,t)}),li=p("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Ao(t)),P.init(e,t)}),di=p("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=wo),P.init(e,t)}),fi=p("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$o),P.init(e,t),e._zod.bag.format="ipv4"}),hi=p("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Eo),P.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),pi=p("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Vo),P.init(e,t)}),mi=p("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Oo),P.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function rr(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const vi=p("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Fo),P.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{rr(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function gi(e){if(!er.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return rr(n)}const bi=p("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=er),P.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{gi(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),yi=p("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Io),P.init(e,t)});function _i(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const wi=p("$ZodJWT",(e,t)=>{P.init(e,t),e._zod.check=n=>{_i(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Si=p("$ZodBoolean",(e,t)=>{D.init(e,t),e._zod.pattern=Co,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),Mi=p("$ZodUnknown",(e,t)=>{D.init(e,t),e._zod.parse=n=>n}),ki=p("$ZodNever",(e,t)=>{D.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function wn(e,t,n){e.issues.length&&t.issues.push(...Hn(n,e.issues)),t.value[n]=e.value}const zi=p("$ZodArray",(e,t)=>{D.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?i.push(u.then(c=>wn(c,n,o))):wn(u,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function rt(e,t,n,r,s){if(e.issues.length){if(s&&!(n in r))return;t.issues.push(...Hn(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function sr(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=qs(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function or(e,t,n,r,s,i){const o=[],a=s.keySet,u=s.catchall._zod,c=u.def.type,l=u.optout==="optional";for(const f in t){if(a.has(f))continue;if(c==="never"){o.push(f);continue}const h=u.run({value:t[f],issues:[]},r);h instanceof Promise?e.push(h.then(d=>rt(d,n,f,t,l))):rt(h,n,f,t,l)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const $i=p("$ZodObject",(e,t)=>{if(D.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...a};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Pt(()=>sr(t));E(e._zod,"propValues",()=>{const a=t.shape,u={};for(const c in a){const l=a[c]._zod;if(l.values){u[c]??(u[c]=new Set);for(const f of l.values)u[c].add(f)}}return u});const s=nt,i=t.catchall;let o;e._zod.parse=(a,u)=>{o??(o=r.value);const c=a.value;if(!s(c))return a.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),a;a.value={};const l=[],f=o.shape;for(const h of o.keys){const d=f[h],m=d._zod.optout==="optional",v=d._zod.run({value:c[h],issues:[]},u);v instanceof Promise?l.push(v.then(y=>rt(y,a,h,c,m))):rt(v,a,h,c,m)}return i?or(l,c,a,u,r.value,e):l.length?Promise.all(l).then(()=>a):a}}),Ei=p("$ZodObjectJIT",(e,t)=>{$i.init(e,t);const n=e._zod.parse,r=Pt(()=>sr(t)),s=h=>{const d=new Go(["shape","payload","ctx"]),m=r.value,v=S=>{const g=yn(S);return`shape[${g}]._zod.run({ value: input[${g}], issues: [] }, ctx)`};d.write("const input = payload.value;");const y=Object.create(null);let b=0;for(const S of m.keys)y[S]=`key_${b++}`;d.write("const newResult = {};");for(const S of m.keys){const g=y[S],k=yn(S),V=h[S]?._zod?.optout==="optional";d.write(`const ${g} = ${v(S)};`),V?d.write(`
        if (${g}.issues.length) {
          if (${k} in input) {
            payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${k}, ...iss.path] : [${k}]
            })));
          }
        }
        
        if (${g}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${g}.value;
        }
        
      `):d.write(`
        if (${g}.issues.length) {
          payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        if (${g}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${g}.value;
        }
        
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const w=d.compile();return(S,g)=>w(h,S,g)};let i;const o=nt,a=!Jn.jitless,c=a&&Js.value,l=t.catchall;let f;e._zod.parse=(h,d)=>{f??(f=r.value);const m=h.value;return o(m)?a&&c&&d?.async===!1&&d.jitless!==!0?(i||(i=s(t.shape)),h=i(h,d),l?or([],m,h,d,f,e):h):n(h,d):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function Sn(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!ge(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(o=>le(o,r,ce())))}),t)}const Vi=p("$ZodUnion",(e,t)=>{D.init(e,t),E(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),E(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),E(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),E(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Zt(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(u=>Sn(u,s,e,i)):Sn(a,s,e,i)}}),Oi=p("$ZodIntersection",(e,t)=>{D.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,i=t.left._zod.run({value:s,issues:[]},r),o=t.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([u,c])=>Mn(n,u,c)):Mn(n,i,o)}});function Vt(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Pe(e)&&Pe(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),s={...e,...t};for(const i of r){const o=Vt(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r],o=Vt(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Mn(e,t,n){const r=new Map;let s;for(const a of t.issues)if(a.code==="unrecognized_keys"){s??(s=a);for(const u of a.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const u of a.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(a);const i=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(i.length&&s&&e.issues.push({...s,keys:i}),ge(e))return e;const o=Vt(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Fi=p("$ZodEnum",(e,t)=>{D.init(e,t);const n=Kn(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>Ks.has(typeof s)).map(s=>typeof s=="string"?at(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:e}),s}}),Ii=p("$ZodTransform",(e,t)=>{D.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Wn(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new _e;return n.value=s,n}});function kn(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ir=p("$ZodOptional",(e,t)=>{D.init(e,t),e._zod.optin="optional",e._zod.optout="optional",E(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),E(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zt(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>kn(i,n.value)):kn(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Pi=p("$ZodExactOptional",(e,t)=>{ir.init(e,t),E(e._zod,"values",()=>t.innerType._zod.values),E(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Ai=p("$ZodNullable",(e,t)=>{D.init(e,t),E(e._zod,"optin",()=>t.innerType._zod.optin),E(e._zod,"optout",()=>t.innerType._zod.optout),E(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zt(n.source)}|null)$`):void 0}),E(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Zi=p("$ZodDefault",(e,t)=>{D.init(e,t),e._zod.optin="optional",E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>zn(i,t)):zn(s,t)}});function zn(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Ti=p("$ZodPrefault",(e,t)=>{D.init(e,t),e._zod.optin="optional",E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Ci=p("$ZodNonOptional",(e,t)=>{D.init(e,t),E(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>$n(i,e)):$n(s,e)}});function $n(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Di=p("$ZodCatch",(e,t)=>{D.init(e,t),E(e._zod,"optin",()=>t.innerType._zod.optin),E(e._zod,"optout",()=>t.innerType._zod.optout),E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>le(o,r,ce()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>le(i,r,ce()))},input:n.value}),n.issues=[]),n)}}),Li=p("$ZodPipe",(e,t)=>{D.init(e,t),E(e._zod,"values",()=>t.in._zod.values),E(e._zod,"optin",()=>t.in._zod.optin),E(e._zod,"optout",()=>t.out._zod.optout),E(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(o=>Ge(o,t.in,r)):Ge(i,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Ge(i,t.out,r)):Ge(s,t.out,r)}});function Ge(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Ri=p("$ZodReadonly",(e,t)=>{D.init(e,t),E(e._zod,"propValues",()=>t.innerType._zod.propValues),E(e._zod,"values",()=>t.innerType._zod.values),E(e._zod,"optin",()=>t.innerType?._zod?.optin),E(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(En):En(s)}});function En(e){return e.value=Object.freeze(e.value),e}const ji=p("$ZodCustom",(e,t)=>{q.init(e,t),D.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(i=>Vn(i,n,r,e));Vn(s,n,r,e)}});function Vn(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(Ae(s))}}var On;class Ni{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function xi(){return new Ni}(On=globalThis).__zod_globalRegistry??(On.__zod_globalRegistry=xi());const Fe=globalThis.__zod_globalRegistry;function Bi(e,t){return new e({type:"string",..._(t)})}function ar(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,..._(t)})}function Fn(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,..._(t)})}function Ui(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,..._(t)})}function Wi(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._(t)})}function Ji(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._(t)})}function Ki(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._(t)})}function qi(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,..._(t)})}function Gi(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,..._(t)})}function Hi(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,..._(t)})}function Xi(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,..._(t)})}function Yi(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,..._(t)})}function Qi(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,..._(t)})}function ea(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,..._(t)})}function ta(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,..._(t)})}function na(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,..._(t)})}function ra(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,..._(t)})}function sa(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._(t)})}function oa(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._(t)})}function ia(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,..._(t)})}function aa(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,..._(t)})}function ua(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,..._(t)})}function ca(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,..._(t)})}function la(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._(t)})}function da(e,t){return new e({type:"string",format:"date",check:"string_format",..._(t)})}function fa(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,..._(t)})}function ha(e,t){return new e({type:"string",format:"duration",check:"string_format",..._(t)})}function pa(e,t){return new e({type:"boolean",..._(t)})}function ma(e){return new e({type:"unknown"})}function va(e,t){return new e({type:"never",..._(t)})}function ur(e,t){return new Ro({check:"max_length",..._(t),maximum:e})}function st(e,t){return new jo({check:"min_length",..._(t),minimum:e})}function cr(e,t){return new No({check:"length_equals",..._(t),length:e})}function ga(e,t){return new xo({check:"string_format",format:"regex",..._(t),pattern:e})}function ba(e){return new Bo({check:"string_format",format:"lowercase",..._(e)})}function ya(e){return new Uo({check:"string_format",format:"uppercase",..._(e)})}function _a(e,t){return new Wo({check:"string_format",format:"includes",..._(t),includes:e})}function wa(e,t){return new Jo({check:"string_format",format:"starts_with",..._(t),prefix:e})}function Sa(e,t){return new Ko({check:"string_format",format:"ends_with",..._(t),suffix:e})}function we(e){return new qo({check:"overwrite",tx:e})}function Ma(e){return we(t=>t.normalize(e))}function ka(){return we(e=>e.trim())}function za(){return we(e=>e.toLowerCase())}function $a(){return we(e=>e.toUpperCase())}function Ea(){return we(e=>Ws(e))}function Va(e,t,n){return new e({type:"array",element:t,..._(n)})}function Oa(e,t,n){return new e({type:"custom",check:"custom",fn:t,..._(n)})}function Fa(e){const t=Ia(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ae(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Ae(s))}},e(n.value,n)));return t}function Ia(e,t){const n=new q({check:"custom",..._(t)});return n._zod.check=e,n}function lr(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Fe,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function j(e,t,n={path:[],schemaPath:[]}){var r;const s=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const a=e._zod.toJSONSchema?.();if(a)o.schema=a;else{const l={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,l);else{const h=o.schema,d=t.processors[s.type];if(!d)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);d(e,t,h,l)}const f=e._zod.parent;f&&(o.ref||(o.ref=f),j(f,t,l),t.seen.get(f).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&N(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function dr(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of e.seen.entries()){const a=e.metadataRegistry.get(o[0])?.id;if(a){const u=r.get(a);if(u&&u!==o[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(a,o[0])}}const s=o=>{const a=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const f=e.external.registry.get(o[0])?.id,h=e.external.uri??(m=>m);if(f)return{ref:h(f)};const d=o[1].defId??o[1].schema.id??`schema${e.counter++}`;return o[1].defId=d,{defId:d,ref:`${h("__shared")}#/${a}/${d}`}}if(o[1]===n)return{ref:"#"};const c=`#/${a}/`,l=o[1].schema.id??`__schema${e.counter++}`;return{defId:l,ref:c+l}},i=o=>{if(o[1].schema.$ref)return;const a=o[1],{ref:u,defId:c}=s(o);a.def={...a.schema},c&&(a.defId=c);const l=a.schema;for(const f in l)delete l[f];l.$ref=u};if(e.cycles==="throw")for(const o of e.seen.entries()){const a=o[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const a=o[1];if(t===o[0]){i(o);continue}if(e.external){const c=e.external.registry.get(o[0])?.id;if(t!==o[0]&&c){i(o);continue}}if(e.metadataRegistry.get(o[0])?.id){i(o);continue}if(a.cycle){i(o);continue}if(a.count>1&&e.reused==="ref"){i(o);continue}}}function fr(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const a=e.seen.get(o);if(a.ref===null)return;const u=a.def??a.schema,c={...u},l=a.ref;if(a.ref=null,l){r(l);const h=e.seen.get(l),d=h.schema;if(d.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(d)):Object.assign(u,d),Object.assign(u,c),o._zod.parent===l)for(const v in u)v==="$ref"||v==="allOf"||v in c||delete u[v];if(d.$ref&&h.def)for(const v in u)v==="$ref"||v==="allOf"||v in h.def&&JSON.stringify(u[v])===JSON.stringify(h.def[v])&&delete u[v]}const f=o._zod.parent;if(f&&f!==l){r(f);const h=e.seen.get(f);if(h?.schema.$ref&&(u.$ref=h.schema.$ref,h.def))for(const d in u)d==="$ref"||d==="allOf"||d in h.def&&JSON.stringify(u[d])===JSON.stringify(h.def[d])&&delete u[d]}e.override({zodSchema:o,jsonSchema:u,path:a.path??[]})};for(const o of[...e.seen.entries()].reverse())r(o[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(o)}Object.assign(s,n.def??n.schema);const i=e.external?.defs??{};for(const o of e.seen.entries()){const a=o[1];a.def&&a.defId&&(i[a.defId]=a.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?s.$defs=i:s.definitions=i);try{const o=JSON.parse(JSON.stringify(s));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:ot(t,"input",e.processors),output:ot(t,"output",e.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function N(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return N(r.element,n);if(r.type==="set")return N(r.valueType,n);if(r.type==="lazy")return N(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return N(r.innerType,n);if(r.type==="intersection")return N(r.left,n)||N(r.right,n);if(r.type==="record"||r.type==="map")return N(r.keyType,n)||N(r.valueType,n);if(r.type==="pipe")return N(r.in,n)||N(r.out,n);if(r.type==="object"){for(const s in r.shape)if(N(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(N(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(N(s,n))return!0;return!!(r.rest&&N(r.rest,n))}return!1}const Pa=(e,t={})=>n=>{const r=lr({...n,processors:t});return j(e,r),dr(r,e),fr(r,e)},ot=(e,t,n={})=>r=>{const{libraryOptions:s,target:i}=r??{},o=lr({...s??{},target:i,io:t,processors:n});return j(e,o),dr(o,e),fr(o,e)},Aa={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Za=(e,t,n,r)=>{const s=n;s.type="string";const{minimum:i,maximum:o,format:a,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof i=="number"&&(s.minLength=i),typeof o=="number"&&(s.maxLength=o),a&&(s.format=Aa[a]??a,s.format===""&&delete s.format,a==="time"&&delete s.format),c&&(s.contentEncoding=c),u&&u.size>0){const l=[...u];l.length===1?s.pattern=l[0].source:l.length>1&&(s.allOf=[...l.map(f=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},Ta=(e,t,n,r)=>{n.type="boolean"},Ca=(e,t,n,r)=>{n.not={}},Da=(e,t,n,r)=>{},La=(e,t,n,r)=>{const s=e._zod.def,i=Kn(s.entries);i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),n.enum=i},Ra=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},ja=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Na=(e,t,n,r)=>{const s=n,i=e._zod.def,{minimum:o,maximum:a}=e._zod.bag;typeof o=="number"&&(s.minItems=o),typeof a=="number"&&(s.maxItems=a),s.type="array",s.items=j(i.element,t,{...r,path:[...r.path,"items"]})},xa=(e,t,n,r)=>{const s=n,i=e._zod.def;s.type="object",s.properties={};const o=i.shape;for(const c in o)s.properties[c]=j(o[c],t,{...r,path:[...r.path,"properties",c]});const a=new Set(Object.keys(o)),u=new Set([...a].filter(c=>{const l=i.shape[c]._zod;return t.io==="input"?l.optin===void 0:l.optout===void 0}));u.size>0&&(s.required=Array.from(u)),i.catchall?._zod.def.type==="never"?s.additionalProperties=!1:i.catchall?i.catchall&&(s.additionalProperties=j(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},Ba=(e,t,n,r)=>{const s=e._zod.def,i=s.inclusive===!1,o=s.options.map((a,u)=>j(a,t,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=o:n.anyOf=o},Ua=(e,t,n,r)=>{const s=e._zod.def,i=j(s.left,t,{...r,path:[...r.path,"allOf",0]}),o=j(s.right,t,{...r,path:[...r.path,"allOf",1]}),a=c=>"allOf"in c&&Object.keys(c).length===1,u=[...a(i)?i.allOf:[i],...a(o)?o.allOf:[o]];n.allOf=u},Wa=(e,t,n,r)=>{const s=e._zod.def,i=j(s.innerType,t,r),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=s.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},Ja=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType},Ka=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},qa=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},Ga=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType;let o;try{o=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},Ha=(e,t,n,r)=>{const s=e._zod.def,i=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;j(i,t,r);const o=t.seen.get(e);o.ref=i},Xa=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,n.readOnly=!0},hr=(e,t,n,r)=>{const s=e._zod.def;j(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType},Ya=p("ZodISODateTime",(e,t)=>{ui.init(e,t),Z.init(e,t)});function Qa(e){return la(Ya,e)}const eu=p("ZodISODate",(e,t)=>{ci.init(e,t),Z.init(e,t)});function tu(e){return da(eu,e)}const nu=p("ZodISOTime",(e,t)=>{li.init(e,t),Z.init(e,t)});function ru(e){return fa(nu,e)}const su=p("ZodISODuration",(e,t)=>{di.init(e,t),Z.init(e,t)});function ou(e){return ha(su,e)}const iu=(e,t)=>{Yn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>ro(e,n)},flatten:{value:n=>no(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Et,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Et,2)}},isEmpty:{get(){return e.issues.length===0}}})},U=p("ZodError",iu,{Parent:Error}),au=Ct(U),uu=Dt(U),cu=ut(U),lu=ct(U),du=io(U),fu=ao(U),hu=uo(U),pu=co(U),mu=lo(U),vu=fo(U),gu=ho(U),bu=po(U),L=p("ZodType",(e,t)=>(D.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ot(e,"input"),output:ot(e,"output")}}),e.toJSONSchema=Pa(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(se(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>oe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>au(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>cu(e,n,r),e.parseAsync=async(n,r)=>uu(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>lu(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>du(e,n,r),e.decode=(n,r)=>fu(e,n,r),e.encodeAsync=async(n,r)=>hu(e,n,r),e.decodeAsync=async(n,r)=>pu(e,n,r),e.safeEncode=(n,r)=>mu(e,n,r),e.safeDecode=(n,r)=>vu(e,n,r),e.safeEncodeAsync=async(n,r)=>gu(e,n,r),e.safeDecodeAsync=async(n,r)=>bu(e,n,r),e.refine=(n,r)=>e.check(lc(n,r)),e.superRefine=n=>e.check(dc(n)),e.overwrite=n=>e.check(we(n)),e.optional=()=>An(e),e.exactOptional=()=>Xu(e),e.nullable=()=>Zn(e),e.nullish=()=>An(Zn(e)),e.nonoptional=n=>rc(e,n),e.array=()=>Nu(e),e.or=n=>Uu([e,n]),e.and=n=>Ju(e,n),e.transform=n=>Tn(e,Gu(n)),e.default=n=>ec(e,n),e.prefault=n=>nc(e,n),e.catch=n=>oc(e,n),e.pipe=n=>Tn(e,n),e.readonly=()=>uc(e),e.describe=n=>{const r=e.clone();return Fe.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Fe.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Fe.get(e);const r=e.clone();return Fe.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),pr=p("_ZodString",(e,t)=>{Lt.init(e,t),L.init(e,t),e._zod.processJSONSchema=(r,s,i)=>Za(e,r,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(ga(...r)),e.includes=(...r)=>e.check(_a(...r)),e.startsWith=(...r)=>e.check(wa(...r)),e.endsWith=(...r)=>e.check(Sa(...r)),e.min=(...r)=>e.check(st(...r)),e.max=(...r)=>e.check(ur(...r)),e.length=(...r)=>e.check(cr(...r)),e.nonempty=(...r)=>e.check(st(1,...r)),e.lowercase=r=>e.check(ba(r)),e.uppercase=r=>e.check(ya(r)),e.trim=()=>e.check(ka()),e.normalize=(...r)=>e.check(Ma(...r)),e.toLowerCase=()=>e.check(za()),e.toUpperCase=()=>e.check($a()),e.slugify=()=>e.check(Ea())}),yu=p("ZodString",(e,t)=>{Lt.init(e,t),pr.init(e,t),e.email=n=>e.check(ar(mr,n)),e.url=n=>e.check(qi(_u,n)),e.jwt=n=>e.check(ca(Tu,n)),e.emoji=n=>e.check(Gi(wu,n)),e.guid=n=>e.check(Fn(In,n)),e.uuid=n=>e.check(Ui(He,n)),e.uuidv4=n=>e.check(Wi(He,n)),e.uuidv6=n=>e.check(Ji(He,n)),e.uuidv7=n=>e.check(Ki(He,n)),e.nanoid=n=>e.check(Hi(Su,n)),e.guid=n=>e.check(Fn(In,n)),e.cuid=n=>e.check(Xi(Mu,n)),e.cuid2=n=>e.check(Yi(ku,n)),e.ulid=n=>e.check(Qi(zu,n)),e.base64=n=>e.check(ia(Pu,n)),e.base64url=n=>e.check(aa(Au,n)),e.xid=n=>e.check(ea($u,n)),e.ksuid=n=>e.check(ta(Eu,n)),e.ipv4=n=>e.check(na(Vu,n)),e.ipv6=n=>e.check(ra(Ou,n)),e.cidrv4=n=>e.check(sa(Fu,n)),e.cidrv6=n=>e.check(oa(Iu,n)),e.e164=n=>e.check(ua(Zu,n)),e.datetime=n=>e.check(Qa(n)),e.date=n=>e.check(tu(n)),e.time=n=>e.check(ru(n)),e.duration=n=>e.check(ou(n))});function yc(e){return Bi(yu,e)}const Z=p("ZodStringFormat",(e,t)=>{P.init(e,t),pr.init(e,t)}),mr=p("ZodEmail",(e,t)=>{Qo.init(e,t),Z.init(e,t)});function _c(e){return ar(mr,e)}const In=p("ZodGUID",(e,t)=>{Xo.init(e,t),Z.init(e,t)}),He=p("ZodUUID",(e,t)=>{Yo.init(e,t),Z.init(e,t)}),_u=p("ZodURL",(e,t)=>{ei.init(e,t),Z.init(e,t)}),wu=p("ZodEmoji",(e,t)=>{ti.init(e,t),Z.init(e,t)}),Su=p("ZodNanoID",(e,t)=>{ni.init(e,t),Z.init(e,t)}),Mu=p("ZodCUID",(e,t)=>{ri.init(e,t),Z.init(e,t)}),ku=p("ZodCUID2",(e,t)=>{si.init(e,t),Z.init(e,t)}),zu=p("ZodULID",(e,t)=>{oi.init(e,t),Z.init(e,t)}),$u=p("ZodXID",(e,t)=>{ii.init(e,t),Z.init(e,t)}),Eu=p("ZodKSUID",(e,t)=>{ai.init(e,t),Z.init(e,t)}),Vu=p("ZodIPv4",(e,t)=>{fi.init(e,t),Z.init(e,t)}),Ou=p("ZodIPv6",(e,t)=>{hi.init(e,t),Z.init(e,t)}),Fu=p("ZodCIDRv4",(e,t)=>{pi.init(e,t),Z.init(e,t)}),Iu=p("ZodCIDRv6",(e,t)=>{mi.init(e,t),Z.init(e,t)}),Pu=p("ZodBase64",(e,t)=>{vi.init(e,t),Z.init(e,t)}),Au=p("ZodBase64URL",(e,t)=>{bi.init(e,t),Z.init(e,t)}),Zu=p("ZodE164",(e,t)=>{yi.init(e,t),Z.init(e,t)}),Tu=p("ZodJWT",(e,t)=>{wi.init(e,t),Z.init(e,t)}),Cu=p("ZodBoolean",(e,t)=>{Si.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ta(e,n,r)});function wc(e){return pa(Cu,e)}const Du=p("ZodUnknown",(e,t)=>{Mi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Da()});function Pn(){return ma(Du)}const Lu=p("ZodNever",(e,t)=>{ki.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ca(e,n,r)});function Ru(e){return va(Lu,e)}const ju=p("ZodArray",(e,t)=>{zi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Na(e,n,r,s),e.element=t.element,e.min=(n,r)=>e.check(st(n,r)),e.nonempty=n=>e.check(st(1,n)),e.max=(n,r)=>e.check(ur(n,r)),e.length=(n,r)=>e.check(cr(n,r)),e.unwrap=()=>e.element});function Nu(e,t){return Va(ju,e,t)}const xu=p("ZodObject",(e,t)=>{Ei.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>xa(e,n,r,s),E(e,"shape",()=>t.shape),e.keyof=()=>Ku(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Pn()}),e.loose=()=>e.clone({...e._zod.def,catchall:Pn()}),e.strict=()=>e.clone({...e._zod.def,catchall:Ru()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Xs(e,n),e.safeExtend=n=>Ys(e,n),e.merge=n=>Qs(e,n),e.pick=n=>Gs(e,n),e.omit=n=>Hs(e,n),e.partial=(...n)=>eo(vr,e,n[0]),e.required=(...n)=>to(gr,e,n[0])});function Sc(e,t){const n={type:"object",shape:e??{},..._(t)};return new xu(n)}const Bu=p("ZodUnion",(e,t)=>{Vi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ba(e,n,r,s),e.options=t.options});function Uu(e,t){return new Bu({type:"union",options:e,..._(t)})}const Wu=p("ZodIntersection",(e,t)=>{Oi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ua(e,n,r,s)});function Ju(e,t){return new Wu({type:"intersection",left:e,right:t})}const Ot=p("ZodEnum",(e,t)=>{Fi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(r,s,i)=>La(e,r,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Ot({...t,checks:[],..._(s),entries:i})},e.exclude=(r,s)=>{const i={...t.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Ot({...t,checks:[],..._(s),entries:i})}});function Ku(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ot({type:"enum",entries:n,..._(t)})}const qu=p("ZodTransform",(e,t)=>{Ii.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>ja(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Wn(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ae(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(Ae(o))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function Gu(e){return new qu({type:"transform",transform:e})}const vr=p("ZodOptional",(e,t)=>{ir.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>hr(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function An(e){return new vr({type:"optional",innerType:e})}const Hu=p("ZodExactOptional",(e,t)=>{Pi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>hr(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Xu(e){return new Hu({type:"optional",innerType:e})}const Yu=p("ZodNullable",(e,t)=>{Ai.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Wa(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Zn(e){return new Yu({type:"nullable",innerType:e})}const Qu=p("ZodDefault",(e,t)=>{Zi.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ka(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function ec(e,t){return new Qu({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Gn(t)}})}const tc=p("ZodPrefault",(e,t)=>{Ti.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>qa(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function nc(e,t){return new tc({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Gn(t)}})}const gr=p("ZodNonOptional",(e,t)=>{Ci.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ja(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function rc(e,t){return new gr({type:"nonoptional",innerType:e,..._(t)})}const sc=p("ZodCatch",(e,t)=>{Di.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ga(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function oc(e,t){return new sc({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const ic=p("ZodPipe",(e,t)=>{Li.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ha(e,n,r,s),e.in=t.in,e.out=t.out});function Tn(e,t){return new ic({type:"pipe",in:e,out:t})}const ac=p("ZodReadonly",(e,t)=>{Ri.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Xa(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function uc(e){return new ac({type:"readonly",innerType:e})}const cc=p("ZodCustom",(e,t)=>{ji.init(e,t),L.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Ra(e,n)});function lc(e,t={}){return Oa(cc,e,t)}function dc(e){return Fa(e)}function Mc(e){const t=is.c(17);let n,r;t[0]!==e?({field:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==n.state.meta.errors||t[4]!==n.state.meta.isTouched||t[5]!==n.state.meta.isValid?(s=n.state.meta.isTouched&&!n.state.meta.isValid?n.state.meta.errors.map(fc).join(","):null,t[3]=n.state.meta.errors,t[4]=n.state.meta.isTouched,t[5]=n.state.meta.isValid,t[6]=s):s=t[6];const i=s;let o;t[7]!==n?(o=c=>n.handleChange(c.target.value),t[7]=n,t[8]=o):o=t[8];const a=!n.state.meta.isValid;let u;return t[9]!==i||t[10]!==n.handleBlur||t[11]!==n.name||t[12]!==n.state.value||t[13]!==r||t[14]!==o||t[15]!==a?(u=I.jsx(vs,{id:n.name,value:n.state.value,onBlur:n.handleBlur,onChange:o,errorMessage:i,isInvalid:a,validationBehavior:"aria",...r}),t[9]=i,t[10]=n.handleBlur,t[11]=n.name,t[12]=n.state.value,t[13]=r,t[14]=o,t[15]=a,t[16]=u):u=t[16],u}function fc(e){return e.message}export{gc as F,Mc as I,wc as b,_c as e,Sc as o,yc as s,bc as u};
