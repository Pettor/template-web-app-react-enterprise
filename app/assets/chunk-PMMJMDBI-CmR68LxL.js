import{W as t,bF as Oe,j as P,bG as _e,bW as re,dp as je,c7 as Ee,bY as Le,dN as Ne,bK as ce,bL as ue,bM as y,bO as qe}from"./index-BkDfcGXb.js";import{g as Z,e as z,d as we,c as Ae,u as fe}from"./chunk-YZ6YLE2T-AVNVSijw.js";import{$ as Me,b as Fe,a as ve,c as We,e as be,f as Ge,u as ze,d as He}from"./chunk-ICU6NNET-CgMlSRnB.js";import{m as Te}from"./chunk-LGMZDQT5-3O-o3J3D.js";function Ue(e,a,i){let{isDisabled:l=!1,isReadOnly:s=!1,value:v,name:b,form:r,children:d,"aria-label":c,"aria-labelledby":n,validationState:h="valid",isInvalid:m,onPressStart:x,onPressEnd:g,onPressChange:p,onPress:u,onPressUp:f,onClick:R}=e,E=$=>{$.stopPropagation(),a.setSelected($.target.checked)},{pressProps:L,isPressed:N}=Z({onPressStart:x,onPressEnd:g,onPressChange:p,onPress:u,onPressUp:f,onClick:R,isDisabled:l}),{pressProps:q,isPressed:w}=Z({onPressStart:x,onPressEnd:g,onPressChange:p,onPressUp:f,onClick:R,onPress($){var k;u?.($),a.toggle(),(k=i.current)===null||k===void 0||k.focus()},isDisabled:l||s}),{focusableProps:A}=Me(e,i),M=z(L,A),F=we(e,{labelable:!0});return Fe(i,a.defaultSelected,a.setSelected),{labelProps:z(q,{onClick:$=>$.preventDefault()}),inputProps:z(F,{"aria-invalid":m||h==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":s||void 0,onChange:E,disabled:l,...v==null?{}:{value:v},name:b,form:r,type:"checkbox",...M}),isSelected:a.isSelected,isPressed:N||w,isDisabled:l,isReadOnly:s,isInvalid:m||h==="invalid"}}function me(e,a,i){let l=ve({...e,value:a.isSelected}),{isInvalid:s,validationErrors:v,validationDetails:b}=l.displayValidation,{labelProps:r,inputProps:d,isSelected:c,isPressed:n,isDisabled:h,isReadOnly:m}=Ue({...e,isInvalid:s},a,i);We(e,l,i);let{isIndeterminate:x,isRequired:g,validationBehavior:p="aria"}=e;t.useEffect(()=>{i.current&&(i.current.indeterminate=!!x)});let{pressProps:u}=Z({isDisabled:h||m,onPress(){let{[be]:f}=e,{commitValidation:R}=f||l;R()}});return{labelProps:z(r,u,t.useMemo(()=>({onMouseDown:f=>f.preventDefault()}),[])),inputProps:{...d,checked:c,"aria-required":g&&p==="aria"||void 0,required:g&&p==="native"},isSelected:c,isPressed:n,isDisabled:h,isReadOnly:m,isInvalid:s,validationErrors:v,validationDetails:b}}const Ke=new WeakMap;function pe(e={}){let{isReadOnly:a}=e,[i,l]=Ae(e.isSelected,e.defaultSelected||!1,e.onChange),[s]=t.useState(i);function v(d){a||l(d)}function b(){a||l(!i)}var r;return{isSelected:i,defaultSelected:(r=e.defaultSelected)!==null&&r!==void 0?r:s,setSelected:v,toggle:b}}function Ye(e,a,i){const l=pe({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),defaultSelected:a.defaultValue.includes(e.value),onChange(f){f?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(f)}});let{name:s,form:v,descriptionId:b,errorMessageId:r,validationBehavior:d}=Ke.get(a);var c;d=(c=e.validationBehavior)!==null&&c!==void 0?c:d;let{realtimeValidation:n}=ve({...e,value:l.isSelected,name:void 0,validationBehavior:"aria"}),h=t.useRef(Ge),m=()=>{a.setInvalid(e.value,n.isInvalid?n:h.current)};t.useEffect(m);let x=a.realtimeValidation.isInvalid?a.realtimeValidation:n,g=d==="native"?a.displayValidation:x;var p;let u=me({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||s,form:e.form||v,isRequired:(p=e.isRequired)!==null&&p!==void 0?p:a.isRequired,validationBehavior:d,[be]:{realtimeValidation:x,displayValidation:g,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(f){h.current=f,m()}}},l,i);return{...u,inputProps:{...u.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?r:null,b].filter(Boolean).join(" ")||void 0}}}var[ta,Je]=Oe({name:"CheckboxGroupContext",strict:!1});function Qe(e){const{isSelected:a,disableAnimation:i,...l}=e;return P.jsx("svg",{"aria-hidden":"true",fill:"none",role:"presentation",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:a?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!i&&a?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{},viewBox:"0 0 17 18",...l,children:P.jsx("polyline",{points:"1 9 7 14 15 4"})})}function Xe(e){const{isSelected:a,disableAnimation:i,...l}=e;return P.jsx("svg",{stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",...l,children:P.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Ze(e){const{isIndeterminate:a,...i}=e,l=a?Xe:Qe;return P.jsx(l,{...i})}function ea(e,a=[]){const i=t.useRef(e);return fe(()=>{i.current=e}),t.useCallback((...l)=>{var s;return(s=i.current)==null?void 0:s.call(i,...l)},a)}function aa(e={}){var a,i,l,s,v,b,r,d;const c=_e(),n=Je(),{validationBehavior:h}=ze(He)||{},m=!!n,{as:x,ref:g,value:p="",children:u,icon:f,name:R,isRequired:E,isReadOnly:L=!1,autoFocus:N=!1,isSelected:q,size:w=(a=n?.size)!=null?a:"md",color:A=(i=n?.color)!=null?i:"primary",radius:M=n?.radius,lineThrough:F=(l=n?.lineThrough)!=null?l:!1,isDisabled:$=(s=n?.isDisabled)!=null?s:!1,disableAnimation:k=(b=(v=n?.disableAnimation)!=null?v:c?.disableAnimation)!=null?b:!1,validationState:W,isInvalid:G=W?W==="invalid":(r=n?.isInvalid)!=null?r:!1,isIndeterminate:V=!1,validationBehavior:Pe=m?n.validationBehavior:(d=h??c?.validationBehavior)!=null?d:"native",defaultSelected:ee,classNames:o,className:xe,onValueChange:ae,validate:ge,...B}=e,$e=x||"label",Ce=t.useRef(null),O=t.useRef(null);let H=e.onChange;m&&(H=re(()=>{n.groupState.resetValidation()},H));const T=t.useId(),U=t.useMemo(()=>({name:R,value:p,children:u,autoFocus:N,defaultSelected:ee,isIndeterminate:V,isRequired:E,isInvalid:G,isSelected:q,isDisabled:$,isReadOnly:L,"aria-label":je(B["aria-label"],u),"aria-labelledby":B["aria-labelledby"]||T,onChange:ae}),[R,p,u,N,ee,V,E,G,q,$,L,B["aria-label"],B["aria-labelledby"],T,ae]),ie=pe(U),le={isInvalid:G,isRequired:E,validate:ge,validationState:W,validationBehavior:Pe},{inputProps:D,isSelected:_,isDisabled:C,isReadOnly:K,isPressed:Ie,isInvalid:Se}=m?Ye({...U,...le},n.groupState,O):me({...U,...le},ie,O),ye=C||K,j=W==="invalid"||G||Se,ne=ye?!1:Ie,{hoverProps:se,isHovered:Y}=Ee({isDisabled:D.disabled}),{focusProps:te,isFocused:J,isFocusVisible:Q}=Le({autoFocus:D.autoFocus}),I=t.useMemo(()=>Ne({color:A,size:w,radius:M,isInvalid:j,lineThrough:F,isDisabled:C,disableAnimation:k}),[A,w,M,j,F,C,k]);fe(()=>{if(!O.current)return;const S=!!O.current.checked;ie.setSelected(S)},[O.current]);const X=ea(H),oe=t.useCallback(S=>{if(K||C){S.preventDefault();return}X?.(S)},[K,C,X]),de=ce(o?.base,xe),ke=t.useCallback(()=>({ref:Ce,className:I.base({class:de}),"data-disabled":y(C),"data-selected":y(_||V),"data-invalid":y(j),"data-hover":y(Y),"data-focus":y(J),"data-pressed":y(ne),"data-readonly":y(D.readOnly),"data-focus-visible":y(Q),"data-indeterminate":y(V),...ue(se,B)}),[I,de,C,_,V,j,Y,J,ne,D.readOnly,Q,se,B]),Re=t.useCallback((S={})=>({...S,"aria-hidden":!0,className:I.wrapper({class:ce(o?.wrapper,S?.className)})}),[I,o?.wrapper]),Ve=t.useCallback(()=>({ref:Te(O,g),...ue(D,te),className:I.hiddenInput({class:o?.hiddenInput}),onChange:re(D.onChange,oe)}),[D,te,oe,o?.hiddenInput]),De=t.useCallback(()=>({id:T,className:I.label({class:o?.label})}),[I,o?.label,C,_,j]),Be=t.useCallback(()=>({isSelected:_,isIndeterminate:V,disableAnimation:k,className:I.icon({class:o?.icon})}),[I,o?.icon,_,V,k]);return{Component:$e,icon:f,children:u,isSelected:_,isDisabled:C,isInvalid:j,isFocused:J,isHovered:Y,isFocusVisible:Q,getBaseProps:ke,getWrapperProps:Re,getInputProps:Ve,getLabelProps:De,getIconProps:Be}}var he=qe((e,a)=>{const{Component:i,children:l,icon:s=P.jsx(Ze,{}),getBaseProps:v,getWrapperProps:b,getInputProps:r,getIconProps:d,getLabelProps:c}=aa({...e,ref:a}),n=typeof s=="function"?s(d()):t.cloneElement(s,d());return P.jsxs(i,{...v(),children:[P.jsx("input",{...r()}),P.jsx("span",{...b(),children:n}),l&&P.jsx("span",{...c(),children:l})]})});he.displayName="HeroUI.Checkbox";var oa=he;export{oa as c};
