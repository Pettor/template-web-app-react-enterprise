import{a0 as Ie,r as m,bS as dt,bT as Je,aH as ft,bU as De,a1 as L,az as ht,bB as Te,bV as Ze,bW as pt,aD as Qe,bC as D,bX as xe,ax as oe,a9 as O,bY as U,bZ as re,bQ as vt,b_ as bt,b$ as mt,bE as ue,c0 as Ke,aw as yt,a2 as et,c1 as gt,bH as tt,c2 as nt,aA as $t,c3 as St}from"./index-BXNQNpKr.js";import{$ as wt}from"./chunk-AWMMSYR4-BkuIuGGe.js";const Ae=new WeakMap;function Et(r){let t=Ae.get(r);return t||(t=new Je(r),Ae.set(r,t)),t}function Tt(r,t){return t&&Je.getGlobalDictionaryForPackage(t)||Et(r)}function bn(r,t){let{locale:e}=Ie(),n=Tt(r,t);return m.useMemo(()=>new dt(e,n),[e,n])}class xt{get currentNode(){return this._currentNode}set currentNode(t){if(!De(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const e=[];let n=t,l=t;for(this._currentNode=t;n&&n!==this.root;)if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=n,s=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});e.push(s),s.currentNode=l,this._currentSetFor.add(s),n=l=o.host}else n=n.parentNode;const i=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});e.push(i),i.currentNode=l,this._currentSetFor.add(i),this._walkerStack=e}get doc(){return this._doc}firstChild(){let t=this.currentNode,e=this.nextNode();return De(t,e)?(e&&(this.currentNode=e),e):(this.currentNode=t,null)}lastChild(){let e=this._walkerStack[0].lastChild();return e&&(this.currentNode=e),e}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var e;let l;if(typeof this.filter=="function"?l=this.filter(t):!((e=this.filter)===null||e===void 0)&&e.acceptNode&&(l=this.filter.acceptNode(t)),l===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let i=this.nextNode();return i&&(this.currentNode=i),i}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.nextNode();return n&&(this.currentNode=n),n}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let l=this.previousNode();return l&&(this.currentNode=l),l}else return null;return null}const e=t.previousNode();if(e){if(e.shadowRoot){var n;let i;if(typeof this.filter=="function"?i=this.filter(e):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(i=this.filter.acceptNode(e)),i===NodeFilter.FILTER_ACCEPT)return e&&(this.currentNode=e),e;let o=this.lastChild();return o&&(this.currentNode=o),o}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let l=this.previousNode();return l&&(this.currentNode=l),l}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,e,n,l){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=o=>{if(o.nodeType===Node.ELEMENT_NODE){const c=o.shadowRoot;if(c){const a=this._doc.createTreeWalker(c,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(a),NodeFilter.FILTER_ACCEPT}else{var s;if(typeof this.filter=="function")return this.filter(o);if(!((s=this.filter)===null||s===void 0)&&s.acceptNode)return this.filter.acceptNode(o);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=e,this.filter=l??null,this.whatToShow=n??NodeFilter.SHOW_ALL,this._currentNode=e,this._walkerStack.unshift(t.createTreeWalker(e,n,this._acceptNode));const i=e.shadowRoot;if(i){const o=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(o)}}}function Kt(r,t,e,n){return ft()?new xt(r,t,e,n):r.createTreeWalker(t,e,n)}function Oe(r,t){const e=m.useRef(!0),n=m.useRef(null);L(()=>(e.current=!0,()=>{e.current=!1}),[]),L(()=>{e.current?e.current=!1:(!n.current||t.some((l,i)=>!Object.is(l,n[i])))&&r(),n.current=t},t)}function Fe(r,t){if(!r)return!1;let e=window.getComputedStyle(r),n=/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY);return n&&t&&(n=r.scrollHeight!==r.clientHeight||r.scrollWidth!==r.clientWidth),n}function mn(r,t){let e=r;for(Fe(e,t)&&(e=e.parentElement);e&&!Fe(e,t);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function Ft(r,t){const e=[];for(;r&&r!==document.documentElement;)Fe(r,t)&&e.push(r),r=r.parentElement;return e}function ie(r){return ht()?r.metaKey:r.ctrlKey}const Nt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function yn(r){return r instanceof HTMLInputElement&&!Nt.has(r.type)||r instanceof HTMLTextAreaElement||r instanceof HTMLElement&&r.isContentEditable}let Ct=0;const ge=new Map;function kt(r){let[t,e]=m.useState();return L(()=>{if(!r)return;let n=ge.get(r);if(n)e(n.element.id);else{let l=`react-aria-description-${Ct++}`;e(l);let i=document.createElement("div");i.id=l,i.style.display="none",i.textContent=r,document.body.appendChild(i),n={refCount:0,element:i},ge.set(r,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),ge.delete(r))}},[r]),{"aria-describedby":r?t:void 0}}function ce(r,t,e,n){let l=Te(e),i=e==null;m.useEffect(()=>{if(i||!r.current)return;let o=r.current;return o.addEventListener(t,l,n),()=>{o.removeEventListener(t,l,n)}},[r,t,n,i,l])}function lt(r,t){let e=Le(r,t,"left"),n=Le(r,t,"top"),l=t.offsetWidth,i=t.offsetHeight,o=r.scrollLeft,s=r.scrollTop,{borderTopWidth:c,borderLeftWidth:a,scrollPaddingTop:v,scrollPaddingRight:d,scrollPaddingBottom:f,scrollPaddingLeft:p}=getComputedStyle(r),{scrollMarginTop:b,scrollMarginRight:x,scrollMarginBottom:g,scrollMarginLeft:S}=getComputedStyle(t),w=o+parseInt(a,10),E=s+parseInt(c,10),F=w+r.clientWidth,A=E+r.clientHeight,I=parseInt(v,10)||0,P=parseInt(f,10)||0,k=parseInt(d,10)||0,j=parseInt(p,10)||0,_=parseInt(b,10)||0,W=parseInt(g,10)||0,z=parseInt(x,10)||0,M=parseInt(S,10)||0,Z=e-M,Y=e+l+z,Q=n-_,h=n+i+W,$=o+parseInt(a,10)+j,K=F-k,u=s+parseInt(c,10)+I,N=A-P;(Z>$||Y<K)&&(Z<=o+j?o=Z-parseInt(a,10)-j:Y>F-k&&(o+=Y-F+k)),(Q>u||h<N)&&(Q<=E+I?s=Q-parseInt(c,10)-I:h>A-P&&(s+=h-A+P)),r.scrollTo({left:o,top:s})}function Le(r,t,e){const n=e==="left"?"offsetLeft":"offsetTop";let l=0;for(;t.offsetParent&&(l+=t[n],t.offsetParent!==r);){if(t.offsetParent.contains(r)){l-=r[n];break}t=t.offsetParent}return l}function ze(r,t){if(r&&document.contains(r)){let o=document.scrollingElement||document.documentElement;if(!(window.getComputedStyle(o).overflow==="hidden")&&!Ze()){var e;let{left:c,top:a}=r.getBoundingClientRect();r==null||(e=r.scrollIntoView)===null||e===void 0||e.call(r,{block:"nearest"});let{left:v,top:d}=r.getBoundingClientRect();if(Math.abs(c-v)>1||Math.abs(a-d)>1){var n,l,i;t==null||(l=t.containingElement)===null||l===void 0||(n=l.scrollIntoView)===null||n===void 0||n.call(l,{block:"center",inline:"center"}),(i=r.scrollIntoView)===null||i===void 0||i.call(r,{block:"nearest"})}}else{let c=Ft(r);for(let a of c)lt(a,r)}}}const Mt="react-aria-clear-focus",It="react-aria-focus";let $e=new Map;function gn(r){let{locale:t}=Ie(),e=t+(r?Object.entries(r).sort((l,i)=>l[0]<i[0]?-1:1).join():"");if($e.has(e))return $e.get(e);let n=new Intl.Collator(t,r);return $e.set(e,n),n}const Pt=500;function Rt(r){let{isDisabled:t,onLongPressStart:e,onLongPressEnd:n,onLongPress:l,threshold:i=Pt,accessibilityDescription:o}=r;const s=m.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:a}=pt(),{pressProps:v}=Qe({isDisabled:t,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(e&&e({...f,type:"longpressstart"}),s.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),D(f.target).activeElement!==f.target&&xe(f.target),l&&l({...f,type:"longpress"}),s.current=void 0},i),f.pointerType==="touch")){let p=b=>{b.preventDefault()};c(f.target,"contextmenu",p,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{a(f.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(f){s.current&&clearTimeout(s.current),n&&(f.pointerType==="mouse"||f.pointerType==="touch")&&n({...f,type:"longpressend"})}}),d=kt(l&&!t?o:void 0);return{longPressProps:oe(v,d)}}const Be=O.createContext(null),Ne="react-aria-focus-scope-restore";let T=null;function $n(r){let{children:t,contain:e,restoreFocus:n,autoFocus:l}=r,i=m.useRef(null),o=m.useRef(null),s=m.useRef([]),{parentNode:c}=m.useContext(Be)||{},a=m.useMemo(()=>new ke({scopeRef:s}),[s]);L(()=>{let f=c||C.root;if(C.getTreeNode(f.scopeRef)&&T&&!de(T,f.scopeRef)){let p=C.getTreeNode(T);p&&(f=p)}f.addChild(a),C.addNode(a)},[a,c]),L(()=>{let f=C.getTreeNode(s);f&&(f.contain=!!e)},[e]),L(()=>{var f;let p=(f=i.current)===null||f===void 0?void 0:f.nextSibling,b=[],x=g=>g.stopPropagation();for(;p&&p!==o.current;)b.push(p),p.addEventListener(Ne,x),p=p.nextSibling;return s.current=b,()=>{for(let g of b)g.removeEventListener(Ne,x)}},[t]),zt(s,n,e),Ot(s,e),Bt(s,n,e),Lt(s,l),m.useEffect(()=>{const f=U(D(s.current?s.current[0]:void 0));let p=null;if(B(f,s.current)){for(let b of C.traverse())b.scopeRef&&B(f,b.scopeRef.current)&&(p=b);p===C.getTreeNode(s)&&(T=p.scopeRef)}},[s]),L(()=>()=>{var f,p,b;let x=(b=(p=C.getTreeNode(s))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&b!==void 0?b:null;(s===T||de(s,T))&&(!x||C.getTreeNode(x))&&(T=x),C.removeTreeNode(s)},[s]);let v=m.useMemo(()=>Dt(s),[]),d=m.useMemo(()=>({focusManager:v,parentNode:a}),[a,v]);return O.createElement(Be.Provider,{value:d},O.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,O.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function Dt(r){return{focusNext(t={}){let e=r.current,{from:n,tabbable:l,wrap:i,accept:o}=t;var s;let c=n||U(D((s=e[0])!==null&&s!==void 0?s:void 0)),a=e[0].previousElementSibling,v=ne(e),d=G(v,{tabbable:l,accept:o},e);d.currentNode=B(c,e)?c:a;let f=d.nextNode();return!f&&i&&(d.currentNode=a,f=d.nextNode()),f&&q(f,!0),f},focusPrevious(t={}){let e=r.current,{from:n,tabbable:l,wrap:i,accept:o}=t;var s;let c=n||U(D((s=e[0])!==null&&s!==void 0?s:void 0)),a=e[e.length-1].nextElementSibling,v=ne(e),d=G(v,{tabbable:l,accept:o},e);d.currentNode=B(c,e)?c:a;let f=d.previousNode();return!f&&i&&(d.currentNode=a,f=d.previousNode()),f&&q(f,!0),f},focusFirst(t={}){let e=r.current,{tabbable:n,accept:l}=t,i=ne(e),o=G(i,{tabbable:n,accept:l},e);o.currentNode=e[0].previousElementSibling;let s=o.nextNode();return s&&q(s,!0),s},focusLast(t={}){let e=r.current,{tabbable:n,accept:l}=t,i=ne(e),o=G(i,{tabbable:n,accept:l},e);o.currentNode=e[e.length-1].nextElementSibling;let s=o.previousNode();return s&&q(s,!0),s}}}function ne(r){return r[0].parentElement}function se(r){let t=C.getTreeNode(T);for(;t&&t.scopeRef!==r;){if(t.contain)return!1;t=t.parent}return!0}function At(r){if(r.checked)return!0;let t=[];if(!r.form)t=[...D(r).querySelectorAll(`input[type="radio"][name="${CSS.escape(r.name)}"]`)].filter(i=>!i.form);else{var e,n;let i=(n=r.form)===null||n===void 0||(e=n.elements)===null||e===void 0?void 0:e.namedItem(r.name);t=[...i??[]]}return t?!t.some(i=>i.checked):!1}function Ot(r,t){let e=m.useRef(void 0),n=m.useRef(void 0);L(()=>{let l=r.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const i=D(l?l[0]:void 0);let o=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!se(r)||a.isComposing)return;let v=U(i),d=r.current;if(!d||!B(v,d))return;let f=ne(d),p=G(f,{tabbable:!0},d);if(!v)return;p.currentNode=v;let b=a.shiftKey?p.previousNode():p.nextNode();b||(p.currentNode=a.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,b=a.shiftKey?p.previousNode():p.nextNode()),a.preventDefault(),b&&q(b,!0)},s=a=>{(!T||de(T,r))&&B(re(a),r.current)?(T=r,e.current=re(a)):se(r)&&!J(re(a),r)?e.current?e.current.focus():T&&T.current&&Ce(T.current):se(r)&&(e.current=re(a))},c=a=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{let v=Ke(),d=(v==="virtual"||v===null)&&vt()&&Ze(),f=U(i);if(!d&&f&&se(r)&&!J(f,r)){T=r;let b=re(a);if(b&&b.isConnected){var p;e.current=b,(p=e.current)===null||p===void 0||p.focus()}else T.current&&Ce(T.current)}})};return i.addEventListener("keydown",o,!1),i.addEventListener("focusin",s,!1),l?.forEach(a=>a.addEventListener("focusin",s,!1)),l?.forEach(a=>a.addEventListener("focusout",c,!1)),()=>{i.removeEventListener("keydown",o,!1),i.removeEventListener("focusin",s,!1),l?.forEach(a=>a.removeEventListener("focusin",s,!1)),l?.forEach(a=>a.removeEventListener("focusout",c,!1))}},[r,t]),L(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function rt(r){return J(r)}function B(r,t){return!r||!t?!1:t.some(e=>e.contains(r))}function J(r,t=null){if(r instanceof Element&&r.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:e}of C.traverse(C.getTreeNode(t)))if(e&&B(r,e.current))return!0;return!1}function Sn(r){return J(r,T)}function de(r,t){var e;let n=(e=C.getTreeNode(t))===null||e===void 0?void 0:e.parent;for(;n;){if(n.scopeRef===r)return!0;n=n.parent}return!1}function q(r,t=!1){if(r!=null&&!t)try{ue(r)}catch{}else if(r!=null)try{r.focus()}catch{}}function it(r,t=!0){let e=r[0].previousElementSibling,n=ne(r),l=G(n,{tabbable:t},r);l.currentNode=e;let i=l.nextNode();return t&&!i&&(n=ne(r),l=G(n,{tabbable:!1},r),l.currentNode=e,i=l.nextNode()),i}function Ce(r,t=!0){q(it(r,t))}function Lt(r,t){const e=O.useRef(t);m.useEffect(()=>{if(e.current){T=r;const n=D(r.current?r.current[0]:void 0);!B(U(n),T.current)&&r.current&&Ce(r.current)}e.current=!1},[r])}function zt(r,t,e){L(()=>{if(t||e)return;let n=r.current;const l=D(n?n[0]:void 0);let i=o=>{let s=re(o);B(s,r.current)?T=r:rt(s)||(T=null)};return l.addEventListener("focusin",i,!1),n?.forEach(o=>o.addEventListener("focusin",i,!1)),()=>{l.removeEventListener("focusin",i,!1),n?.forEach(o=>o.removeEventListener("focusin",i,!1))}},[r,t,e])}function We(r){let t=C.getTreeNode(T);for(;t&&t.scopeRef!==r;){if(t.nodeToRestore)return!1;t=t.parent}return t?.scopeRef===r}function Bt(r,t,e){const n=m.useRef(typeof document<"u"?U(D(r.current?r.current[0]:void 0)):null);L(()=>{let l=r.current;const i=D(l?l[0]:void 0);if(!t||e)return;let o=()=>{(!T||de(T,r))&&B(U(i),r.current)&&(T=r)};return i.addEventListener("focusin",o,!1),l?.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),l?.forEach(s=>s.removeEventListener("focusin",o,!1))}},[r,e]),L(()=>{const l=D(r.current?r.current[0]:void 0);if(!t)return;let i=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!se(r)||o.isComposing)return;let s=l.activeElement;if(!J(s,r)||!We(r))return;let c=C.getTreeNode(r);if(!c)return;let a=c.nodeToRestore,v=G(l.body,{tabbable:!0});v.currentNode=s;let d=o.shiftKey?v.previousNode():v.nextNode();if((!a||!a.isConnected||a===l.body)&&(a=void 0,c.nodeToRestore=void 0),(!d||!J(d,r))&&a){v.currentNode=a;do d=o.shiftKey?v.previousNode():v.nextNode();while(J(d,r));o.preventDefault(),o.stopPropagation(),d?q(d,!0):rt(a)?q(a,!0):s.blur()}};return e||l.addEventListener("keydown",i,!0),()=>{e||l.removeEventListener("keydown",i,!0)}},[r,t,e]),L(()=>{const l=D(r.current?r.current[0]:void 0);if(!t)return;let i=C.getTreeNode(r);if(i){var o;return i.nodeToRestore=(o=n.current)!==null&&o!==void 0?o:void 0,()=>{let s=C.getTreeNode(r);if(!s)return;let c=s.nodeToRestore,a=U(l);if(t&&c&&(a&&J(a,r)||a===l.body&&We(r))){let v=C.clone();requestAnimationFrame(()=>{if(l.activeElement===l.body){let d=v.getTreeNode(r);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){He(d.nodeToRestore);return}d=d.parent}for(d=v.getTreeNode(r);d;){if(d.scopeRef&&d.scopeRef.current&&C.getTreeNode(d.scopeRef)){let f=it(d.scopeRef.current,!0);He(f);return}d=d.parent}}})}}}},[r,t])}function He(r){r.dispatchEvent(new CustomEvent(Ne,{bubbles:!0,cancelable:!0}))&&q(r)}function G(r,t,e){let n=t?.tabbable?bt:mt,l=r?.nodeType===Node.ELEMENT_NODE?r:null,i=D(l),o=Kt(i,r||i,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(s)||t?.tabbable&&s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(!At(s)||o.currentNode.tagName==="INPUT"&&o.currentNode.type==="radio"&&o.currentNode.name===s.name)?NodeFilter.FILTER_REJECT:n(s)&&(!e||B(s,e))&&(!t?.accept||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(o.currentNode=t.from),o}class Pe{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,e,n){let l=this.fastMap.get(e??null);if(!l)return;let i=new ke({scopeRef:t});l.addChild(i),i.parent=l,this.fastMap.set(t,i),n&&(i.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let e=this.fastMap.get(t);if(!e)return;let n=e.parent;for(let i of this.traverse())i!==e&&e.nodeToRestore&&i.nodeToRestore&&e.scopeRef&&e.scopeRef.current&&B(i.nodeToRestore,e.scopeRef.current)&&(i.nodeToRestore=e.nodeToRestore);let l=e.children;n&&(n.removeChild(e),l.size>0&&l.forEach(i=>n&&n.addChild(i))),this.fastMap.delete(e.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let e of t.children)yield*this.traverse(e)}clone(){var t;let e=new Pe;var n;for(let l of this.traverse())e.addTreeNode(l.scopeRef,(n=(t=l.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,l.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new ke({scopeRef:null}),this.fastMap.set(null,this.root)}}class ke{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let C=new Pe;function ot(r){let t=Ht(D(r));t!==r&&(t&&Wt(t,r),r&&st(r,t))}function Wt(r,t){r.dispatchEvent(new FocusEvent("blur",{relatedTarget:t})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:t}))}function st(r,t){r.dispatchEvent(new FocusEvent("focus",{relatedTarget:t})),r.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:t}))}function Ht(r){let t=U(r),e=t?.getAttribute("aria-activedescendant");return e&&r.getElementById(e)||t}const Ue={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Ut(r={}){let{style:t,isFocusable:e}=r,[n,l]=m.useState(!1),{focusWithinProps:i}=yt({isDisabled:!e,onFocusWithinChange:s=>l(s)}),o=m.useMemo(()=>n?t:t?{...Ue,...t}:Ue,[n]);return{visuallyHiddenProps:{...i,style:o}}}function wn(r){let{children:t,elementType:e="div",isFocusable:n,style:l,...i}=r,{visuallyHiddenProps:o}=Ut(r);return O.createElement(e,oe(i,o),t)}function Me(r){return gt()?r.altKey:r.ctrlKey}function ae(r,t){var e,n;let l=`[data-key="${CSS.escape(String(t))}"]`,i=(e=r.current)===null||e===void 0?void 0:e.dataset.collection;return i&&(l=`[data-collection="${CSS.escape(i)}"]${l}`),(n=r.current)===null||n===void 0?void 0:n.querySelector(l)}const ct=new WeakMap;function jt(r){let t=et();return ct.set(r,t),t}function Vt(r){return ct.get(r)}const _t=1e3;function qt(r){let{keyboardDelegate:t,selectionManager:e,onTypeSelect:n}=r,l=m.useRef({search:"",timeout:void 0}).current,i=o=>{let s=Gt(o.key);if(!(!s||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target)||l.search.length===0&&s===" ")){if(s===" "&&l.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),l.search+=s,t.getKeyForSearch!=null){let c=t.getKeyForSearch(l.search,e.focusedKey);c==null&&(c=t.getKeyForSearch(l.search)),c!=null&&(e.setFocusedKey(c),n&&n(c))}clearTimeout(l.timeout),l.timeout=setTimeout(()=>{l.search=""},_t)}};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?i:void 0}}}function Gt(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function En(r){let{selectionManager:t,keyboardDelegate:e,ref:n,autoFocus:l=!1,shouldFocusWrap:i=!1,disallowEmptySelection:o=!1,disallowSelectAll:s=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:a=t.selectionBehavior==="replace",disallowTypeAhead:v=!1,shouldUseVirtualFocus:d,allowsTabNavigation:f=!1,isVirtualized:p,scrollRef:b=n,linkBehavior:x="action"}=r,{direction:g}=Ie(),S=tt(),w=h=>{var $;if(h.altKey&&h.key==="Tab"&&h.preventDefault(),!(!(($=n.current)===null||$===void 0)&&$.contains(h.target)))return;const K=(y,ee)=>{if(y!=null){if(t.isLink(y)&&x==="selection"&&a&&!Me(h)){nt.flushSync(()=>{t.setFocusedKey(y,ee)});let te=ae(n,y),Re=t.getItemProps(y);te&&S.open(te,h,Re.href,Re.routerOptions);return}if(t.setFocusedKey(y,ee),t.isLink(y)&&x==="override")return;h.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(y):a&&!Me(h)&&t.replaceSelection(y)}};switch(h.key){case"ArrowDown":if(e.getKeyBelow){var u,N,R;let y=t.focusedKey!=null?(u=e.getKeyBelow)===null||u===void 0?void 0:u.call(e,t.focusedKey):(N=e.getFirstKey)===null||N===void 0?void 0:N.call(e);y==null&&i&&(y=(R=e.getFirstKey)===null||R===void 0?void 0:R.call(e,t.focusedKey)),y!=null&&(h.preventDefault(),K(y))}break;case"ArrowUp":if(e.getKeyAbove){var V,X,fe;let y=t.focusedKey!=null?(V=e.getKeyAbove)===null||V===void 0?void 0:V.call(e,t.focusedKey):(X=e.getLastKey)===null||X===void 0?void 0:X.call(e);y==null&&i&&(y=(fe=e.getLastKey)===null||fe===void 0?void 0:fe.call(e,t.focusedKey)),y!=null&&(h.preventDefault(),K(y))}break;case"ArrowLeft":if(e.getKeyLeftOf){var he,pe,ve;let y=t.focusedKey!=null?(he=e.getKeyLeftOf)===null||he===void 0?void 0:he.call(e,t.focusedKey):null;y==null&&i&&(y=g==="rtl"?(pe=e.getFirstKey)===null||pe===void 0?void 0:pe.call(e,t.focusedKey):(ve=e.getLastKey)===null||ve===void 0?void 0:ve.call(e,t.focusedKey)),y!=null&&(h.preventDefault(),K(y,g==="rtl"?"first":"last"))}break;case"ArrowRight":if(e.getKeyRightOf){var be,me,ye;let y=t.focusedKey!=null?(be=e.getKeyRightOf)===null||be===void 0?void 0:be.call(e,t.focusedKey):null;y==null&&i&&(y=g==="rtl"?(me=e.getLastKey)===null||me===void 0?void 0:me.call(e,t.focusedKey):(ye=e.getFirstKey)===null||ye===void 0?void 0:ye.call(e,t.focusedKey)),y!=null&&(h.preventDefault(),K(y,g==="rtl"?"last":"first"))}break;case"Home":if(e.getFirstKey){if(t.focusedKey===null&&h.shiftKey)return;h.preventDefault();let y=e.getFirstKey(t.focusedKey,ie(h));t.setFocusedKey(y),y!=null&&(ie(h)&&h.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(y):a&&t.replaceSelection(y))}break;case"End":if(e.getLastKey){if(t.focusedKey===null&&h.shiftKey)return;h.preventDefault();let y=e.getLastKey(t.focusedKey,ie(h));t.setFocusedKey(y),y!=null&&(ie(h)&&h.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(y):a&&t.replaceSelection(y))}break;case"PageDown":if(e.getKeyPageBelow&&t.focusedKey!=null){let y=e.getKeyPageBelow(t.focusedKey);y!=null&&(h.preventDefault(),K(y))}break;case"PageUp":if(e.getKeyPageAbove&&t.focusedKey!=null){let y=e.getKeyPageAbove(t.focusedKey);y!=null&&(h.preventDefault(),K(y))}break;case"a":ie(h)&&t.selectionMode==="multiple"&&s!==!0&&(h.preventDefault(),t.selectAll());break;case"Escape":c==="clearSelection"&&!o&&t.selectedKeys.size!==0&&(h.stopPropagation(),h.preventDefault(),t.clearSelection());break;case"Tab":if(!f){if(h.shiftKey)n.current.focus();else{let y=G(n.current,{tabbable:!0}),ee,te;do te=y.lastChild(),te&&(ee=te);while(te);ee&&!ee.contains(document.activeElement)&&xe(ee)}break}}},E=m.useRef({top:0,left:0});ce(b,"scroll",p?void 0:()=>{var h,$,K,u;E.current={top:(K=(h=b.current)===null||h===void 0?void 0:h.scrollTop)!==null&&K!==void 0?K:0,left:(u=($=b.current)===null||$===void 0?void 0:$.scrollLeft)!==null&&u!==void 0?u:0}});let F=h=>{if(t.isFocused){h.currentTarget.contains(h.target)||t.setFocused(!1);return}if(h.currentTarget.contains(h.target)){if(t.setFocused(!0),t.focusedKey==null){var $,K;let R=X=>{X!=null&&(t.setFocusedKey(X),a&&!t.isSelected(X)&&t.replaceSelection(X))},V=h.relatedTarget;var u,N;V&&h.currentTarget.compareDocumentPosition(V)&Node.DOCUMENT_POSITION_FOLLOWING?R((u=t.lastSelectedKey)!==null&&u!==void 0?u:($=e.getLastKey)===null||$===void 0?void 0:$.call(e)):R((N=t.firstSelectedKey)!==null&&N!==void 0?N:(K=e.getFirstKey)===null||K===void 0?void 0:K.call(e))}else!p&&b.current&&(b.current.scrollTop=E.current.top,b.current.scrollLeft=E.current.left);if(t.focusedKey!=null&&b.current){let R=ae(n,t.focusedKey);R instanceof HTMLElement&&(!R.contains(document.activeElement)&&!d&&xe(R),Ke()==="keyboard"&&ze(R,{containingElement:n.current}))}}},A=h=>{h.currentTarget.contains(h.relatedTarget)||t.setFocused(!1)},I=m.useRef(!1);ce(n,It,d?h=>{let{detail:$}=h;h.stopPropagation(),t.setFocused(!0),$?.focusStrategy==="first"&&(I.current=!0)}:void 0);let P=Te(()=>{var h,$;let K=($=(h=e.getFirstKey)===null||h===void 0?void 0:h.call(e))!==null&&$!==void 0?$:null;if(K==null){let u=U();ot(n.current),st(u,null),t.collection.size>0&&(I.current=!1)}else t.setFocusedKey(K),I.current=!1});Oe(()=>{I.current&&P()},[t.collection,P]);let k=Te(()=>{t.collection.size>0&&(I.current=!1)});Oe(()=>{k()},[t.focusedKey,k]),ce(n,Mt,d?h=>{var $;h.stopPropagation(),t.setFocused(!1),!(($=h.detail)===null||$===void 0)&&$.clearFocusKey&&t.setFocusedKey(null)}:void 0);const j=m.useRef(l),_=m.useRef(!1);m.useEffect(()=>{if(j.current){var h,$;let N=null;var K;l==="first"&&(N=(K=(h=e.getFirstKey)===null||h===void 0?void 0:h.call(e))!==null&&K!==void 0?K:null);var u;l==="last"&&(N=(u=($=e.getLastKey)===null||$===void 0?void 0:$.call(e))!==null&&u!==void 0?u:null);let R=t.selectedKeys;if(R.size){for(let V of R)if(t.canSelectItem(V)){N=V;break}}t.setFocused(!0),t.setFocusedKey(N),N==null&&!d&&n.current&&ue(n.current),t.collection.size>0&&(j.current=!1,_.current=!0)}});let W=m.useRef(t.focusedKey),z=m.useRef(null);m.useEffect(()=>{if(t.isFocused&&t.focusedKey!=null&&(t.focusedKey!==W.current||_.current)&&b.current&&n.current){let h=Ke(),$=ae(n,t.focusedKey);if(!($ instanceof HTMLElement))return;(h==="keyboard"||_.current)&&(z.current&&cancelAnimationFrame(z.current),z.current=requestAnimationFrame(()=>{b.current&&(lt(b.current,$),h!=="virtual"&&ze($,{containingElement:n.current}))}))}!d&&t.isFocused&&t.focusedKey==null&&W.current!=null&&n.current&&ue(n.current),W.current=t.focusedKey,_.current=!1}),m.useEffect(()=>()=>{z.current&&cancelAnimationFrame(z.current)},[]),ce(n,"react-aria-focus-scope-restore",h=>{h.preventDefault(),t.setFocused(!0)});let M={onKeyDown:w,onFocus:F,onBlur:A,onMouseDown(h){b.current===h.target&&h.preventDefault()}},{typeSelectProps:Z}=qt({keyboardDelegate:e,selectionManager:t});v||(M=oe(Z,M));let Y;d||(Y=t.focusedKey==null?0:-1);let Q=jt(t.collection);return{collectionProps:oe(M,{tabIndex:Y,"data-collection":Q})}}function Tn(r){let{id:t,selectionManager:e,key:n,ref:l,shouldSelectOnPressUp:i,shouldUseVirtualFocus:o,focus:s,isDisabled:c,onAction:a,allowsDifferentPressOrigin:v,linkBehavior:d="action"}=r,f=tt();t=et(t);let p=u=>{if(u.pointerType==="keyboard"&&Me(u))e.toggleSelection(n);else{if(e.selectionMode==="none")return;if(e.isLink(n)){if(d==="selection"&&l.current){let N=e.getItemProps(n);f.open(l.current,u,N.href,N.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(d==="override"||d==="none")return}e.selectionMode==="single"?e.isSelected(n)&&!e.disallowEmptySelection?e.toggleSelection(n):e.replaceSelection(n):u&&u.shiftKey?e.extendSelection(n):e.selectionBehavior==="toggle"||u&&(ie(u)||u.pointerType==="touch"||u.pointerType==="virtual")?e.toggleSelection(n):e.replaceSelection(n)}};m.useEffect(()=>{n===e.focusedKey&&e.isFocused&&(o?ot(l.current):s?s():document.activeElement!==l.current&&l.current&&ue(l.current))},[l,n,e.focusedKey,e.childFocusStrategy,e.isFocused,o]),c=c||e.isDisabled(n);let b={};!o&&!c?b={tabIndex:n===e.focusedKey?0:-1,onFocus(u){u.target===l.current&&e.setFocusedKey(n)}}:c&&(b.onMouseDown=u=>{u.preventDefault()});let x=e.isLink(n)&&d==="override",g=a&&r.UNSTABLE_itemBehavior==="action",S=e.isLink(n)&&d!=="selection"&&d!=="none",w=!c&&e.canSelectItem(n)&&!x&&!g,E=(a||S)&&!c,F=E&&(e.selectionBehavior==="replace"?!w:!w||e.isEmpty),A=E&&w&&e.selectionBehavior==="replace",I=F||A,P=m.useRef(null),k=I&&w,j=m.useRef(!1),_=m.useRef(!1),W=e.getItemProps(n),z=u=>{if(a){var N;a(),(N=l.current)===null||N===void 0||N.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}S&&l.current&&f.open(l.current,u,W.href,W.routerOptions)},M={ref:l};if(i?(M.onPressStart=u=>{P.current=u.pointerType,j.current=k,u.pointerType==="keyboard"&&(!I||Ve())&&p(u)},v?(M.onPressUp=F?void 0:u=>{u.pointerType==="mouse"&&w&&p(u)},M.onPress=F?z:u=>{u.pointerType!=="keyboard"&&u.pointerType!=="mouse"&&w&&p(u)}):M.onPress=u=>{if(F||A&&u.pointerType!=="mouse"){if(u.pointerType==="keyboard"&&!je())return;z(u)}else u.pointerType!=="keyboard"&&w&&p(u)}):(M.onPressStart=u=>{P.current=u.pointerType,j.current=k,_.current=F,w&&(u.pointerType==="mouse"&&!F||u.pointerType==="keyboard"&&(!E||Ve()))&&p(u)},M.onPress=u=>{(u.pointerType==="touch"||u.pointerType==="pen"||u.pointerType==="virtual"||u.pointerType==="keyboard"&&I&&je()||u.pointerType==="mouse"&&_.current)&&(I?z(u):w&&p(u))}),b["data-collection"]=Vt(e.collection),b["data-key"]=n,M.preventFocusOnPress=o,o&&(M=oe(M,{onPressStart(u){u.pointerType!=="touch"&&(e.setFocused(!0),e.setFocusedKey(n))},onPress(u){u.pointerType==="touch"&&(e.setFocused(!0),e.setFocusedKey(n))}})),W)for(let u of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])W[u]&&(M[u]=$t(M[u],W[u]));let{pressProps:Z,isPressed:Y}=Qe(M),Q=A?u=>{P.current==="mouse"&&(u.stopPropagation(),u.preventDefault(),z(u))}:void 0,{longPressProps:h}=Rt({isDisabled:!k,onLongPress(u){u.pointerType==="touch"&&(p(u),e.setSelectionBehavior("toggle"))}}),$=u=>{P.current==="touch"&&j.current&&u.preventDefault()},K=d!=="none"&&e.isLink(n)?u=>{St.isOpening||u.preventDefault()}:void 0;return{itemProps:oe(b,w||F||o&&!c?Z:{},k?h:{},{onDoubleClick:Q,onDragStartCapture:$,onClick:K,id:t},o?{onMouseDown:u=>u.preventDefault()}:void 0),isPressed:Y,isSelected:e.isSelected(n),isFocused:e.isFocused&&e.focusedKey===n,isDisabled:c,allowsSelection:w,hasAction:I}}function je(){let r=window.event;return r?.key==="Enter"}function Ve(){let r=window.event;return r?.key===" "||r?.code==="Space"}class xn{getItemRect(t){let e=this.ref.current;if(!e)return null;let n=t!=null?ae(this.ref,t):null;if(!n)return null;let l=e.getBoundingClientRect(),i=n.getBoundingClientRect();return{x:i.left-l.left-e.clientLeft+e.scrollLeft,y:i.top-l.top-e.clientTop+e.scrollTop,width:i.width,height:i.height}}getContentSize(){let t=this.ref.current;var e,n;return{width:(e=t?.scrollWidth)!==null&&e!==void 0?e:0,height:(n=t?.scrollHeight)!==null&&n!==void 0?n:0}}getVisibleRect(){let t=this.ref.current;var e,n,l,i;return{x:(e=t?.scrollLeft)!==null&&e!==void 0?e:0,y:(n=t?.scrollTop)!==null&&n!==void 0?n:0,width:(l=t?.clientWidth)!==null&&l!==void 0?l:0,height:(i=t?.clientHeight)!==null&&i!==void 0?i:0}}constructor(t){this.ref=t}}class H extends Set{constructor(t,e,n){super(t),t instanceof H?(this.anchorKey=e??t.anchorKey,this.currentKey=n??t.currentKey):(this.anchorKey=e??null,this.currentKey=n??null)}}function Yt(r,t){if(r.size!==t.size)return!1;for(let e of r)if(!t.has(e))return!1;return!0}function Kn(r){let{selectionMode:t="none",disallowEmptySelection:e=!1,allowDuplicateSelectionEvents:n,selectionBehavior:l="toggle",disabledBehavior:i="all"}=r,o=m.useRef(!1),[,s]=m.useState(!1),c=m.useRef(null),a=m.useRef(null),[,v]=m.useState(null),d=m.useMemo(()=>_e(r.selectedKeys),[r.selectedKeys]),f=m.useMemo(()=>_e(r.defaultSelectedKeys,new H),[r.defaultSelectedKeys]),[p,b]=wt(d,f,r.onSelectionChange),x=m.useMemo(()=>r.disabledKeys?new Set(r.disabledKeys):new Set,[r.disabledKeys]),[g,S]=m.useState(l);l==="replace"&&g==="toggle"&&typeof p=="object"&&p.size===0&&S("replace");let w=m.useRef(l);return m.useEffect(()=>{l!==w.current&&(S(l),w.current=l)},[l]),{selectionMode:t,disallowEmptySelection:e,selectionBehavior:g,setSelectionBehavior:S,get isFocused(){return o.current},setFocused(E){o.current=E,s(E)},get focusedKey(){return c.current},get childFocusStrategy(){return a.current},setFocusedKey(E,F="first"){c.current=E,a.current=F,v(E)},selectedKeys:p,setSelectedKeys(E){(n||!Yt(E,p))&&b(E)},disabledKeys:x,disabledBehavior:i}}function _e(r,t){return r?r==="all"?"all":new H(r):t}class Xt{build(t,e){return this.context=e,qe(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:e,items:n}=t;if(O.isValidElement(e)&&e.type===O.Fragment)yield*this.iterateCollection({children:e.props.children,items:n});else if(typeof e=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");let l=0;for(let i of n)yield*this.getFullNode({value:i,index:l},{renderer:e}),l++}else{let l=[];O.Children.forEach(e,o=>{o&&l.push(o)});let i=0;for(let o of l){let s=this.getFullNode({element:o,index:i},{});for(let c of s)i++,yield c}}}getKey(t,e,n,l){if(t.key!=null)return t.key;if(e.type==="cell"&&e.key!=null)return`${l}${e.key}`;let i=e.value;if(i!=null){var o;let s=(o=i.key)!==null&&o!==void 0?o:i.id;if(s==null)throw new Error("No key found for item");return s}return l?`${l}.${e.index}`:`$.${e.index}`}getChildState(t,e){return{renderer:e.renderer||t.renderer}}*getFullNode(t,e,n,l){if(O.isValidElement(t.element)&&t.element.type===O.Fragment){let g=[];O.Children.forEach(t.element.props.children,w=>{g.push(w)});var i;let S=(i=t.index)!==null&&i!==void 0?i:0;for(const w of g)yield*this.getFullNode({element:w,index:S++},e,n,l);return}let o=t.element;if(!o&&t.value&&e&&e.renderer){let g=this.cache.get(t.value);if(g&&(!g.shouldInvalidate||!g.shouldInvalidate(this.context))){g.index=t.index,g.parentKey=l?l.key:null,yield g;return}o=e.renderer(t.value)}if(O.isValidElement(o)){let g=o.type;if(typeof g!="function"&&typeof g.getCollectionNode!="function"){let F=o.type;throw new Error(`Unknown element <${F}> in collection.`)}let S=g.getCollectionNode(o.props,this.context);var s;let w=(s=t.index)!==null&&s!==void 0?s:0,E=S.next();for(;!E.done&&E.value;){let F=E.value;t.index=w;var c;let A=(c=F.key)!==null&&c!==void 0?c:null;A==null&&(A=F.element?null:this.getKey(o,t,e,n));let P=[...this.getFullNode({...F,key:A,index:w,wrapper:Jt(t.wrapper,F.wrapper)},this.getChildState(e,F),n?`${n}${o.key}`:o.key,l)];for(let k of P){var a,v;k.value=(v=(a=F.value)!==null&&a!==void 0?a:t.value)!==null&&v!==void 0?v:null,k.value&&this.cache.set(k.value,k);var d;if(t.type&&k.type!==t.type)throw new Error(`Unsupported type <${Se(k.type)}> in <${Se((d=l?.type)!==null&&d!==void 0?d:"unknown parent type")}>. Only <${Se(t.type)}> is supported.`);w++,yield k}E=S.next(P)}return}if(t.key==null||t.type==null)return;let f=this;var p,b;let x={type:t.type,props:t.props,key:t.key,parentKey:l?l.key:null,value:(p=t.value)!==null&&p!==void 0?p:null,level:l?l.level+1:0,index:t.index,rendered:t.rendered,textValue:(b=t.textValue)!==null&&b!==void 0?b:"","aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes||!1,childNodes:qe(function*(){if(!t.hasChildNodes||!t.childNodes)return;let g=0;for(let S of t.childNodes()){S.key!=null&&(S.key=`${x.key}${S.key}`);let w=f.getFullNode({...S,index:g},f.getChildState(e,S),x.key,x);for(let E of w)g++,yield E}})};yield x}constructor(){this.cache=new WeakMap}}function qe(r){let t=[],e=null;return{*[Symbol.iterator](){for(let n of t)yield n;e||(e=r());for(let n of e)t.push(n),yield n}}}function Jt(r,t){if(r&&t)return e=>r(t(e));if(r)return r;if(t)return t}function Se(r){return r[0].toUpperCase()+r.slice(1)}function Fn(r,t,e){let n=m.useMemo(()=>new Xt,[]),{children:l,items:i,collection:o}=r;return m.useMemo(()=>{if(o)return o;let c=n.build({children:l,items:i},e);return t(c)},[n,l,i,o,e,t])}function Zt(r,t){return typeof t.getChildren=="function"?t.getChildren(r.key):r.childNodes}function Qt(r){return en(r,0)}function en(r,t){if(t<0)return;let e=0;for(let n of r){if(e===t)return n;e++}}function Nn(r){let t;for(let e of r)t=e;return t}function we(r,t,e){if(t.parentKey===e.parentKey)return t.index-e.index;let n=[...Ge(r,t),t],l=[...Ge(r,e),e],i=n.slice(0,l.length).findIndex((o,s)=>o!==l[s]);return i!==-1?(t=n[i],e=l[i],t.index-e.index):n.findIndex(o=>o===e)>=0?1:(l.findIndex(o=>o===t)>=0,-1)}function Ge(r,t){let e=[],n=t;for(;n?.parentKey!=null;)n=r.getItem(n.parentKey),n&&e.unshift(n);return e}class at{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,e){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,e)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){if(this.state.selectionMode==="none")return!1;let e=this.getKey(t);return e==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),e=this.state.selectedKeys;return this._isSelectAll=t.every(n=>e.has(n)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let n of this.state.selectedKeys){let l=this.collection.getItem(n);(!t||l&&we(this.collection,l,t)<0)&&(t=l)}var e;return(e=t?.key)!==null&&e!==void 0?e:null}get lastSelectedKey(){let t=null;for(let n of this.state.selectedKeys){let l=this.collection.getItem(n);(!t||l&&we(this.collection,l,t)>0)&&(t=l)}var e;return(e=t?.key)!==null&&e!==void 0?e:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}let e=this.getKey(t);if(e==null)return;let n;if(this.state.selectedKeys==="all")n=new H([e],e,e);else{let o=this.state.selectedKeys;var l;let s=(l=o.anchorKey)!==null&&l!==void 0?l:e;n=new H(o,s,e);var i;for(let c of this.getKeyRange(s,(i=o.currentKey)!==null&&i!==void 0?i:e))n.delete(c);for(let c of this.getKeyRange(e,s))this.canSelectItem(c)&&n.add(c)}this.state.setSelectedKeys(n)}getKeyRange(t,e){let n=this.collection.getItem(t),l=this.collection.getItem(e);return n&&l?we(this.collection,n,l)<=0?this.getKeyRangeInternal(t,e):this.getKeyRangeInternal(e,t):[]}getKeyRangeInternal(t,e){var n;if(!((n=this.layoutDelegate)===null||n===void 0)&&n.getKeyRange)return this.layoutDelegate.getKeyRange(t,e);let l=[],i=t;for(;i!=null;){let o=this.collection.getItem(i);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&l.push(i),i===e)return l;i=this.collection.getKeyAfter(i)}return[]}getKey(t){let e=this.collection.getItem(t);if(!e||e.type==="cell"&&this.allowsCellSelection)return t;for(;e&&e.type!=="item"&&e.parentKey!=null;)e=this.collection.getItem(e.parentKey);return!e||e.type!=="item"?null:e.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}let e=this.getKey(t);if(e==null)return;let n=new H(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);n.has(e)?n.delete(e):this.canSelectItem(e)&&(n.add(e),n.anchorKey=e,n.currentKey=e),!(this.disallowEmptySelection&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(t){if(this.selectionMode==="none")return;let e=this.getKey(t);if(e==null)return;let n=this.canSelectItem(e)?new H([e],e,e):new H;this.state.setSelectedKeys(n)}setSelectedKeys(t){if(this.selectionMode==="none")return;let e=new H;for(let n of t){let l=this.getKey(n);if(l!=null&&(e.add(l),this.selectionMode==="single"))break}this.state.setSelectedKeys(e)}getSelectAllKeys(){let t=[],e=n=>{for(;n!=null;){if(this.canSelectItem(n)){var l;let o=this.collection.getItem(n);o?.type==="item"&&t.push(n);var i;o?.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&e((i=(l=Qt(Zt(o,this.collection)))===null||l===void 0?void 0:l.key)!==null&&i!==void 0?i:null)}n=this.collection.getKeyAfter(n)}};return e(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new H)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,e){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||e&&(e.pointerType==="touch"||e.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let e=this.selectedKeys;if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;for(let n of e)if(!t.has(n))return!1;return!0}canSelectItem(t){var e;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let n=this.collection.getItem(t);return!(!n||!(n==null||(e=n.props)===null||e===void 0)&&e.isDisabled||n.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var e,n;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((n=this.collection.getItem(t))===null||n===void 0||(e=n.props)===null||e===void 0)&&e.isDisabled))}isLink(t){var e,n;return!!(!((n=this.collection.getItem(t))===null||n===void 0||(e=n.props)===null||e===void 0)&&e.href)}getItemProps(t){var e;return(e=this.collection.getItem(t))===null||e===void 0?void 0:e.props}withCollection(t){return new at(t,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(t,e,n){this.collection=t,this.state=e;var l;this.allowsCellSelection=(l=n?.allowsCellSelection)!==null&&l!==void 0?l:!1,this._isSelectAll=null,this.layoutDelegate=n?.layoutDelegate||null}}function le(r,t,e){let n=e.initialDeps??[],l;return()=>{var i,o,s,c;let a;e.key&&((i=e.debug)!=null&&i.call(e))&&(a=Date.now());const v=r();if(!(v.length!==n.length||v.some((p,b)=>n[b]!==p)))return l;n=v;let f;if(e.key&&((o=e.debug)!=null&&o.call(e))&&(f=Date.now()),l=t(...v),e.key&&((s=e.debug)!=null&&s.call(e))){const p=Math.round((Date.now()-a)*100)/100,b=Math.round((Date.now()-f)*100)/100,x=b/16,g=(S,w)=>{for(S=String(S);S.length<w;)S=" "+S;return S};console.info(`%c⏱ ${g(b,5)} /${g(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,e?.key)}return(c=e?.onChange)==null||c.call(e,l),l}}function Ee(r,t){if(r===void 0)throw new Error("Unexpected undefined");return r}const tn=(r,t)=>Math.abs(r-t)<1,nn=(r,t,e)=>{let n;return function(...l){r.clearTimeout(n),n=r.setTimeout(()=>t.apply(this,l),e)}},ln=r=>r,rn=r=>{const t=Math.max(r.startIndex-r.overscan,0),e=Math.min(r.endIndex+r.overscan,r.count-1),n=[];for(let l=t;l<=e;l++)n.push(l);return n},on=(r,t)=>{const e=r.scrollElement;if(!e)return;const n=r.targetWindow;if(!n)return;const l=o=>{const{width:s,height:c}=o;t({width:Math.round(s),height:Math.round(c)})};if(l(e.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(o=>{const s=o[0];if(s?.borderBoxSize){const c=s.borderBoxSize[0];if(c){l({width:c.inlineSize,height:c.blockSize});return}}l(e.getBoundingClientRect())});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},Ye={passive:!0},sn=typeof window>"u"?!0:"onscrollend"in window,cn=(r,t)=>{const e=r.scrollElement;if(!e)return;const n=r.targetWindow;if(!n)return;let l=0;const i=r.options.useScrollendEvent&&sn?()=>{}:nn(n,()=>{t(l,!1)},r.options.isScrollingResetDelay),o=a=>()=>{const{horizontal:v,isRtl:d}=r.options;l=v?e.scrollLeft*(d&&-1||1):e.scrollTop,i(),t(l,a)},s=o(!0),c=o(!1);return c(),e.addEventListener("scroll",s,Ye),e.addEventListener("scrollend",c,Ye),()=>{e.removeEventListener("scroll",s),e.removeEventListener("scrollend",c)}},an=(r,t,e)=>{if(t?.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(r.getBoundingClientRect()[e.options.horizontal?"width":"height"])},un=(r,{adjustments:t=0,behavior:e},n)=>{var l,i;const o=r+t;(i=(l=n.scrollElement)==null?void 0:l.scrollTo)==null||i.call(l,{[n.options.horizontal?"left":"top"]:o,behavior:e})};class dn{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(l=>{l.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var l;(l=n())==null||l.disconnect(),e=null},observe:l=>{var i;return(i=n())==null?void 0:i.observe(l,{box:"border-box"})},unobserve:l=>{var i;return(i=n())==null?void 0:i.unobserve(l)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,l])=>{typeof l>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ln,rangeExtractor:rn,onChange:()=>{},measureElement:an,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var n,l;(l=(n=this.options).onChange)==null||l.call(n,this,e)},this.maybeNotify=le(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const l=new Map,i=new Map;for(let o=n-1;o>=0;o--){const s=e[o];if(l.has(s.lane))continue;const c=i.get(s.lane);if(c==null||s.end>c.end?i.set(s.lane,s):s.end<c.end&&l.set(s.lane,!0),l.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,s)=>o.end===s.end?o.index-s.index:o.end-s.end)[0]:void 0},this.getMeasurementOptions=le(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,n,l,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:l,getItemKey:i,enabled:o}),{key:!1}),this.getMeasurements=le(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:l,getItemKey:i,enabled:o},s)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,c);for(let v=c;v<e;v++){const d=i(v),f=this.options.lanes===1?a[v-1]:this.getFurthestMeasurement(a,v),p=f?f.end+this.options.gap:n+l,b=s.get(d),x=typeof b=="number"?b:this.options.estimateSize(v),g=p+x,S=f?f.lane:v%this.options.lanes;a[v]={index:v,start:p,size:x,end:g,key:d,lane:S}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=le(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,n,l)=>this.range=e.length>0&&n>0?fn({measurements:e,outerSize:n,scrollOffset:l}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=le(()=>{let e=null,n=null;const l=this.calculateRange();return l&&(e=l.startIndex,n=l.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,n]},(e,n,l,i,o)=>i===null||o===null?[]:e({startIndex:i,endIndex:o,overscan:n,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,l=e.getAttribute(n);return l?parseInt(l,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const l=this.indexFromElement(e),i=this.measurementsCache[l];if(!i)return;const o=i.key,s=this.elementsCache.get(o);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(o,e)),e.isConnected&&this.resizeItem(l,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const l=this.measurementsCache[e];if(!l)return;const i=this.itemSizeCache.get(l.key)??l.size,o=n-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,o,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,l)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(l))});return}this._measureElement(e,void 0)},this.getVirtualItems=le(()=>[this.getIndexes(),this.getMeasurements()],(e,n)=>{const l=[];for(let i=0,o=e.length;i<o;i++){const s=e[i],c=n[s];l.push(c)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return Ee(n[ut(0,n.length-1,l=>Ee(n[l]).start,e)])},this.getOffsetForAlignment=(e,n)=>{const l=this.getSize(),i=this.getScrollOffset();n==="auto"&&e>=i+l&&(n="end"),n==="end"&&(e-=l);const o=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-l;return Math.max(Math.min(c,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const l=this.measurementsCache[e];if(!l)return;const i=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(l.end>=o+i-this.options.scrollPaddingEnd)n="end";else if(l.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const s=l.start-this.options.scrollPaddingStart+(l.size-i)/2;switch(n){case"center":return[this.getOffsetForAlignment(s,n),n];case"end":return[this.getOffsetForAlignment(l.end+this.options.scrollPaddingEnd,n),n];default:return[this.getOffsetForAlignment(l.start-this.options.scrollPaddingStart,n),n]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:n="start",behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:l})},this.scrollToIndex=(e,{align:n="auto",behavior:l}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(e,n);if(!i)return;const[o,s]=i;this._scrollToOffset(o,{adjustments:void 0,behavior:l}),l!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[a]=Ee(this.getOffsetForIndex(e,s));tn(a,this.getScrollOffset())||this.scrollToIndex(e,{align:s,behavior:l})}else this.scrollToIndex(e,{align:s,behavior:l})}))},this.scrollBy=(e,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let l;return n.length===0?l=this.options.paddingStart:l=this.options.lanes===1?((e=n[n.length-1])==null?void 0:e.end)??0:Math.max(...n.slice(-this.options.lanes).map(i=>i.end)),Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:l})=>{this.options.scrollToFn(e,{behavior:l,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const ut=(r,t,e,n)=>{for(;r<=t;){const l=(r+t)/2|0,i=e(l);if(i<n)r=l+1;else if(i>n)t=l-1;else return l}return r>0?r-1:0};function fn({measurements:r,outerSize:t,scrollOffset:e}){const n=r.length-1,i=ut(0,n,s=>r[s].start,e);let o=i;for(;o<n&&r[o].end<e+t;)o++;return{startIndex:i,endIndex:o}}const Xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function hn(r){const t=m.useReducer(()=>({}),{})[1],e={...r,onChange:(l,i)=>{var o;i?nt.flushSync(t):t(),(o=r.onChange)==null||o.call(r,l,i)}},[n]=m.useState(()=>new dn(e));return n.setOptions(e),Xe(()=>n._didMount(),[]),Xe(()=>n._willUpdate()),n}function Cn(r){return hn({observeElementRect:on,observeElementOffset:cn,scrollToFn:un,...r})}export{Fe as $,xn as a,gn as b,En as c,Zt as d,Kn as e,Fn as f,at as g,Tn as h,yn as i,mn as j,bn as k,wn as l,$n as m,Sn as n,G as o,Nn as p,Qt as q,en as r,kt as s,ze as t,Cn as u};
