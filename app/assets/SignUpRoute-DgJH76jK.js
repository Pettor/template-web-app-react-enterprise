import{c as L,dl as E,cQ as I,cS as O,u as $,a as R,df as q,dm as T,j as a,b as W}from"./index-BkDfcGXb.js";import{u as D}from"./index-CzOe43iv.js";import{B as H,c as Z,b as G,d as z}from"./BlueFadeBackground-DYy2IsXQ.js";import{G as Q,B as X}from"./BasicLayout-CYHf3Njg.js";import{o as Y,s as V,e as J,u as K,I as S,F as ee}from"./InputField-DHvXfca1.js";import{F as se}from"./XMarkIcon-BUf0vhoz.js";import{s as te}from"./chunk-YZ6YLE2T-AVNVSijw.js";import"./useLabels-B4L_uZzA.js";import"./chunk-ICU6NNET-CgMlSRnB.js";async function ie(s){try{await I.post("/api/users/self-register",s)}catch(e){throw O.create(e)}}function ae(){const s=L.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:le},s[0]=e):e=s[0],E(e)}async function le(s){return await ie(s)}function ne(){const s=L.c(13),e=$(),o=R(),{appNameCapital:h}=q(),{isPending:t,mutateAsync:u}=ae();let p;s[0]!==e?(p=function(){e("/login")},s[0]=e,s[1]=p):p=s[1];const d=p;let n;s[2]!==o||s[3]!==e||s[4]!==u?(n=async function(f){try{await u(f),e("/")}catch{T({title:o.formatMessage({description:"SignUpPage - Sign up error alert title",defaultMessage:"Something went wrong",id:"CrlHXH"})})}},s[2]=o,s[3]=e,s[4]=u,s[5]=n):n=s[5];const m=n;let r;s[6]!==m||s[7]!==t?(r={loading:t,onSubmit:m},s[6]=m,s[7]=t,s[8]=r):r=s[8];let i;return s[9]!==h||s[10]!==d||s[11]!==r?(i={appName:h,onBack:d,signUpForm:r},s[9]=h,s[10]=d,s[11]=r,s[12]=i):i=s[12],i}function re(s){const e=L.c(64),{loading:o,onSubmit:h}=s,t=R();let u;e[0]!==t?(u=Y({firstName:V(),lastName:V(),userName:V().min(1,t.formatMessage({description:"SignUpFormValidation - Display Name is required",defaultMessage:"We need to call you something",id:"piUPAg"})),email:J(t.formatMessage({description:"SignUpFormValidation - Email must be valid",defaultMessage:"Email must be valid",id:"SBRRVR"})),password:V().min(8,t.formatMessage({description:"SignUpFormValidation - Password is too short - min 8 characters",defaultMessage:"Password is too short - should be 8 chars minimum",id:"YzHSuh"})),confirmPassword:V().min(8,t.formatMessage({description:"SignUpFormValidation - PasswordConfirm is required",defaultMessage:"Password must be confirmed",id:"WZbH01"})),phoneNumber:V()}).refine(de,{message:t.formatMessage({description:"SignUpFormValidation - Passwords must match",defaultMessage:"Passwords must match",id:"IOLTJ0"}),path:["confirmPassword"]}),e[0]=t,e[1]=u):u=e[1];const p=u;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={firstName:"",lastName:"",userName:"",email:"",password:"",confirmPassword:"",phoneNumber:""},e[2]=d):d=e[2];let n;e[3]!==p?(n={onSubmit:p},e[3]=p,e[4]=n):n=e[4];let m;e[5]!==h?(m=async l=>{const{value:A}=l;h(A)},e[5]=h,e[6]=m):m=e[6];let r;e[7]!==n||e[8]!==m?(r={defaultValues:d,validators:n,onSubmit:m},e[7]=n,e[8]=m,e[9]=r):r=e[9];const i=K(r);let c;e[10]!==i?(c=l=>{l.preventDefault(),l.stopPropagation(),i.handleSubmit()},e[10]=i,e[11]=c):c=e[11];let f;e[12]!==t?(f=l=>a.jsx(S,{autoFocus:!0,fullWidth:!0,field:l,type:"text",placeholder:t.formatMessage({description:"SignUpFormLabel - User Name",defaultMessage:"What should we call you?",id:"f2xRFX"}),"data-testid":"sign-up-form__username-input"}),e[12]=t,e[13]=f):f=e[13];let b;e[14]!==i.Field||e[15]!==f?(b=a.jsx(i.Field,{name:"userName",children:f}),e[14]=i.Field,e[15]=f,e[16]=b):b=e[16];let g;e[17]!==t?(g=l=>a.jsx(S,{field:l,type:"text",placeholder:t.formatMessage({description:"SignUpFormLabel - First Name",defaultMessage:"What is your first name?",id:"NFDCUF"}),"data-testid":"sign-up-form__firstname-input"}),e[17]=t,e[18]=g):g=e[18];let x;e[19]!==i.Field||e[20]!==g?(x=a.jsx(i.Field,{name:"firstName",children:g}),e[19]=i.Field,e[20]=g,e[21]=x):x=e[21];let F;e[22]!==t?(F=l=>a.jsx(S,{field:l,type:"text",placeholder:t.formatMessage({description:"SignUpFormLabel - Last Name",defaultMessage:"What is your last name?",id:"3YTbxI"}),"data-testid":"sign-up-form__lastname-input"}),e[22]=t,e[23]=F):F=e[23];let w;e[24]!==i.Field||e[25]!==F?(w=a.jsx(i.Field,{name:"lastName",children:F}),e[24]=i.Field,e[25]=F,e[26]=w):w=e[26];let j;e[27]!==t?(j=l=>a.jsx(S,{field:l,type:"email",placeholder:t.formatMessage({description:"SignUpFormLabel - Email",defaultMessage:"What's your email?",id:"tZBQgk"}),"data-testid":"sign-up-form__email-input"}),e[27]=t,e[28]=j):j=e[28];let y;e[29]!==i.Field||e[30]!==j?(y=a.jsx(i.Field,{name:"email",children:j}),e[29]=i.Field,e[30]=j,e[31]=y):y=e[31];let _;e[32]!==t?(_=l=>a.jsx(S,{field:l,type:"tel",placeholder:t.formatMessage({description:"SignUpFormLabel - Phone Number",defaultMessage:"What's your phone number?",id:"UjAA8C"}),"data-testid":"sign-up-form__phonenumber-input"}),e[32]=t,e[33]=_):_=e[33];let M;e[34]!==i.Field||e[35]!==_?(M=a.jsx(i.Field,{name:"phoneNumber",children:_}),e[34]=i.Field,e[35]=_,e[36]=M):M=e[36];let N;e[37]!==t?(N=l=>a.jsx(S,{field:l,type:"password",placeholder:t.formatMessage({description:"SignUpFormLabel - Password",defaultMessage:"Create a password",id:"ppqAda"}),"data-testid":"sign-up-form__password-input"}),e[37]=t,e[38]=N):N=e[38];let U;e[39]!==i.Field||e[40]!==N?(U=a.jsx(i.Field,{name:"password",children:N}),e[39]=i.Field,e[40]=N,e[41]=U):U=e[41];let P;e[42]!==t?(P=l=>a.jsx(S,{field:l,type:"password",placeholder:t.formatMessage({description:"SignUpFormLabel - Confirm Password",defaultMessage:"Confirm password",id:"dU9xzq"}),"data-testid":"sign-up-form__confirmpassword-input"}),e[42]=t,e[43]=P):P=e[43];let B;e[44]!==i.Field||e[45]!==P?(B=a.jsx(i.Field,{name:"confirmPassword",children:P}),e[44]=i.Field,e[45]=P,e[46]=B):B=e[46];let k;e[47]!==i||e[48]!==t||e[49]!==o?(k=l=>{const[A]=l;return a.jsx(W,{isLoading:o,disabled:!A,color:"primary",type:"submit",onPress:()=>i.handleSubmit(),"data-testid":"sign-up-form__submit-button",children:t.formatMessage({description:"SignUpFormButton - Sign Up",defaultMessage:"Sign Up",id:"oigOyc"})})},e[47]=i,e[48]=t,e[49]=o,e[50]=k):k=e[50];let v;e[51]!==i.Subscribe||e[52]!==k?(v=a.jsx(i.Subscribe,{selector:oe,children:k}),e[51]=i.Subscribe,e[52]=k,e[53]=v):v=e[53];let C;return e[54]!==x||e[55]!==w||e[56]!==y||e[57]!==M||e[58]!==U||e[59]!==B||e[60]!==v||e[61]!==c||e[62]!==b?(C=a.jsxs(ee,{onSubmit:c,className:"min-w-full md:min-w-sm",children:[b,x,w,y,M,U,B,v]}),e[54]=x,e[55]=w,e[56]=y,e[57]=M,e[58]=U,e[59]=B,e[60]=v,e[61]=c,e[62]=b,e[63]=C):C=e[63],C}function oe(s){return[s.canSubmit]}function de(s){return s.password===s.confirmPassword}function me(s){const e=L.c(24),{signUpForm:o,onBack:h}=s,t=R();let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsxs(a.Fragment,{children:[a.jsx(H,{}),a.jsx(Q,{})]}),e[0]=u):u=e[0];let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=a.jsx("div",{className:"flex"}),e[1]=p):p=e[1];let d;e[2]!==t?(d=t.formatMessage({description:"AboutView - Back button title",defaultMessage:"Back",id:"72q+Ui"}),e[2]=t,e[3]=d):d=e[3];let n;e[4]!==t?(n=t.formatMessage({description:"AboutView - Back button aria label",defaultMessage:"Back",id:"ZTBga3"}),e[4]=t,e[5]=n):n=e[5];let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx(se,{className:"h-6 w-6"}),e[6]=m):m=e[6];let r;e[7]!==h||e[8]!==d||e[9]!==n?(r=a.jsxs(Z,{className:"flex w-full items-end justify-between",children:[p,a.jsx(W,{isIconOnly:!0,onPress:h,title:d,"aria-label":n,children:m})]}),e[7]=h,e[8]=d,e[9]=n,e[10]=r):r=e[10];let i;e[11]!==t?(i=t.formatMessage({description:"SignUpView - Sign up description",defaultMessage:"Sign up with your email address",id:"NG06ZV"}),e[11]=t,e[12]=i):i=e[12];let c;e[13]!==i?(c=a.jsx("p",{className:"my-2 text-center",children:i}),e[13]=i,e[14]=c):c=e[14];let f;e[15]!==o?(f=a.jsx(re,{...o}),e[15]=o,e[16]=f):f=e[16];let b;e[17]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(te,{y:4}),e[17]=b):b=e[17];let g;e[18]!==c||e[19]!==f?(g=a.jsxs(G,{className:"flex flex-col items-center",children:[c,f,b]}),e[18]=c,e[19]=f,e[20]=g):g=e[20];let x;return e[21]!==g||e[22]!==r?(x=a.jsx(X,{backgroundElement:u,children:a.jsx("div",{className:"flex w-full flex-col items-center justify-center gap-1 p-4 lg:flex-row-reverse",children:a.jsx("div",{className:"h-full min-h-[550px] w-full shrink-0 sm:w-[550px]",children:a.jsxs(z,{className:"min-h-[550px]",children:[r,g]})})})}),e[21]=g,e[22]=r,e[23]=x):x=e[23],x}function Fe(){const s=L.c(2);D("Sign Up");const e=ne();let o;return s[0]!==e?(o=a.jsx(me,{...e}),s[0]=e,s[1]=o):o=s[1],o}export{Fe as Component};
