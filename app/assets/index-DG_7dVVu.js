import{c9 as bt,h as S,ca as wt,cb as Tt,e as O,cc as $,cd as st,Q as Pt,ce as Mt,cf as xt,cg as rt,ch as Ft,ci as It,cj as Bt,ck as Dt,r as Ot,A as B,cl as Rt,cm as ot,cn as at,co as ut,cp as lt}from"./index-BXNQNpKr.js";import{o as D,an as Nt,G as Lt,f as w,c as Q,Z as jt,_ as Kt,b0 as Ht,E as Gt,a$ as Ut,S as Wt,v as _t,am as kt,az as zt,aB as qt,aZ as Jt,p as ct,q as j,ag as X,J as Zt,ab as $t,aD as Qt,aw as Xt,B as Yt,ax as Et}from"./find-DfsuOFDK.js";function te({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function ee(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function ne(n,t){return te(ee(n.getBoundingClientRect(),t))}const Y=()=>({min:0,max:0}),ht=()=>({x:Y(),y:Y()}),H={current:null},dt={current:!1};function ie(){if(dt.current=!0,!!bt)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>H.current=n.matches;n.addEventListener("change",t),t()}else H.current=!1}const se=new WeakMap;function re(n,t,e){for(const i in t){const s=t[i],r=e[i];if(S(s))n.addValue(i,s);else if(S(r))n.addValue(i,D(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,D(a!==void 0?a:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const E=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oe{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Lt.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,w.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=wt(e),this.isVariantNode=Tt(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:o,...h}=this.scrapeMotionValuesFromProps(e,{},this);for(const d in h){const V=h[d];l[d]!==void 0&&S(V)&&V.set(l[d])}}mount(t){this.current=t,se.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),dt.current||ie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Q(this.notifyUpdate),Q(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=O.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&w.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $){const e=$[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<E.length;i++){const s=E[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=re(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=D(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(jt(i)||Kt(i))?i=parseFloat(i):!Ht(i)&&Gt.test(e)&&(i=Ut(t,e)),this.setBaseTarget(t,S(i)?i.get():i)),S(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const r=st(this.props,e,this.presenceContext?.custom);r&&(i=r[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!S(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Wt),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){_t.render(this.render)}}class ft extends oe{constructor(){super(...arguments),this.KeyframeResolver=kt}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;S(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function pt(n,{style:t,vars:e},i,s){const r=n.style;let a;for(a in t)r[a]=t[a];s?.applyProjectionStyles(r,i);for(a in e)r.setProperty(a,e[a])}function ae(n){return window.getComputedStyle(n)}class ue extends ft{constructor(){super(...arguments),this.type="html",this.renderInstance=pt}readValueFromInstance(t,e){if(O.has(e))return this.projection?.isProjecting?zt(e):qt(t,e);{const i=ae(t),s=(Pt(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ne(t,e)}build(t,e,i){Mt(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return xt(t,e,i)}}const mt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function le(n,t,e,i){pt(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(mt.has(s)?s:rt(s),t.attrs[s])}class ce extends ft{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(O.has(e)){const i=Jt(e);return i&&i.default||0}return e=mt.has(e)?e:rt(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return Ft(t,e,i)}build(t,e,i){It(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){le(t,e,i,s)}mount(t){this.isSVGTag=Bt(t.tagName),super.mount(t)}}const he=(n,t)=>Dt(n)?new ce(t):new ue(t,{allowProjection:n!==Ot.Fragment});function P(n,t,e){const i=n.getProps();return st(i,t,e!==void 0?e:i.custom,n)}const G=n=>Array.isArray(n);function de(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,D(e))}function fe(n){return G(n)?n[n.length-1]||0:n}function pe(n,t){const e=P(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const a in r){const c=fe(r[a]);de(n,a,c)}}function me(n){return!!(S(n)&&n.add)}function ge(n,t){const e=n.getValue("willChange");if(me(e))return e.add(t);if(!e&&B.WillChange){const i=new B.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function Ve(n){return n.props[Rt]}const ve=n=>n!==null;function ye(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(ve),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[r]}const Se={type:"spring",stiffness:500,damping:25,restSpeed:10},Ce=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ae={type:"keyframes",duration:.8},be={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},we=(n,{keyframes:t})=>t.length>2?Ae:O.has(n)?n.startsWith("scale")?Ce(t[1]):Se:be;function Te({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:c,from:l,elapsed:u,...o}){return!!Object.keys(o).length}const Pe=(n,t,e,i={},s,r)=>a=>{const c=ct(i,n)||{},l=c.delay||i.delay||0;let{elapsed:u=0}=i;u=u-j(l);const o={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-u,onUpdate:d=>{t.set(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:r?void 0:s};Te(c)||Object.assign(o,we(n,o)),o.duration&&(o.duration=j(o.duration)),o.repeatDelay&&(o.repeatDelay=j(o.repeatDelay)),o.from!==void 0&&(o.keyframes[0]=o.from);let h=!1;if((o.type===!1||o.duration===0&&!o.repeatDelay)&&(X(o),o.delay===0&&(h=!0)),(B.instantAnimations||B.skipAnimations)&&(h=!0,X(o),o.delay=0),o.allowFlatten=!c.type&&!c.ease,h&&!r&&t.get()!==void 0){const d=ye(o.keyframes,c);if(d!==void 0){w.update(()=>{o.onUpdate(d),o.onComplete()});return}}return c.isSync?new Zt(o):new $t(o)};function Me({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function gt(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:a,...c}=t;i&&(r=i);const l=[],u=s&&n.animationState&&n.animationState.getState()[s];for(const o in c){const h=n.getValue(o,n.latestValues[o]??null),d=c[o];if(d===void 0||u&&Me(u,o))continue;const V={delay:e,...ct(r||{},o)},C=h.get();if(C!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===C&&!V.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const f=Ve(n);if(f){const p=window.MotionHandoffAnimation(f,o,w);p!==null&&(V.startTime=p,x=!0)}}ge(n,o),h.start(Pe(o,h,d,n.shouldReduceMotion&&Qt.has(o)?{type:!1}:V,n,x));const v=h.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{w.update(()=>{a&&pe(n,a)})}),l}function Vt(n,t,e,i=0,s=1){const r=Array.from(n).sort((u,o)=>u.sortNodePosition(o)).indexOf(t),a=n.size,c=(a-1)*i;return typeof e=="function"?e(r,a):s===1?r*i:c-r*i}function U(n,t,e={}){const i=P(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const r=i?()=>Promise.all(gt(n,i,e)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:o,staggerDirection:h}=s;return xe(n,t,l,u,o,h,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[l,u]=c==="beforeChildren"?[r,a]:[a,r];return l().then(()=>u())}else return Promise.all([r(),a(e.delay)])}function xe(n,t,e=0,i=0,s=0,r=1,a){const c=[];for(const l of n.variantChildren)l.notify("AnimationStart",t),c.push(U(l,t,{...a,delay:e+(typeof i=="function"?0:i)+Vt(n.variantChildren,l,i,s,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(c)}function Fe(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>U(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=U(n,t,e);else{const s=typeof t=="function"?P(n,t,e.custom):t;i=Promise.all(gt(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function vt(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const Ie=at.length;function yt(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?yt(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Ie;e++){const i=at[e],s=n.props[i];(ot(s)||s===!1)&&(t[i]=s)}return t}const Be=[...lt].reverse(),De=lt.length;function Oe(n){return t=>Promise.all(t.map(({animation:e,options:i})=>Fe(n,e,i)))}function Re(n){let t=Oe(n),e=tt(),i=!0;const s=l=>(u,o)=>{const h=P(n,o,l==="exit"?n.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:V,...C}=h;u={...u,...C,...V}}return u};function r(l){t=l(n)}function a(l){const{props:u}=n,o=yt(n.parent)||{},h=[],d=new Set;let V={},C=1/0;for(let v=0;v<De;v++){const f=Be[v],p=e[f],g=u[f]!==void 0?u[f]:o[f],R=ot(g),N=f===l?p.isActive:null;N===!1&&(C=v);let I=g===o[f]&&g!==u[f]&&R;if(I&&i&&n.manuallyAnimateOnMount&&(I=!1),p.protectedKeys={...V},!p.isActive&&N===null||!g&&!p.prevProp||ut(g)||typeof g=="boolean")continue;const _=Ne(p.prevProp,g);let L=_||f===l&&p.isActive&&!I&&R||v>C&&R,k=!1;const z=Array.isArray(g)?g:[g];let F=z.reduce(s(f),{});N===!1&&(F={});const{prevResolvedValues:q={}}=p,Ct={...q,...F},J=m=>{L=!0,d.has(m)&&(k=!0,d.delete(m)),p.needsAnimating[m]=!0;const y=n.getValue(m);y&&(y.liveStyle=!1)};for(const m in Ct){const y=F[m],A=q[m];if(V.hasOwnProperty(m))continue;let T=!1;G(y)&&G(A)?T=!vt(y,A):T=y!==A,T?y!=null?J(m):d.add(m):y!==void 0&&d.has(m)?J(m):p.protectedKeys[m]=!0}p.prevProp=g,p.prevResolvedValues=F,p.isActive&&(V={...V,...F}),i&&n.blockInitialAnimation&&(L=!1);const Z=I&&_;L&&(!Z||k)&&h.push(...z.map(m=>{const y={type:f};if(typeof m=="string"&&i&&!Z&&n.manuallyAnimateOnMount&&n.parent){const{parent:A}=n,T=P(A,m);if(A.enteringChildren&&T){const{delayChildren:At}=T.transition||{};y.delay=Vt(A.enteringChildren,n,At)}}return{animation:m,options:y}}))}if(d.size){const v={};if(typeof u.initial!="boolean"){const f=P(n,Array.isArray(u.initial)?u.initial[0]:u.initial);f&&f.transition&&(v.transition=f.transition)}d.forEach(f=>{const p=n.getBaseTarget(f),g=n.getValue(f);g&&(g.liveStyle=!0),v[f]=p??null}),h.push({animation:v})}let x=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?t(h):Promise.resolve()}function c(l,u){if(e[l].isActive===u)return Promise.resolve();n.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),e[l].isActive=u;const o=a(l);for(const h in e)e[h].protectedKeys={};return o}return{animateChanges:a,setActive:c,setAnimateFunction:r,getState:()=>e,reset:()=>{e=tt(),i=!0}}}function Ne(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!vt(t,n):!1}function b(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tt(){return{animate:b(!0),whileInView:b(),whileHover:b(),whileTap:b(),whileDrag:b(),whileFocus:b(),exit:b()}}class M{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Le extends M{constructor(t){super(t),t.animationState||(t.animationState=Re(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ut(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let je=0;class Ke extends M{constructor(){super(...arguments),this.id=je++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const He={animation:{Feature:Le},exit:{Feature:Ke}};function et(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function St(n){return{point:{x:n.pageX,y:n.pageY}}}function nt(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&w.postRender(()=>r(t,St(t)))}class Ge extends M{mount(){const{current:t}=this.node;t&&(this.unmount=Xt(t,(e,i)=>(nt(this.node,i,"Start"),s=>nt(this.node,s,"End"))))}unmount(){}}class Ue extends M{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yt(et(this.node.current,"focus",()=>this.onFocus()),et(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function it(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&w.postRender(()=>r(t,St(t)))}class We extends M{mount(){const{current:t}=this.node;t&&(this.unmount=Et(t,(e,i)=>(it(this.node,i,"Start"),(s,{success:r})=>it(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const W=new WeakMap,K=new WeakMap,_e=n=>{const t=W.get(n.target);t&&t(n)},ke=n=>{n.forEach(_e)};function ze({root:n,...t}){const e=n||document;K.has(e)||K.set(e,{});const i=K.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(ke,{root:n,...t})),i[s]}function qe(n,t,e){const i=ze(t);return W.set(n,e),i.observe(n),()=>{W.delete(n),i.unobserve(n)}}const Je={some:0,all:1};class Ze extends M{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,a={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Je[s]},c=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:o,onViewportLeave:h}=this.node.getProps(),d=u?o:h;d&&d(l)};return qe(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some($e(t,e))&&this.startObserver()}unmount(){}}function $e({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Qe={inView:{Feature:Ze},tap:{Feature:We},focus:{Feature:Ue},hover:{Feature:Ge}},Xe={renderer:he,...He,...Qe};var en=Xe;export{en as default};
