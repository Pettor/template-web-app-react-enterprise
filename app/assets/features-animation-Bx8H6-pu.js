import{I as Nt,h as A,cq as Lt,cr as jt,e as O,cs as $,ct as gt,Q as Kt,cu as Ht,cv as Gt,cw as Vt,cx as _t,cy as Ut,cz as kt,cA as Wt,r as zt,A as I,O as Xt,cB as yt,cC as vt,cD as At,cE as Ct}from"./index-BXNQNpKr.js";import{z as Yt,o as D,an as qt,G as Et,f as b,c as Q,Z as Jt,_ as Zt,b0 as $t,E as Qt,a$ as te,S as ee,v as ne,am as ie,az as se,aB as re,aZ as oe,p as St,q as j,ag as tt,J as ae,ab as ue,aD as ce,A as le,aw as he,B as de,ax as fe}from"./find-DfsuOFDK.js";function pe({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function yn({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function me(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function K(e){return e===void 0||e===1}function ge({scale:e,scaleX:t,scaleY:n}){return!K(e)||!K(t)||!K(n)}function Ve(e){return ge(e)||ye(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ye(e){return et(e.x)||et(e.y)}function et(e){return e&&e!=="0%"}function nt(e,t,n){const i=e-n,s=t*i;return n+s}function it(e,t,n,i,s){return s!==void 0&&(e=nt(e,s,i)),nt(e,n,i)+t}function G(e,t=0,n=1,i,s){e.min=it(e.min,t,n,i,s),e.max=it(e.max,t,n,i,s)}function ve(e,{x:t,y:n}){G(e.x,t.translate,t.scale,t.originPoint),G(e.y,n.translate,n.scale,n.originPoint)}const st=.999999999999,rt=1.0000000000001;function vn(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,o;for(let l=0;l<s;l++){r=n[l],o=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ut(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ve(e,o)),i&&Ve(r.latestValues)&&ut(e,r.latestValues))}t.x<rt&&t.x>st&&(t.x=1),t.y<rt&&t.y>st&&(t.y=1)}function ot(e,t){e.min=e.min+t,e.max=e.max+t}function at(e,t,n,i,s=.5){const r=Yt(e.min,e.max,s);G(e,t,n,r,i)}function ut(e,t){at(e.x,t.x,t.scaleX,t.scale,t.originX),at(e.y,t.y,t.scaleY,t.scale,t.originY)}function wt(e,t){return pe(me(e.getBoundingClientRect(),t))}function An(e,t,n){const i=wt(e,n),{scroll:s}=t;return s&&(ot(i.x,s.offset.x),ot(i.y,s.offset.y)),i}const ct=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cn=()=>({x:ct(),y:ct()}),lt=()=>({min:0,max:0}),bt=()=>({x:lt(),y:lt()}),_={current:null},xt={current:!1};function Ae(){if(xt.current=!0,!!Nt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_.current=e.matches;e.addEventListener("change",t),t()}else _.current=!1}const Ce=new WeakMap;function Se(e,t,n){for(const i in t){const s=t[i],r=n[i];if(A(s))e.addValue(i,s);else if(A(r))e.addValue(i,D(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,D(o!==void 0?o:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ht=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class we{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Et.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,b.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=Lt(n),this.isVariantNode=jt(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:a,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const V=h[d];u[d]!==void 0&&A(V)&&V.set(u[d])}}mount(t){this.current=t,Ce.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),xt.current||Ae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Q(this.notifyUpdate),Q(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=O.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&b.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $){const n=$[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ht.length;i++){const s=ht[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Se(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=D(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Jt(i)||Zt(i))?i=parseFloat(i):!$t(i)&&Qt.test(n)&&(i=te(t,n)),this.setBaseTarget(t,A(i)?i.get():i)),A(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=gt(this.props,n,this.presenceContext?.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!A(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ee),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ne.render(this.render)}}class Tt extends we{constructor(){super(...arguments),this.KeyframeResolver=ie}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;A(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pt(e,{style:t,vars:n},i,s){const r=e.style;let o;for(o in t)r[o]=t[o];s?.applyProjectionStyles(r,i);for(o in n)r.setProperty(o,n[o])}function be(e){return window.getComputedStyle(e)}class xe extends Tt{constructor(){super(...arguments),this.type="html",this.renderInstance=Pt}readValueFromInstance(t,n){if(O.has(n))return this.projection?.isProjecting?se(n):re(t,n);{const i=be(t),s=(Kt(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wt(t,n)}build(t,n,i){Ht(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Gt(t,n,i)}}const Mt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Te(e,t,n,i){Pt(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(Mt.has(s)?s:Vt(s),t.attrs[s])}class Pe extends Tt{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(O.has(n)){const i=oe(n);return i&&i.default||0}return n=Mt.has(n)?n:Vt(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return _t(t,n,i)}build(t,n,i){Ut(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){Te(t,n,i,s)}mount(t){this.isSVGTag=kt(t.tagName),super.mount(t)}}const Me=(e,t)=>Wt(e)?new Pe(t):new xe(t,{allowProjection:e!==zt.Fragment});function T(e,t,n){const i=e.getProps();return gt(i,t,n!==void 0?n:i.custom,e)}const U=e=>Array.isArray(e);function Fe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,D(n))}function Be(e){return U(e)?e[e.length-1]||0:e}function Ie(e,t){const n=T(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const l=Be(r[o]);Fe(e,o,l)}}function De(e){return!!(A(e)&&e.add)}function Oe(e,t){const n=e.getValue("willChange");if(De(n))return n.add(t);if(!n&&I.WillChange){const i=new I.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Re(e){return e.props[Xt]}const Ne=e=>e!==null;function Le(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(Ne),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const je={type:"spring",stiffness:500,damping:25,restSpeed:10},Ke=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),He={type:"keyframes",duration:.8},Ge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_e=(e,{keyframes:t})=>t.length>2?He:O.has(e)?e.startsWith("scale")?Ke(t[1]):je:Ge;function Ue({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:l,from:u,elapsed:c,...a}){return!!Object.keys(a).length}const ke=(e,t,n,i={},s,r)=>o=>{const l=St(i,e)||{},u=l.delay||i.delay||0;let{elapsed:c=0}=i;c=c-j(u);const a={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:d=>{t.set(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:r?void 0:s};Ue(l)||Object.assign(a,_e(e,a)),a.duration&&(a.duration=j(a.duration)),a.repeatDelay&&(a.repeatDelay=j(a.repeatDelay)),a.from!==void 0&&(a.keyframes[0]=a.from);let h=!1;if((a.type===!1||a.duration===0&&!a.repeatDelay)&&(tt(a),a.delay===0&&(h=!0)),(I.instantAnimations||I.skipAnimations)&&(h=!0,tt(a),a.delay=0),a.allowFlatten=!l.type&&!l.ease,h&&!r&&t.get()!==void 0){const d=Le(a.keyframes,l);if(d!==void 0){b.update(()=>{a.onUpdate(d),a.onComplete()});return}}return l.isSync?new ae(a):new ue(a)};function We({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Ft(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...l}=t;i&&(r=i);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const a in l){const h=e.getValue(a,e.latestValues[a]??null),d=l[a];if(d===void 0||c&&We(c,a))continue;const V={delay:n,...St(r||{},a)},C=h.get();if(C!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===C&&!V.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const f=Re(e);if(f){const p=window.MotionHandoffAnimation(f,a,b);p!==null&&(V.startTime=p,M=!0)}}Oe(e,a),h.start(ke(a,h,d,e.shouldReduceMotion&&ce.has(a)?{type:!1}:V,e,M));const y=h.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{b.update(()=>{o&&Ie(e,o)})}),u}function Bt(e,t,n,i=0,s=1){const r=Array.from(e).sort((c,a)=>c.sortNodePosition(a)).indexOf(t),o=e.size,l=(o-1)*i;return typeof n=="function"?n(r,o):s===1?r*i:l-r*i}function k(e,t,n={}){const i=T(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Ft(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:a,staggerDirection:h}=s;return ze(e,t,u,c,a,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[r,o]:[o,r];return u().then(()=>c())}else return Promise.all([r(),o(n.delay)])}function ze(e,t,n=0,i=0,s=0,r=1,o){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(k(u,t,{...o,delay:n+(typeof i=="function"?0:i)+Bt(e.variantChildren,u,i,s,r)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function Xe(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>k(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=k(e,t,n);else{const s=typeof t=="function"?T(e,t,n.custom):t;i=Promise.all(Ft(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function It(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Ye=vt.length;function Dt(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Dt(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ye;n++){const i=vt[n],s=e.props[i];(yt(s)||s===!1)&&(t[i]=s)}return t}const qe=[...Ct].reverse(),Ee=Ct.length;function Je(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Xe(e,n,i)))}function Ze(e){let t=Je(e),n=dt(),i=!0;const s=u=>(c,a)=>{const h=T(e,a,u==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:V,...C}=h;c={...c,...C,...V}}return c};function r(u){t=u(e)}function o(u){const{props:c}=e,a=Dt(e.parent)||{},h=[],d=new Set;let V={},C=1/0;for(let y=0;y<Ee;y++){const f=qe[y],p=n[f],g=c[f]!==void 0?c[f]:a[f],R=yt(g),N=f===u?p.isActive:null;N===!1&&(C=y);let B=g===a[f]&&g!==c[f]&&R;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),p.protectedKeys={...V},!p.isActive&&N===null||!g&&!p.prevProp||At(g)||typeof g=="boolean")continue;const X=$e(p.prevProp,g);let L=X||f===u&&p.isActive&&!B&&R||y>C&&R,Y=!1;const q=Array.isArray(g)?g:[g];let F=q.reduce(s(f),{});N===!1&&(F={});const{prevResolvedValues:E={}}=p,Ot={...E,...F},J=m=>{L=!0,d.has(m)&&(Y=!0,d.delete(m)),p.needsAnimating[m]=!0;const v=e.getValue(m);v&&(v.liveStyle=!1)};for(const m in Ot){const v=F[m],S=E[m];if(V.hasOwnProperty(m))continue;let x=!1;U(v)&&U(S)?x=!It(v,S):x=v!==S,x?v!=null?J(m):d.add(m):v!==void 0&&d.has(m)?J(m):p.protectedKeys[m]=!0}p.prevProp=g,p.prevResolvedValues=F,p.isActive&&(V={...V,...F}),i&&e.blockInitialAnimation&&(L=!1);const Z=B&&X;L&&(!Z||Y)&&h.push(...q.map(m=>{const v={type:f};if(typeof m=="string"&&i&&!Z&&e.manuallyAnimateOnMount&&e.parent){const{parent:S}=e,x=T(S,m);if(S.enteringChildren&&x){const{delayChildren:Rt}=x.transition||{};v.delay=Bt(S.enteringChildren,e,Rt)}}return{animation:m,options:v}}))}if(d.size){const y={};if(typeof c.initial!="boolean"){const f=T(e,Array.isArray(c.initial)?c.initial[0]:c.initial);f&&f.transition&&(y.transition=f.transition)}d.forEach(f=>{const p=e.getBaseTarget(f),g=e.getValue(f);g&&(g.liveStyle=!0),y[f]=p??null}),h.push({animation:y})}let M=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(M=!1),i=!1,M?t(h):Promise.resolve()}function l(u,c){if(n[u].isActive===c)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(u,c)),n[u].isActive=c;const a=o(u);for(const h in n)n[h].protectedKeys={};return a}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=dt(),i=!0}}}function $e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!It(t,e):!1}function w(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dt(){return{animate:w(!0),whileInView:w(),whileHover:w(),whileTap:w(),whileDrag:w(),whileFocus:w(),exit:w()}}class P{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qe extends P{constructor(t){super(t),t.animationState||(t.animationState=Ze(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();At(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tn=0;class en extends P{constructor(){super(...arguments),this.id=tn++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nn={animation:{Feature:Qe},exit:{Feature:en}};function ft(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function z(e){return{point:{x:e.pageX,y:e.pageY}}}const Sn=e=>t=>le(t)&&e(t,z(t));function pt(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&b.postRender(()=>r(t,z(t)))}class sn extends P{mount(){const{current:t}=this.node;t&&(this.unmount=he(t,(n,i)=>(pt(this.node,i,"Start"),s=>pt(this.node,s,"End"))))}unmount(){}}class rn extends P{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=de(ft(this.node.current,"focus",()=>this.onFocus()),ft(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mt(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&b.postRender(()=>r(t,z(t)))}class on extends P{mount(){const{current:t}=this.node;t&&(this.unmount=fe(t,(n,i)=>(mt(this.node,i,"Start"),(s,{success:r})=>mt(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const W=new WeakMap,H=new WeakMap,an=e=>{const t=W.get(e.target);t&&t(e)},un=e=>{e.forEach(an)};function cn({root:e,...t}){const n=e||document;H.has(n)||H.set(n,{});const i=H.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(un,{root:e,...t})),i[s]}function ln(e,t,n){const i=cn(t);return W.set(e,n),i.observe(e),()=>{W.delete(e),i.unobserve(e)}}const hn={some:0,all:1};class dn extends P{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:hn[s]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:a,onViewportLeave:h}=this.node.getProps(),d=c?a:h;d&&d(u)};return ln(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fn(t,n))&&this.startObserver()}unmount(){}}function fn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pn={inView:{Feature:dn},tap:{Feature:on},focus:{Feature:rn},hover:{Feature:sn}},wn={renderer:Me,...nn,...pn};export{Xe as A,Ie as B,Ce as C,Ft as D,P as F,xe as H,Pe as S,we as V,ft as a,Sn as b,bt as c,yn as d,z as e,pe as f,Oe as g,ke as h,Ve as i,ut as j,ge as k,ve as l,An as m,ye as n,vn as o,Cn as p,Re as q,nn as r,nt as s,ot as t,pn as u,Me as v,wn as w,xt as x,Ae as y,_ as z};
