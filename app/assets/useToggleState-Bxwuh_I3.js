import{c4 as _,aD as x,bG as L,ax as f,av as O,r as w}from"./index-BXNQNpKr.js";import{a as I,$ as F}from"./chunk-AWMMSYR4-BkuIuGGe.js";function G(e,a){if(e!=null){if(_(e)){e(a);return}try{e.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${e}'`)}}}function z(...e){return a=>{e.forEach(t=>G(t,a))}}function A(e,a,t){let{isDisabled:l=!1,isReadOnly:s=!1,value:i,name:c,form:d,children:u,"aria-label":U,"aria-labelledby":V,validationState:b="valid",isInvalid:$,onPressStart:S,onPressEnd:v,onPressChange:P,onPress:n,onPressUp:g,onClick:p}=e,m=r=>{r.stopPropagation(),a.setSelected(r.target.checked)},{pressProps:h,isPressed:y}=x({onPressStart:S,onPressEnd:v,onPressChange:P,onPress:n,onPressUp:g,onClick:p,isDisabled:l}),{pressProps:C,isPressed:R}=x({onPressStart:S,onPressEnd:v,onPressChange:P,onPressUp:g,onClick:p,onPress(r){var o;n?.(r),a.toggle(),(o=t.current)===null||o===void 0||o.focus()},isDisabled:l||s}),{focusableProps:k}=L(e,t),D=f(h,k),E=O(e,{labelable:!0});return I(t,a.defaultSelected,a.setSelected),{labelProps:f(C,{onClick:r=>r.preventDefault()}),inputProps:f(E,{"aria-invalid":$||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":s||void 0,onChange:m,disabled:l,...i==null?{}:{value:i},name:c,form:d,type:"checkbox",...D}),isSelected:a.isSelected,isPressed:y||R,isDisabled:l,isReadOnly:s,isInvalid:$||b==="invalid"}}function B(e={}){let{isReadOnly:a}=e,[t,l]=F(e.isSelected,e.defaultSelected||!1,e.onChange),[s]=w.useState(t);function i(u){a||l(u)}function c(){a||l(!t)}var d;return{isSelected:t,defaultSelected:(d=e.defaultSelected)!==null&&d!==void 0?d:s,setSelected:i,toggle:c}}export{A as $,B as a,z as m};
